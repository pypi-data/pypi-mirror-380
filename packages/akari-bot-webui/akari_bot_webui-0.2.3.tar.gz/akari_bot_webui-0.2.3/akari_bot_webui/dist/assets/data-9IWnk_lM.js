import{_ as R,aA as v,L as y,aB as T,u as K,c as D,e as l,w as a,a as i,z as L,d as u,t as d,E as N,J as j,ay as J,h as f,v as C,K as $,o as r,F as E,x as P,az as re,i as ue}from"./index-DwK6nicl.js";import{E as W,a as q}from"./form-item-CgAmvyG5.js";import{E as G}from"./row-DVXrt5l6.js";import{E as H}from"./col-DQe0mZbm.js";/* empty css               */import{E as X}from"./card-DqJ21fab.js";import{E as Y,a as Z,b as x}from"./table-column-DaFxstrl.js";import{E as ee,a as te,d as le}from"./select-CMnOw6n-.js";import{E as ae}from"./popover-SE8svv0X.js";import{E as se}from"./index-Dl632OnM.js";import{E as ne}from"./index-C3T7n_wY.js";import{E as me}from"./index-Ce6Nh-o5.js";/* empty css                     */import"./_baseClone-wsxSxl3U.js";import"./raf-3ZCPvyU6.js";import"./validator-Hg6w7Bpp.js";const pe={name:"UserManager",data(){const{t:e}=K();return{editForm:{sender_id:"",warns:0,petal:0,superuser:!1,trusted:!1,blocked:!1,sender_data:{}},senderList:[],editDialogVisible:!1,selectedPrefix:"",selectedStatus:"",platformIdPart:"",senderDataString:"",currentPage:1,pageSize:20,totalItems:0,debounceTimer:null,loading:!1,abortController:new AbortController,t:e}},mounted(){this.refreshData()},beforeUnmount(){this.abortController.abort()},methods:{debouncedRefresh(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.refreshData()},500)},async refreshData(){this.currentPage=1,await this.fetchData()},async fetchData(){this.loading=!0;try{const e=await v.get("/api/sender",{signal:this.abortController.signal,params:{prefix:this.selectedPrefix||void 0,status:this.selectedStatus||void 0,id:this.platformIdPart||void 0,page:this.currentPage,size:this.pageSize}});e.status===200&&(this.senderList=e.data.sender_list,this.totalItems=e.data.total||0)}catch(e){v.isCancel(e)?console.log("Request canceled"):y.error(this.t("message.error.fetch")+e)}finally{this.loading=!1}},handlePageChange(e){this.currentPage=e,this.fetchData()},handleSuperUserChange(e){e&&(this.editForm.trusted=!1,this.editForm.blocked=!1)},handleTrustedChange(e){e&&(this.editForm.superuser=!1,this.editForm.blocked=!1)},handleBlockedChange(e){e&&(this.editForm.superuser=!1,this.editForm.trusted=!1)},editSender(e){Object.assign(this.editForm,{sender_id:e.sender_id,superuser:e.superuser,trusted:e.trusted,blocked:e.blocked,warns:e.warns,petal:e.petal,sender_data:e.sender_data?{...e.sender_data}:{}}),this.senderDataString=JSON.stringify(this.editForm.sender_data,null,2),this.editDialogVisible=!0},async submitEdit(){let e={};try{e=JSON.parse(this.senderDataString)}catch{y.error(this.t("data.message.invalid_json"))}const{sender_id:t,...w}=this.editForm;w.sender_data=e;try{await v.patch(`/api/sender/${t}`,w),y.success(this.t("data.message.success.edit")),this.editDialogVisible=!1,this.fetchData()}catch(b){b.response?.status===403&&T||y.error(this.t("message.error.fetch")+b.message)}},confirmDelete(e){se.confirm(this.t("data.user.confirm.message",{sender_id:e.sender_id}),this.t("confirm.warning"),{confirmButtonText:this.t("button.confirm"),cancelButtonText:this.t("button.cancel"),type:"warning"}).then(()=>{this.deleteSender(e)}).catch(()=>{})},async deleteSender(e){try{await v.post(`/api/sender/${e.sender_id}/delete`),y.success(this.t("data.message.success.delete")),this.fetchData()}catch(t){t.response?.status===403&&T||y.error(this.t("message.error.fetch")+t.message)}}}},fe={class:"header-container"},ce={class:"filter-container"},ge={class:"filter-item"},be={class:"filter-item"},_e={class:"filter-item"},he={class:"pagination-wrapper"};function ye(e,t,w,b,s,p){const c=N,m=te,V=ee,F=j,g=Y,k=le,z=ae,B=Z,M=x,S=X,U=ne,_=q,h=H,I=me,O=G,Q=W,A=$,n=J;return r(),D("div",null,[l(S,{class:"user-card",shadow:"never"},{default:a(()=>[i("div",fe,[i("h3",null,[t[12]||(t[12]=i("i",{class:"mdi mdi-account"},null,-1)),u(" "+d(e.$t("data.user.title")),1)]),l(c,{onClick:p.refreshData,type:"primary",size:"small",disabled:s.loading,style:{float:"right","margin-left":"10px"}},{default:a(()=>[t[13]||(t[13]=i("i",{class:"mdi mdi-refresh"},null,-1)),u(" "+d(e.$t("button.refresh")),1)]),_:1},8,["onClick","disabled"])]),i("div",ce,[i("div",ge,[l(V,{modelValue:s.selectedPrefix,"onUpdate:modelValue":t[0]||(t[0]=o=>s.selectedPrefix=o),clearable:"",placeholder:e.$t("data.select.prefix"),onChange:p.debouncedRefresh},{default:a(()=>[l(m,{label:"QQ",value:"QQ"}),l(m,{label:"QQBot",value:"QQBot"}),l(m,{label:"Discord",value:"Discord"}),l(m,{label:"Telegram",value:"Telegram"}),l(m,{label:"KOOK",value:"KOOK"}),l(m,{label:"Matrix",value:"Matrix"}),l(m,{label:"Web",value:"Web"})]),_:1},8,["modelValue","placeholder","onChange"])]),i("div",be,[l(V,{modelValue:s.selectedStatus,"onUpdate:modelValue":t[1]||(t[1]=o=>s.selectedStatus=o),clearable:"",placeholder:e.$t("data.select.status"),onChange:p.debouncedRefresh},{default:a(()=>[l(m,{label:e.$t("data.user.tag.superuser"),value:"superuser"},null,8,["label"]),l(m,{label:e.$t("data.user.tag.trusted"),value:"trusted"},null,8,["label"]),l(m,{label:e.$t("data.user.tag.blocked"),value:"blocked"},null,8,["label"])]),_:1},8,["modelValue","placeholder","onChange"])]),i("div",_e,[l(F,{modelValue:s.platformIdPart,"onUpdate:modelValue":t[2]||(t[2]=o=>s.platformIdPart=o),placeholder:e.$t("data.user.input.sender_id"),onInput:p.debouncedRefresh},{prefix:a(()=>[...t[14]||(t[14]=[i("i",{class:"mdi mdi-magnify"},null,-1)])]),_:1},8,["modelValue","placeholder","onInput"])])]),L((r(),f(B,{data:s.senderList,style:{width:"100%"},stripe:""},{default:a(()=>[l(g,{prop:"sender_id",label:e.$t("data.user.table.sender_id"),sortable:"","min-width":"140"},null,8,["label"]),l(g,{prop:"warns",label:e.$t("data.user.table.warns"),sortable:"","min-width":"140"},null,8,["label"]),l(g,{prop:"petal",label:e.$t("data.user.table.petal"),sortable:"","min-width":"140"},null,8,["label"]),l(g,{label:e.$t("data.table.status"),"min-width":"180"},{default:a(({row:o})=>[o.superuser?(r(),f(k,{key:0,type:"primary"},{default:a(()=>[u(d(e.$t("data.user.tag.superuser")),1)]),_:1})):C("",!0),o.trusted?(r(),f(k,{key:1,type:"success",style:{"margin-left":"5px"}},{default:a(()=>[u(d(e.$t("data.user.tag.trusted")),1)]),_:1})):C("",!0),o.blocked?(r(),f(k,{key:2,type:"danger",style:{"margin-left":"5px"}},{default:a(()=>[u(d(e.$t("data.user.tag.blocked")),1)]),_:1})):C("",!0)]),_:1},8,["label"]),l(g,{label:e.$t("data.user.table.sender_data"),"min-width":"140"},{default:a(({row:o})=>[l(z,{placement:"top",width:"300","hide-after":0,trigger:["hover","click"]},{reference:a(()=>[l(c,{size:"mini",type:"text"},{default:a(()=>[u(d(e.$t("data.table.text.detail")),1)]),_:1})]),default:a(()=>[i("pre",null,d(JSON.stringify(o.sender_data,null,2)),1)]),_:2},1024)]),_:1},8,["label"]),l(g,{label:e.$t("table.operation"),"min-width":"240"},{default:a(({row:o})=>[l(c,{size:"small",type:"warning",onClick:de=>p.editSender(o)},{default:a(()=>[t[15]||(t[15]=i("i",{class:"mdi mdi-pencil"},null,-1)),u(" "+d(e.$t("button.edit")),1)]),_:1},8,["onClick"]),l(c,{size:"small",type:"danger",onClick:de=>p.confirmDelete(o)},{default:a(()=>[t[16]||(t[16]=i("i",{class:"mdi mdi-delete"},null,-1)),u(" "+d(e.$t("button.delete")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[n,s.loading]]),i("div",he,[s.totalItems>0?(r(),f(M,{key:0,background:"",layout:"prev, pager, next","current-page":s.currentPage,"onUpdate:currentPage":t[3]||(t[3]=o=>s.currentPage=o),"page-size":s.pageSize,total:s.totalItems,style:{"margin-top":"20px"},onCurrentChange:p.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])):C("",!0)])]),_:1}),l(A,{modelValue:s.editDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=o=>s.editDialogVisible=o),title:e.$t("data.user.title.edit_sender_data"),"close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},{footer:a(()=>[l(c,{onClick:t[10]||(t[10]=o=>s.editDialogVisible=!1)},{default:a(()=>[u(d(e.$t("button.cancel")),1)]),_:1}),l(c,{type:"primary",onClick:p.submitEdit},{default:a(()=>[u(d(e.$t("button.save")),1)]),_:1},8,["onClick"])]),default:a(()=>[l(Q,{model:s.editForm,"label-width":"auto"},{default:a(()=>[l(O,{gutter:24},{default:a(()=>[l(h,{span:6},{default:a(()=>[l(_,{label:e.$t("data.user.table.superuser")},{default:a(()=>[l(U,{modelValue:s.editForm.superuser,"onUpdate:modelValue":t[4]||(t[4]=o=>s.editForm.superuser=o),onChange:p.handleSuperUserChange},null,8,["modelValue","onChange"])]),_:1},8,["label"])]),_:1}),l(h,{span:6},{default:a(()=>[l(_,{label:e.$t("data.user.table.trust")},{default:a(()=>[l(U,{modelValue:s.editForm.trusted,"onUpdate:modelValue":t[5]||(t[5]=o=>s.editForm.trusted=o),onChange:p.handleTrustedChange},null,8,["modelValue","onChange"])]),_:1},8,["label"])]),_:1}),l(h,{span:6},{default:a(()=>[l(_,{label:e.$t("data.user.table.block")},{default:a(()=>[l(U,{modelValue:s.editForm.blocked,"onUpdate:modelValue":t[6]||(t[6]=o=>s.editForm.blocked=o),onChange:p.handleBlockedChange},null,8,["modelValue","onChange"])]),_:1},8,["label"])]),_:1}),l(h,{span:18},{default:a(()=>[l(_,{label:e.$t("data.user.table.warns")},{default:a(()=>[l(I,{modelValue:s.editForm.warns,"onUpdate:modelValue":t[7]||(t[7]=o=>s.editForm.warns=o),min:0},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(h,{span:18},{default:a(()=>[l(_,{label:e.$t("data.user.table.petal")},{default:a(()=>[l(I,{modelValue:s.editForm.petal,"onUpdate:modelValue":t[8]||(t[8]=o=>s.editForm.petal=o)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(h,{span:24},{default:a(()=>[l(_,{label:e.$t("data.user.table.sender_data")},{default:a(()=>[l(F,{type:"textarea",resize:"none",modelValue:s.senderDataString,"onUpdate:modelValue":t[9]||(t[9]=o=>s.senderDataString=o),rows:6,placeholder:e.$t("data.input.json_data")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}const oe=R(pe,[["render",ye],["__scopeId","data-v-a91a932e"]]),Ve={name:"SessionManager",data(){const{t:e}=K();return{editForm:{target_id:"",locale:"",muted:!1,blocked:!1,modules:[],custom_admins:[],banned_users:[],target_data:{}},targetList:[],moduleDialogVisible:!1,adminDialogVisible:!1,bannedDialogVisible:!1,editDialogVisible:!1,selectedAdmins:[],selectedBanned:[],allModules:[],selectedModules:[],selectedPrefix:"",selectedStatus:"",platformIdPart:"",targetDataString:"",debounceTimer:null,currentPage:1,pageSize:20,totalItems:0,loading:!1,abortController:new AbortController,t:e}},mounted(){this.refreshData()},beforeUnmount(){this.abortController.abort()},methods:{debouncedRefresh(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.refreshData()},500)},async refreshData(){this.currentPage=1,await this.fetchData(),this.fetchAllModules()},viewModules(e){this.selectedModules=e.modules,this.moduleDialogVisible=!0},async fetchData(){this.loading=!0;try{const e=await v.get("/api/target",{signal:this.abortController.signal,params:{prefix:this.selectedPrefix||void 0,status:this.selectedStatus||void 0,id:this.platformIdPart||void 0,page:this.currentPage,size:this.pageSize}});e.status===200&&(this.targetList=e.data.target_list.map(t=>(t.modules=Array.isArray(t.modules)?t.modules:[],t.custom_admins=Array.isArray(t.custom_admins)?t.custom_admins:[],t)),this.totalItems=e.data.total||0)}catch(e){v.isCancel(e)?console.log("Request canceled"):y.error(this.t("message.error.fetch")+e)}finally{this.loading=!1}},async fetchAllModules(){try{const e=await v.get("/api/modules_list");e.status===200&&e.data.modules&&(this.allModules=Object.values(e.data.modules))}catch(e){v.isCancel(e)?console.log("Request canceled"):y.error(this.t("message.error.fetch")+e)}},handlePageChange(e){this.currentPage=e,this.fetchData()},viewAdmins(e){this.selectedAdmins=e.custom_admins||[],this.adminDialogVisible=!0},viewBanned(e){this.selectedBanned=e.banned_users||[],this.bannedDialogVisible=!0},editTarget(e){Object.assign(this.editForm,{target_id:e.target_id,locale:e.locale,muted:e.muted,blocked:e.blocked,modules:e.modules?[...e.modules]:[],custom_admins:e.custom_admins?[...e.custom_admins]:[],banned_users:e.banned_users?[...e.banned_users]:[],target_data:e.target_data?{...e.target_data}:{}}),this.targetDataString=JSON.stringify(this.editForm.target_data,null,2),this.editDialogVisible=!0},async submitEdit(){let e={};try{e=JSON.parse(this.targetDataString)}catch{y.error(this.t("data.message.invalid_json"))}const{target_id:t,...w}=this.editForm;w.target_data=e;try{await v.patch(`/api/target/${t}`,w),y.success(this.t("data.message.success.edit")),this.editDialogVisible=!1,this.fetchData()}catch(b){b.response?.status===403&&T||y.error(this.t("message.error.fetch")+b.message)}},confirmDelete(e){se.confirm(this.t("data.session.confirm.message",{target_id:e.target_id}),this.t("confirm.warning"),{confirmButtonText:this.t("button.confirm"),cancelButtonText:this.t("button.cancel"),type:"warning"}).then(()=>{this.deleteTarget(e)}).catch(()=>{})},async deleteTarget(e){try{await v.post(`/api/target/${e.target_id}/delete`),y.success(this.t("data.message.success.delete")),this.fetchData()}catch(t){t.response?.status===403&&T||y.error(this.t("message.error.fetch")+t.message)}}}},ve={class:"header-container"},Ce={class:"filter-container"},ke={class:"filter-item"},De={class:"filter-item"},we={class:"filter-item"},Fe={class:"pagination-wrapper"},Se={class:"tag-container"},Ee={class:"tag-container"},Pe={class:"tag-container"};function Ue(e,t,w,b,s,p){const c=N,m=te,V=ee,F=j,g=Y,k=le,z=ae,B=Z,M=x,S=$,U=X,_=q,h=H,I=ne,O=G,Q=W,A=J;return r(),D("div",null,[l(U,{class:"session-card",shadow:"never"},{default:a(()=>[i("div",ve,[i("h3",null,[t[16]||(t[16]=i("i",{class:"mdi mdi-forum"},null,-1)),u(" "+d(e.$t("data.session.title")),1)]),l(c,{onClick:p.refreshData,type:"primary",size:"small",disabled:s.loading,style:{float:"right","margin-left":"10px"}},{default:a(()=>[t[17]||(t[17]=i("i",{class:"mdi mdi-refresh"},null,-1)),u(" "+d(e.$t("button.refresh")),1)]),_:1},8,["onClick","disabled"])]),i("div",Ce,[i("div",ke,[l(V,{modelValue:s.selectedPrefix,"onUpdate:modelValue":t[0]||(t[0]=n=>s.selectedPrefix=n),clearable:"",placeholder:e.$t("data.select.prefix"),onChange:p.debouncedRefresh},{default:a(()=>[l(m,{label:"QQ",value:"QQ"}),l(m,{label:"QQBot",value:"QQBot"}),l(m,{label:"Discord",value:"Discord"}),l(m,{label:"Telegram",value:"Telegram"}),l(m,{label:"KOOK",value:"KOOK"}),l(m,{label:"Matrix",value:"Matrix"}),l(m,{label:"Web",value:"Web"})]),_:1},8,["modelValue","placeholder","onChange"])]),i("div",De,[l(V,{modelValue:s.selectedStatus,"onUpdate:modelValue":t[1]||(t[1]=n=>s.selectedStatus=n),clearable:"",placeholder:e.$t("data.select.status"),onChange:p.debouncedRefresh},{default:a(()=>[l(m,{label:e.$t("data.session.tag.muted"),value:"muted"},null,8,["label"]),l(m,{label:e.$t("data.session.tag.blocked"),value:"blocked"},null,8,["label"])]),_:1},8,["modelValue","placeholder","onChange"])]),i("div",we,[l(F,{modelValue:s.platformIdPart,"onUpdate:modelValue":t[2]||(t[2]=n=>s.platformIdPart=n),placeholder:e.$t("data.session.input.target_id"),onInput:p.debouncedRefresh},{prefix:a(()=>[...t[18]||(t[18]=[i("i",{class:"mdi mdi-magnify"},null,-1)])]),_:1},8,["modelValue","placeholder","onInput"])])]),L((r(),f(B,{data:s.targetList,style:{width:"100%"},stripe:""},{default:a(()=>[l(g,{prop:"target_id",label:e.$t("data.session.table.target_id"),sortable:"","min-width":"140"},null,8,["label"]),l(g,{prop:"locale",label:e.$t("data.session.table.locale"),sortable:"","min-width":"100"},null,8,["label"]),l(g,{prop:"modules",label:e.$t("data.session.table.modules"),"min-width":"160"},{default:a(({row:n})=>[u(d(n.modules.length)+" ",1),n.modules.length>0?(r(),f(c,{key:0,size:"small",type:"primary",style:{"margin-left":"5px"},onClick:o=>p.viewModules(n)},{default:a(()=>[t[19]||(t[19]=i("i",{class:"mdi mdi-eye"},null,-1)),u(" "+d(e.$t("data.button.view")),1)]),_:1},8,["onClick"])):C("",!0)]),_:1},8,["label"]),l(g,{label:e.$t("data.session.table.custom_admins"),"min-width":"160"},{default:a(({row:n})=>[u(d(n.custom_admins.length)+" ",1),n.custom_admins.length>0?(r(),f(c,{key:0,size:"small",type:"primary",style:{"margin-left":"5px"},onClick:o=>p.viewAdmins(n)},{default:a(()=>[t[20]||(t[20]=i("i",{class:"mdi mdi-eye"},null,-1)),u(" "+d(e.$t("data.button.view")),1)]),_:1},8,["onClick"])):C("",!0)]),_:1},8,["label"]),l(g,{label:e.$t("data.session.table.banned_users"),"min-width":"160"},{default:a(({row:n})=>[u(d(n.banned_users.length)+" ",1),n.banned_users.length>0?(r(),f(c,{key:0,size:"small",type:"primary",style:{"margin-left":"5px"},onClick:o=>p.viewBanned(n)},{default:a(()=>[t[21]||(t[21]=i("i",{class:"mdi mdi-eye"},null,-1)),u(" "+d(e.$t("data.button.view")),1)]),_:1},8,["onClick"])):C("",!0)]),_:1},8,["label"]),l(g,{label:e.$t("data.table.status"),"min-width":"220"},{default:a(({row:n})=>[n.muted?(r(),f(k,{key:0,type:"warning"},{default:a(()=>[u(d(e.$t("data.session.tag.muted")),1)]),_:1})):C("",!0),n.blocked?(r(),f(k,{key:1,type:"danger",style:{"margin-left":"5px"}},{default:a(()=>[u(d(e.$t("data.session.tag.blocked")),1)]),_:1})):C("",!0)]),_:1},8,["label"]),l(g,{label:e.$t("data.session.table.target_data"),"min-width":"140"},{default:a(({row:n})=>[l(z,{placement:"top",width:"300","hide-after":0,trigger:["hover","click"]},{reference:a(()=>[l(c,{size:"mini",type:"text"},{default:a(()=>[u(d(e.$t("data.table.text.detail")),1)]),_:1})]),default:a(()=>[i("pre",null,d(JSON.stringify(n.target_data,null,2)),1)]),_:2},1024)]),_:1},8,["label"]),l(g,{label:e.$t("table.operation"),"min-width":"240"},{default:a(({row:n})=>[l(c,{size:"small",type:"warning",onClick:o=>p.editTarget(n)},{default:a(()=>[t[22]||(t[22]=i("i",{class:"mdi mdi-pencil"},null,-1)),u(" "+d(e.$t("button.edit")),1)]),_:1},8,["onClick"]),l(c,{size:"small",type:"danger",onClick:o=>p.confirmDelete(n)},{default:a(()=>[t[23]||(t[23]=i("i",{class:"mdi mdi-delete"},null,-1)),u(" "+d(e.$t("button.delete")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[A,s.loading]]),i("div",Fe,[s.totalItems>0?(r(),f(M,{key:0,background:"",layout:"prev, pager, next","current-page":s.currentPage,"onUpdate:currentPage":t[3]||(t[3]=n=>s.currentPage=n),"page-size":s.pageSize,total:s.totalItems,style:{"margin-top":"20px"},onCurrentChange:p.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])):C("",!0)]),l(S,{modelValue:s.moduleDialogVisible,"onUpdate:modelValue":t[4]||(t[4]=n=>s.moduleDialogVisible=n),title:e.$t("data.session.table.modules")},{default:a(()=>[i("div",Se,[(r(!0),D(E,null,P(s.selectedModules,n=>(r(),f(k,{key:n,style:{margin:"4px"},type:"info",round:""},{default:a(()=>[u(d(n),1)]),_:2},1024))),128))])]),_:1},8,["modelValue","title"]),l(S,{modelValue:s.adminDialogVisible,"onUpdate:modelValue":t[5]||(t[5]=n=>s.adminDialogVisible=n),title:e.$t("data.session.table.custom_admins")},{default:a(()=>[i("div",Ee,[(r(!0),D(E,null,P(s.selectedAdmins,n=>(r(),f(k,{key:n,style:{margin:"4px"},type:"info",round:""},{default:a(()=>[u(d(n),1)]),_:2},1024))),128))])]),_:1},8,["modelValue","title"]),l(S,{modelValue:s.bannedDialogVisible,"onUpdate:modelValue":t[6]||(t[6]=n=>s.bannedDialogVisible=n),title:e.$t("data.session.table.banned_users")},{default:a(()=>[i("div",Pe,[(r(!0),D(E,null,P(s.selectedBanned,n=>(r(),f(k,{key:n,style:{margin:"4px"},type:"info",round:""},{default:a(()=>[u(d(n),1)]),_:2},1024))),128))])]),_:1},8,["modelValue","title"])]),_:1}),l(S,{modelValue:s.editDialogVisible,"onUpdate:modelValue":t[15]||(t[15]=n=>s.editDialogVisible=n),title:e.$t("data.session.title.edit_target_data"),"close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px"},{footer:a(()=>[l(c,{onClick:t[14]||(t[14]=n=>s.editDialogVisible=!1)},{default:a(()=>[u(d(e.$t("button.cancel")),1)]),_:1}),l(c,{type:"primary",onClick:p.submitEdit},{default:a(()=>[u(d(e.$t("button.save")),1)]),_:1},8,["onClick"])]),default:a(()=>[l(Q,{model:s.editForm,"label-width":"auto"},{default:a(()=>[l(h,{span:12},{default:a(()=>[l(_,{label:e.$t("data.session.table.locale")},{default:a(()=>[l(F,{modelValue:s.editForm.locale,"onUpdate:modelValue":t[7]||(t[7]=n=>s.editForm.locale=n)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(O,{gutter:24},{default:a(()=>[l(h,{span:6},{default:a(()=>[l(_,{label:e.$t("data.session.table.mute")},{default:a(()=>[l(I,{modelValue:s.editForm.muted,"onUpdate:modelValue":t[8]||(t[8]=n=>s.editForm.muted=n)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(h,{span:6},{default:a(()=>[l(_,{label:e.$t("data.session.table.block")},{default:a(()=>[l(I,{modelValue:s.editForm.blocked,"onUpdate:modelValue":t[9]||(t[9]=n=>s.editForm.blocked=n)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(h,{span:24},{default:a(()=>[l(_,{label:e.$t("data.session.table.modules_list")},{default:a(()=>[l(V,{modelValue:s.editForm.modules,"onUpdate:modelValue":t[10]||(t[10]=n=>s.editForm.modules=n),multiple:"",filterable:"","allow-create":"",placeholder:e.$t("data.session.input.modules"),style:{width:"100%"}},{default:a(()=>[(r(!0),D(E,null,P(s.allModules,n=>(r(),f(m,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(h,{span:24},{default:a(()=>[l(_,{label:e.$t("data.session.table.custom_admins")},{default:a(()=>[l(V,{modelValue:s.editForm.custom_admins,"onUpdate:modelValue":t[11]||(t[11]=n=>s.editForm.custom_admins=n),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:e.$t("data.session.input.custom_admins"),style:{width:"100%"}},{default:a(()=>[(r(!0),D(E,null,P(s.editForm.custom_admins,n=>(r(),f(m,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(h,{span:24},{default:a(()=>[l(_,{label:e.$t("data.session.table.banned_users")},{default:a(()=>[l(V,{modelValue:s.editForm.banned_users,"onUpdate:modelValue":t[12]||(t[12]=n=>s.editForm.banned_users=n),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:e.$t("data.session.input.banned_users"),style:{width:"100%"}},{default:a(()=>[(r(!0),D(E,null,P(s.editForm.banned_users,n=>(r(),f(m,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(h,{span:24},{default:a(()=>[l(_,{label:e.$t("data.session.table.target_data")},{default:a(()=>[l(F,{type:"textarea",resize:"none",modelValue:s.targetDataString,"onUpdate:modelValue":t[13]||(t[13]=n=>s.targetDataString=n),rows:6,placeholder:e.$t("data.input.json_data")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}const ie=R(Ve,[["render",Ue],["__scopeId","data-v-b6cc8c2c"]]),Ie={name:"DataPage",components:{SessionManager:ie,UserManager:oe},setup(){return{activeCard:ue("session")}}};function Te(e,t,w,b,s,p){const c=N,m=re,V=ie,F=oe;return r(),D("div",null,[l(m,{class:"active-button-group"},{default:a(()=>[l(c,{type:b.activeCard==="session"?"primary":"default",onClick:t[0]||(t[0]=g=>b.activeCard="session")},{default:a(()=>[...t[2]||(t[2]=[i("i",{class:"mdi mdi-forum"},null,-1)])]),_:1},8,["type"]),l(c,{type:b.activeCard==="user"?"primary":"default",onClick:t[1]||(t[1]=g=>b.activeCard="user")},{default:a(()=>[...t[3]||(t[3]=[i("i",{class:"mdi mdi-account"},null,-1)])]),_:1},8,["type"])]),_:1}),b.activeCard==="session"?(r(),f(V,{key:0})):(r(),f(F,{key:1}))])}const He=R(Ie,[["render",Te],["__scopeId","data-v-5aee92a8"]]);export{He as default};
