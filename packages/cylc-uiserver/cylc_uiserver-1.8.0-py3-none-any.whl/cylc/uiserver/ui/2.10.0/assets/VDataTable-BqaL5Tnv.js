import{cI as rt,bS as I,cm as M,q as w,ap as de,cJ as we,cK as se,cL as W,cM as z,bR as K,cN as te,bX as U,z as y,g as x,A as ke,bJ as A,c2 as G,cO as st,bZ as O,az as Z,aj as L,cP as ot,cQ as ut,cR as it,cS as dt,cT as F,cU as oe,cV as De,cW as Y,cX as J,cY as ct,bU as ft,bW as ce,cZ as gt,F as j,c_ as vt,c$ as fe,cE as ge,D as me,bi as mt,bL as ht,B as Ie,l as he,d0 as ue,d1 as Q,t as bt,d2 as X,ao as yt,d3 as pt,d4 as xt,bh as be,d5 as St,d6 as Pt,L as wt}from"./index-jbzX_AXb.js";import{V as ye}from"./VPagination-C84GdNtS.js";function pe(e,t,l){return Object.keys(e).filter(a=>rt(a)&&a.endsWith(t)).reduce((a,n)=>(a[n.slice(0,-t.length)]=r=>e[n](r,l(r)),a),{})}const kt=I({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Te=Symbol.for("vuetify:data-table-pagination");function Dt(e){const t=M(e,"page",void 0,a=>Number(a??1)),l=M(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:l}}function It(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=w(()=>l.value===-1?0:l.value*(t.value-1)),r=w(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),s=w(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));de([t,s],()=>{t.value>s.value&&(t.value=s.value)});function i(d){l.value=d,t.value=1}function o(){t.value=se(t.value+1,1,s.value)}function u(){t.value=se(t.value-1,1,s.value)}function f(d){t.value=se(d,1,s.value)}const g={page:t,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:s,itemsLength:a,nextPage:o,prevPage:u,setPage:f,setItemsPerPage:i};return z(Te,g),g}function Tt(){const e=W(Te);if(!e)throw new Error("Missing pagination!");return e}function Vt(e){const t=we("usePaginatedItems"),{items:l,startIndex:a,stopIndex:n,itemsPerPage:r}=e,s=w(()=>r.value<=0?l.value:l.value.slice(a.value,n.value));return de(s,i=>{t.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:s}}const Ve=I({prevIcon:{type:G,default:"$prev"},nextIcon:{type:G,default:"$next"},firstIcon:{type:G,default:"$first"},lastIcon:{type:G,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),xe=K()({name:"VDataTableFooter",props:Ve(),setup(e,t){let{slots:l}=t;const{t:a}=te(),{page:n,pageCount:r,startIndex:s,stopIndex:i,itemsLength:o,itemsPerPage:u,setItemsPerPage:f}=Tt(),g=w(()=>e.itemsPerPageOptions.map(d=>typeof d=="number"?{value:d,title:d===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(d)}:{...d,title:isNaN(Number(d.title))?a(d.title):d.title}));return U(()=>{const d=ye.filterProps(e);return y("div",{class:"v-data-table-footer"},[l.prepend?.(),y("div",{class:"v-data-table-footer__items-per-page"},[y("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),x(ke,{items:g.value,modelValue:u.value,"onUpdate:modelValue":m=>f(Number(m)),density:"compact",variant:"outlined",hideDetails:!0},null)]),y("div",{class:"v-data-table-footer__info"},[y("div",null,[a(e.pageText,o.value?s.value+1:0,i.value,o.value)])]),y("div",{class:"v-data-table-footer__pagination"},[x(ye,A({modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},d),null)])])}),{}}}),ee=st({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:l}=t;const a=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return x(a,{class:Z(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:O(e.height),width:O(e.width),maxWidth:O(e.maxWidth),left:n==="start"?O(e.fixedOffset||null):void 0,right:n==="end"?O(e.fixedEndOffset||null):void 0}},{default:()=>[l.default?.()]})}),Ft=I({headers:Array},"DataTable-header"),Fe=Symbol.for("vuetify:data-table-headers"),Ce={title:"",sortable:!1},Ct={...Ce,width:48};function Bt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,a)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>a){t.splice(r,0,{element:l,priority:a}),n=!0;break}n||t.push({element:l,priority:a})},size:()=>t.length,count:()=>{let l=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===a&&(l+=1);return l},dequeue:()=>t.shift()}}function ie(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const l of e.children)ie(l,t);return t}function Be(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&t.add(l.key),l.children&&Be(l.children,t);return t}function _t(e){if(e.key){if(e.key==="data-table-group")return Ce;if(["data-table-expand","data-table-select"].includes(e.key))return Ct}}function ve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(l=>ve(l,t+1))):t}function Ot(e){let t=!1;function l(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===s)if(r.children)if(s==="start")for(let o=r.children.length-1;o>=0;o--)l(r.children[o],s,s);else for(let o=0;o<r.children.length;o++)l(r.children[o],s,s);else!t&&s==="start"?r.lastFixed=!0:!t&&s==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?it(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(s==="start")for(let o=r.children.length-1;o>=0;o--)l(r.children[o],s);else for(let o=0;o<r.children.length;o++)l(r.children[o],s);else t=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let a=0;for(let r=0;r<e.length;r++)a=_e(e[r],a);let n=0;for(let r=e.length-1;r>=0;r--)n=Oe(e[r],n)}function _e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const l of e.children)t=_e(l,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Oe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const l of e.children)t=Oe(l,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Et(e,t){const l=[];let a=0;const n=Bt(e);for(;n.size()>0;){let s=n.count();const i=[];let o=1;for(;s>0;){const{element:u,priority:f}=n.dequeue(),g=t-a-ve(u);if(i.push({...u,rowspan:g??1,colspan:u.children?ie(u).length:1}),u.children)for(const d of u.children){const m=f%1+o/Math.pow(10,a+2);n.enqueue(d,a+g+m)}o+=1,s-=1}a+=1,l.push(i)}return{columns:e.map(s=>ie(s)).flat(),headers:l}}function Ee(e){const t=[];for(const l of e){const a={..._t(l),...l},n=a.key??(typeof a.value=="string"?a.value:null),r=a.value??n??null,s={...a,key:n,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?Ee(a.children):void 0};t.push(s)}return t}function At(e,t){const l=L([]),a=L([]),n=L({}),r=L({}),s=L({});ot(()=>{const u=(e.headers||Object.keys(e.items[0]??{}).map(b=>({key:b,title:ut(b)}))).slice(),f=Be(u);t?.groupBy?.value.length&&!f.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!f.has("data-table-select")&&u.unshift({key:"data-table-select"}),t?.showExpand?.value&&!f.has("data-table-expand")&&u.push({key:"data-table-expand"});const g=Ee(u);Ot(g);const d=Math.max(...g.map(b=>ve(b)))+1,m=Et(g,d);l.value=m.headers,a.value=m.columns;const p=m.headers.flat(1);for(const b of p)b.key&&(b.sortable&&(b.sort&&(n.value[b.key]=b.sort),b.sortRaw&&(r.value[b.key]=b.sortRaw)),b.filter&&(s.value[b.key]=b.filter))});const i={headers:l,columns:a,sortFunctions:n,sortRawFunctions:r,filterFunctions:s};return z(Fe,i),i}function ae(){const e=W(Fe);if(!e)throw new Error("Missing headers!");return e}const $t={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:l}=e;return new Set(l?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Ae={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return Ae.select({items:l,value:t,selected:a})}},$e={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l,selected:a}=e;return $e.select({items:l,value:t,selected:a})}},Nt=I({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:De}},"DataTable-select"),Ne=Symbol.for("vuetify:data-table-selection");function Rt(e,t){let{allItems:l,currentPage:a}=t;const n=M(e,"modelValue",e.modelValue,h=>new Set(oe(h).map(S=>l.value.find(V=>e.valueComparator(S,V.value))?.value??S)),h=>[...h.values()]),r=w(()=>l.value.filter(h=>h.selectable)),s=w(()=>a.value.filter(h=>h.selectable)),i=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return $t;case"all":return $e;case"page":default:return Ae}}),o=dt(null);function u(h){return oe(h).every(S=>n.value.has(S.value))}function f(h){return oe(h).some(S=>n.value.has(S.value))}function g(h,S){const V=i.value.select({items:h,value:S,selected:new Set(n.value)});n.value=V}function d(h,S,V){const k=[];if(S=S??a.value.findIndex(C=>C.value===h.value),e.selectStrategy!=="single"&&V?.shiftKey&&o.value!==null){const[C,N]=[o.value,S].sort((E,P)=>E-P);k.push(...a.value.slice(C,N+1).filter(E=>E.selectable))}else k.push(h),o.value=S;g(k,!u([h]))}function m(h){const S=i.value.selectAll({value:h,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=S}const p=w(()=>n.value.size>0),b=w(()=>{const h=i.value.allSelected({allItems:r.value,currentPage:s.value});return!!h.length&&u(h)}),c=F(()=>i.value.showSelectAll),T={toggleSelect:d,select:g,selectAll:m,isSelected:u,isSomeSelected:f,someSelected:p,allSelected:b,showSelectAll:c,lastSelectedIndex:o,selectStrategy:i};return z(Ne,T),T}function le(){const e=W(Ne);if(!e)throw new Error("Missing selection!");return e}const Ht=I({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Re=Symbol.for("vuetify:data-table-sort");function Lt(e){const t=M(e,"sortBy"),l=F(()=>e.mustSort),a=F(()=>e.multiSort);return{sortBy:t,mustSort:l,multiSort:a}}function Gt(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,r=o=>{if(o.key==null)return;let u=t.value.map(g=>({...g}))??[];const f=u.find(g=>g.key===o.key);f?f.order==="desc"?l.value&&u.length===1?f.order="asc":u=u.filter(g=>g.key!==o.key):f.order="desc":a.value?u.push({key:o.key,order:"asc"}):u=[{key:o.key,order:"asc"}],t.value=u,n&&(n.value=1)};function s(o){return!!t.value.find(u=>u.key===o.key)}const i={sortBy:t,toggleSort:r,isSorted:s};return z(Re,i),i}function He(){const e=W(Re);if(!e)throw new Error("Missing sort!");return e}function Mt(e,t,l,a){const n=te();return{sortedItems:w(()=>l.value.length?jt(t.value,l.value,n.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):t.value)}}function jt(e,t,l,a){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,a?.transform?a.transform(s):s]).sort((s,i)=>{for(let o=0;o<t.length;o++){let u=!1;const f=t[o].key,g=t[o].order??"asc";if(g===!1)continue;let d=Y(s[1],f),m=Y(i[1],f),p=s[0].raw,b=i[0].raw;if(g==="desc"&&([d,m]=[m,d],[p,b]=[b,p]),a?.sortRawFunctions?.[f]){const c=a.sortRawFunctions[f](p,b);if(c==null)continue;if(u=!0,c)return c}if(a?.sortFunctions?.[f]){const c=a.sortFunctions[f](d,m);if(c==null)continue;if(u=!0,c)return c}if(!u&&(d instanceof Date&&m instanceof Date&&(d=d.getTime(),m=m.getTime()),[d,m]=[d,m].map(c=>c!=null?c.toString().toLocaleLowerCase():c),d!==m))return J(d)&&J(m)?0:J(d)?-1:J(m)?1:!isNaN(d)&&!isNaN(m)?Number(d)-Number(m):n.compare(d,m)}return 0}).map(s=>{let[i]=s;return i})}const Le=I({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:G,default:"$sortAsc"},sortDescIcon:{type:G,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...fe(),...vt()},"VDataTableHeaders"),Se=K()({name:"VDataTableHeaders",props:Le(),setup(e,t){let{slots:l}=t;const{t:a}=te(),{toggleSort:n,sortBy:r,isSorted:s}=He(),{someSelected:i,allSelected:o,selectAll:u,showSelectAll:f}=le(),{columns:g,headers:d}=ae(),{loaderClasses:m}=ct(e);function p(P,v){if(!(e.sticky||e.fixedHeader)&&!P.fixed)return;const D=typeof P.fixed=="string"?P.fixed:P.fixed?"start":"none";return{position:"sticky",left:D==="start"?O(P.fixedOffset):void 0,right:D==="end"?O(P.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${v})`:void 0}}function b(P,v){P.key==="Enter"&&!e.disableSort&&n(v)}function c(P){const v=r.value.find(D=>D.key===P.key);return v?v.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:T,backgroundColorStyles:h}=ft(()=>e.color),{displayClasses:S,mobile:V}=ce(e),k=w(()=>({headers:d.value,columns:g.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:i.value,allSelected:o.value,selectAll:u,getSortIcon:c})),C=w(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,m.value]),N=P=>{let{column:v,x:D,y:B}=P;const ne=v.key==="data-table-select"||v.key==="data-table-expand",re=A(e.headerProps??{},v.headerProps??{});return x(ee,A({tag:"th",align:v.align,class:[{"v-data-table__th--sortable":v.sortable&&!e.disableSort,"v-data-table__th--sorted":s(v),"v-data-table__th--fixed":v.fixed},...C.value],style:{width:O(v.width),minWidth:O(v.minWidth),maxWidth:O(v.maxWidth),...p(v,B)},colspan:v.colspan,rowspan:v.rowspan,fixed:v.fixed,nowrap:v.nowrap,lastFixed:v.lastFixed,firstFixedEnd:v.firstFixedEnd,noPadding:ne,tabindex:v.sortable?0:void 0,onClick:v.sortable?()=>n(v):void 0,onKeydown:v.sortable?R=>b(R,v):void 0},re),{default:()=>{const R=`header.${v.key}`,H={column:v,selectAll:u,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:o.value,getSortIcon:c};return l[R]?l[R](H):v.key==="data-table-select"?l["header.data-table-select"]?.(H)??(f.value&&x(ge,{modelValue:o.value,indeterminate:i.value&&!o.value,"onUpdate:modelValue":u},null)):y("div",{class:"v-data-table-header__content"},[y("span",null,[v.title]),v.sortable&&!e.disableSort&&x(me,{key:"icon",class:"v-data-table-header__sort-icon",icon:c(v)},null),e.multiSort&&s(v)&&y("div",{key:"badge",class:Z(["v-data-table-header__sort-badge",...T.value]),style:mt(h.value)},[r.value.findIndex(q=>q.key===v.key)+1])])}})},E=()=>{const P=w(()=>g.value.filter(D=>D?.sortable&&!e.disableSort)),v=w(()=>{if(g.value.find(B=>B.key==="data-table-select")!=null)return o.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return x(ee,A({tag:"th",class:[...C.value],colspan:d.value.length+1},e.headerProps),{default:()=>[y("div",{class:"v-data-table-header__content"},[x(ke,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:P.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:v.value,"onClick:append":()=>u(!o.value)},{chip:D=>x(ht,{onClick:D.item.raw?.sortable?()=>n(D.item.raw):void 0,onMousedown:B=>{B.preventDefault(),B.stopPropagation()}},{default:()=>[D.item.title,x(me,{class:Z(["v-data-table__td-sort-icon",s(D.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:c(D.item.raw),size:"small"},null)]})})])]})};U(()=>V.value?y("tr",null,[x(E,null,null)]):y(j,null,[l.headers?l.headers(k.value):d.value.map((P,v)=>y("tr",null,[P.map((D,B)=>x(N,{column:D,x:B,y:v},null))])),e.loading&&y("tr",{class:"v-data-table-progress"},[y("th",{colspan:g.value.length},[x(gt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Wt=I({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ge=Symbol.for("vuetify:data-table-group");function zt(e){return{groupBy:M(e,"groupBy")}}function Kt(e){const{disableSort:t,groupBy:l,sortBy:a}=e,n=L(new Set),r=w(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(t?.value?[]:a.value));function s(f){return n.value.has(f.id)}function i(f){const g=new Set(n.value);s(f)?g.delete(f.id):g.add(f.id),n.value=g}function o(f){function g(d){const m=[];for(const p of d.items)"type"in p&&p.type==="group"?m.push(...g(p)):m.push(p);return[...new Set(m)]}return g({items:f})}const u={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:o,isGroupOpen:s};return z(Ge,u),u}function Me(){const e=W(Ge);if(!e)throw new Error("Missing group!");return e}function qt(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=Y(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function je(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=qt(e,t[0]),r=[],s=t.slice(1);return n.forEach((i,o)=>{const u=t[0],f=`${a}_${u}_${o}`;r.push({depth:l,id:f,key:u,value:o,items:s.length?je(i,s,l+1,f):i,type:"group"})}),r}function We(e,t){const l=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&l.push(a),(t.has(a.id)||a.value==null)&&l.push(...We(a.items,t))):l.push(a);return l}function Ut(e,t,l){return{flatItems:w(()=>{if(!t.value.length)return e.value;const n=je(e.value,t.value.map(r=>r.key));return We(n,l.value)})}}const Jt=I({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Qt=K()({name:"VDataTableGroupHeaderRow",props:Jt(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=Me(),{isSelected:s,isSomeSelected:i,select:o}=le(),{columns:u}=ae(),f=w(()=>r([e.item]));return()=>y("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(g=>{if(g.key==="data-table-group"){const d=a(e.item)?"$expand":"$next",m=()=>n(e.item);return l["data-table-group"]?.({item:e.item,count:f.value.length,props:{icon:d,onClick:m}})??x(ee,{class:"v-data-table-group-header-row__column"},{default:()=>[x(Ie,{size:"small",variant:"text",icon:d,onClick:m},null),y("span",null,[e.item.value]),y("span",null,[he("("),f.value.length,he(")")])]})}if(g.key==="data-table-select"){const d=s(f.value),m=i(f.value)&&!d,p=b=>o(f.value,b);return l["data-table-select"]?.({props:{modelValue:d,indeterminate:m,"onUpdate:modelValue":p}})??y("td",null,[x(ge,{modelValue:d,indeterminate:m,"onUpdate:modelValue":p},null)])}return y("td",null,null)})])}}),Xt=I({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),ze=Symbol.for("vuetify:datatable:expanded");function Zt(e){const t=F(()=>e.expandOnClick),l=M(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function a(i,o){const u=new Set(l.value);o?u.add(i.value):u.delete(i.value),l.value=u}function n(i){return l.value.has(i.value)}function r(i){a(i,!n(i))}const s={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:r};return z(ze,s),s}function Ke(){const e=W(ze);if(!e)throw new Error("foo");return e}const Yt=I({index:Number,item:Object,cellProps:[Object,Function],onClick:ue(),onContextmenu:ue(),onDblclick:ue(),...fe()},"VDataTableRow"),ea=K()({name:"VDataTableRow",props:Yt(),setup(e,t){let{slots:l}=t;const{displayClasses:a,mobile:n}=ce(e,"v-data-table__tr"),{isSelected:r,toggleSelect:s,someSelected:i,allSelected:o,selectAll:u}=le(),{isExpanded:f,toggleExpand:g}=Ke(),{toggleSort:d,sortBy:m,isSorted:p}=He(),{columns:b}=ae();U(()=>y("tr",{class:Z(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&b.value.map((c,T)=>{const h=e.item,S=`item.${c.key}`,V=`header.${c.key}`,k={index:e.index,item:h.raw,internalItem:h,value:Y(h.columns,c.key),column:c,isSelected:r,toggleSelect:s,isExpanded:f,toggleExpand:g},C={column:c,selectAll:u,isSorted:p,toggleSort:d,sortBy:m.value,someSelected:i.value,allSelected:o.value,getSortIcon:()=>""},N=typeof e.cellProps=="function"?e.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value,column:c}):e.cellProps,E=typeof c.cellProps=="function"?c.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value}):c.cellProps;return x(ee,A({align:c.align,class:{"v-data-table__td--expanded-row":c.key==="data-table-expand","v-data-table__td--select-row":c.key==="data-table-select"},fixed:c.fixed,fixedOffset:c.fixedOffset,fixedEndOffset:c.fixedEndOffset,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,maxWidth:n.value?void 0:c.maxWidth,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",nowrap:c.nowrap,width:n.value?void 0:c.width},N,E),{default:()=>{if(c.key==="data-table-select")return l["item.data-table-select"]?.({...k,props:{disabled:!h.selectable,modelValue:r([h]),onClick:Q(()=>s(h),["stop"])}})??x(ge,{disabled:!h.selectable,modelValue:r([h]),onClick:Q(v=>s(h,e.index,v),["stop"])},null);if(c.key==="data-table-expand")return l["item.data-table-expand"]?.({...k,props:{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:Q(()=>g(h),["stop"])}})??x(Ie,{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:Q(()=>g(h),["stop"])},null);if(l[S]&&!n.value)return l[S](k);const P=bt(k.value);return n.value?y(j,null,[y("div",{class:"v-data-table__td-title"},[l[V]?.(C)??c.title]),y("div",{class:"v-data-table__td-value"},[l[S]?.(k)??P])]):P}})})]))}}),qe=I({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...fe()},"VDataTableRows"),Pe=K()({name:"VDataTableRows",inheritAttrs:!1,props:qe(),setup(e,t){let{attrs:l,slots:a}=t;const{columns:n}=ae(),{expandOnClick:r,toggleExpand:s,isExpanded:i}=Ke(),{isSelected:o,toggleSelect:u}=le(),{toggleGroup:f,isGroupOpen:g}=Me(),{t:d}=te(),{mobile:m}=ce(e);return U(()=>e.loading&&(!e.items.length||a.loading)?y("tr",{class:"v-data-table-rows-loading",key:"loading"},[y("td",{colspan:n.value.length},[a.loading?.()??d(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?y("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[y("td",{colspan:n.value.length},[a["no-data"]?.()??d(e.noDataText)])]):y(j,null,[e.items.map((p,b)=>{if(p.type==="group"){const h={index:b,item:p,columns:n.value,isExpanded:i,toggleExpand:s,isSelected:o,toggleSelect:u,toggleGroup:f,isGroupOpen:g};return a["group-header"]?a["group-header"](h):x(Qt,A({key:`group-header_${p.id}`,item:p},pe(l,":group-header",()=>h)),a)}const c={index:b,item:p.raw,internalItem:p,columns:n.value,isExpanded:i,toggleExpand:s,isSelected:o,toggleSelect:u},T={...c,props:A({key:`item_${p.key??p.index}`,onClick:r.value?()=>{s(p)}:void 0,index:b,item:p,cellProps:e.cellProps,mobile:m.value},pe(l,":row",()=>c),typeof e.rowProps=="function"?e.rowProps({item:c.item,index:c.index,internalItem:c.internalItem}):e.rowProps)};return y(j,{key:T.props.key},[a.item?a.item(T):x(ea,T.props,a),i(p)&&a["expanded-row"]?.(c)])})])),{}}}),ta=I({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function aa(e,t,l,a){const n=e.returnObject?t:X(t,e.itemValue),r=X(t,e.itemSelectable,!0),s=a.reduce((i,o)=>(o.key!=null&&(i[o.key]=X(t,o.value)),i),{});return{type:"item",key:e.returnObject?X(t,e.itemValue):n,index:l,value:n,selectable:r,columns:s,raw:t}}function la(e,t,l){return t.map((a,n)=>aa(e,a,n,l))}function na(e,t){return{items:w(()=>la(e,e.items,t.value))}}function ra(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:r}=e;const s=we("VDataTable"),i=()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:r.value});let o=null;de(i,u=>{De(o,u)||(o&&o.search!==u.search&&(t.value=1),s.emit("update:options",u),o=u)},{deep:!0,immediate:!0})}const sa=I({...qe(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Xt(),...Wt(),...Ft(),...ta(),...Nt(),...Ht(),...Le(),...Pt()},"DataTable"),oa=I({...kt(),...sa(),...St(),...Ve()},"VDataTable"),da=K()({name:"VDataTable",props:oa(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{groupBy:n}=zt(e),{sortBy:r,multiSort:s,mustSort:i}=Lt(e),{page:o,itemsPerPage:u}=Dt(e),{disableSort:f}=yt(e),{columns:g,headers:d,sortFunctions:m,sortRawFunctions:p,filterFunctions:b}=At(e,{groupBy:n,showSelect:F(()=>e.showSelect),showExpand:F(()=>e.showExpand)}),{items:c}=na(e,g),T=F(()=>e.search),{filteredItems:h}=pt(e,c,T,{transform:$=>$.columns,customKeyFilter:b}),{toggleSort:S}=Gt({sortBy:r,multiSort:s,mustSort:i,page:o}),{sortByWithGroups:V,opened:k,extractRows:C,isGroupOpen:N,toggleGroup:E}=Kt({groupBy:n,sortBy:r,disableSort:f}),{sortedItems:P}=Mt(e,h,V,{transform:$=>({...$.raw,...$.columns}),sortFunctions:m,sortRawFunctions:p}),{flatItems:v}=Ut(P,n,k),D=w(()=>v.value.length),{startIndex:B,stopIndex:ne,pageCount:re,setItemsPerPage:R}=It({page:o,itemsPerPage:u,itemsLength:D}),{paginatedItems:H}=Vt({items:v,startIndex:B,stopIndex:ne,itemsPerPage:u}),q=w(()=>C(H.value)),{isSelected:Ue,select:Je,selectAll:Qe,toggleSelect:Xe,someSelected:Ze,allSelected:Ye}=Rt(e,{allItems:c,currentPage:q}),{isExpanded:et,toggleExpand:tt}=Zt(e);ra({page:o,itemsPerPage:u,sortBy:r,groupBy:n,search:T}),xt({VDataTableRows:{hideNoData:F(()=>e.hideNoData),noDataText:F(()=>e.noDataText),loading:F(()=>e.loading),loadingText:F(()=>e.loadingText)}});const _=w(()=>({page:o.value,itemsPerPage:u.value,sortBy:r.value,pageCount:re.value,toggleSort:S,setItemsPerPage:R,someSelected:Ze.value,allSelected:Ye.value,isSelected:Ue,select:Je,selectAll:Qe,toggleSelect:Xe,isExpanded:et,toggleExpand:tt,isGroupOpen:N,toggleGroup:E,items:q.value.map($=>$.raw),internalItems:q.value,groupedItems:H.value,columns:g.value,headers:d.value}));return U(()=>{const $=xe.filterProps(e),at=Se.filterProps(e),lt=Pe.filterProps(e),nt=be.filterProps(e);return x(be,A({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},nt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(_.value),default:()=>a.default?a.default(_.value):y(j,null,[a.colgroup?.(_.value),!e.hideDefaultHeader&&y("thead",{key:"thead"},[x(Se,at,a)]),a.thead?.(_.value),!e.hideDefaultBody&&y("tbody",null,[a["body.prepend"]?.(_.value),a.body?a.body(_.value):x(Pe,A(l,lt,{items:H.value}),a),a["body.append"]?.(_.value)]),a.tbody?.(_.value),a.tfoot?.(_.value)]),bottom:()=>a.bottom?a.bottom(_.value):!e.hideDefaultFooter&&y(j,null,[x(wt,null,null),x(xe,$,{prepend:a["footer.prepend"]})])})}),{}}});export{da as V,xe as a};
