.TH "ramalama 7" 
.nh
.ad l


.SH Setting Up RamaLama with Ascend NPU Support on Linux systems
.PP
This guide walks through the steps required to set up RamaLama with Ascend NPU support.
 \- Background
\[la]#background\[ra]
 \- Hardware
\[la]#hardware\[ra]
 \- Model
\[la]#model\[ra]
 \- Docker
\[la]#docker\[ra]
 \- HISTORY
\[la]#history\[ra]

.SH Background
.PP
\fBAscend NPU\fP is a range of AI processors using Neural Processing Unit. It will efficiently handle matrix\-matrix multiplication, dot\-product and scalars.

.PP
\fBCANN\fP (Compute Architecture for Neural Networks) is a heterogeneous computing architecture for AI scenarios, providing support for multiple AI frameworks on the top and serving AI processors and programming at the bottom. It plays a crucial role in bridging the gap between upper and lower layers, and is a key platform for improving the computing efficiency of Ascend AI processors. Meanwhile, it offers a highly efficient and easy\-to\-use programming interface for diverse application scenarios, allowing users to rapidly build AI applications and services based on the Ascend platform.

.SH Hardware
.SS Ascend NPU
.PP
\fBVerified devices\fP

.PP
Table Supported Hardware List:
| Ascend NPU                     | Status  |
| \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  | \-\-\-\-\-\-\- |
| Atlas A2 Training series       | Support |
| Atlas 800I A2 Inference series | Support |

.PP
\fINotes:\fP

.RS
.IP \(bu 2
If you have trouble with Ascend NPU device, please create an issue with \fB[CANN]\fP prefix/tag.
.IP \(bu 2
If you are running successfully with an Ascend NPU device, please help update the "Supported Hardware List" table above.

.RE

.SH Model
.PP
Currently, Ascend NPU acceleration is only supported when the llama.cpp backend is selected. For supported models, please refer to the page llama.cpp/backend/CANN.md.

.SH Docker
.SS Install the Ascend driver
.PP
This provides NPU acceleration using the AI cores of your Ascend NPU. And CANN is a hierarchical APIs to help you to quickly build AI applications and service based on Ascend NPU.

.PP
For more information about Ascend NPU in Ascend Community.

.PP
Make sure to have the CANN toolkit installed. You can download it from here: CANN Toolkit
Make sure the Ascend Docker runtime is installed. You can download it from here: Ascend\-docker\-runtime

.SS Build Images
.PP
Go to \fB\fCramalama\fR directory and build using make.

.PP
.RS

.nf
make build IMAGE=cann
make install

.fi
.RE

.PP
You can test with:

.PP
.RS

.nf
export ASCEND\_VISIBLE\_DEVICES=0
ramalama \-\-image quay.io/ramalama/cann:latest serve \-d \-p 8080 \-name ollama://smollm:135m

.fi
.RE

.PP
In a window see the running podman container.

.PP
.RS

.nf
$ podman ps
CONTAINER ID   IMAGE                                                         COMMAND                  CREATED             STATUS             PORTS                                          NAMES
80fc31c131b0   quay.io/ramalama/cann:latest                                  "/bin/bash \-c 'exporâ€¦"   About an hour ago   Up About an hour                                                  ame

.fi
.RE

.PP
Other using guides see RamaLama (README.md)

.SH HISTORY
.PP
Mar 2025, Originally compiled
