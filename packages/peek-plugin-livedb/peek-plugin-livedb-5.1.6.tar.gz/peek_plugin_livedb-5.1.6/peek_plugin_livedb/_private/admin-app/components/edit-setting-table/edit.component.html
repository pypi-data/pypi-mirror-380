
<div class="settings-container">
    <nz-table 
        #settingsTable 
        [nzData]="items$ | async"
        
        [nzFrontPagination]="false"
        [nzLoading]="loading$ | async"
        class="settings-table">
        <thead>
            <tr>
                <th>Setting</th>
                <th>Value</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let item of settingsTable.data">
                <td>{{ item.key }}</td>
                <td class="value-cell">
                    <!-- Boolean Value -->
                    <ng-container *ngIf="item.type === 'boolean'">
                        <nz-switch
                            [(ngModel)]="item.boolean_value"
                            [nzLoading]="loading$ | async">
                        </nz-switch>
                    </ng-container>

                    <!-- Integer Value -->
                    <ng-container *ngIf="item.type === 'integer'">
                        <nz-input-number
                            [(ngModel)]="item.int_value"
                            [nzStep]="1"
                            [nzDisabled]="loading$ | async">
                        </nz-input-number>
                    </ng-container>

                    <!-- String Value (Password) -->
                    <ng-container *ngIf="item.type === 'string' && item.key.endsWith('pass')">
                        <nz-input-group [nzSuffix]="suffixTemplate">
                            <input
                                nz-input
                                type="password"
                                [(ngModel)]="item.char_value"
                                [disabled]="loading$ | async"/>
                        </nz-input-group>
                    </ng-container>

                    <!-- String Value (Regular) -->
                    <ng-container *ngIf="item.type === 'string' && !item.key.endsWith('pass')">
                        <input
                            nz-input
                            [(ngModel)]="item.char_value"
                            [disabled]="loading$ | async"/>
                    </ng-container>
                </td>
            </tr>
        </tbody>
    </nz-table>

    <div class="action-buttons">
        <button 
            nz-button 
            nzType="primary"
            [nzLoading]="loading$ | async"
            (click)="handleSave()">
            Save
        </button>
        <button 
            nz-button
            [nzLoading]="loading$ | async"
            (click)="handleReset()">
            Reset
        </button>
    </div>
</div>

<ng-template #suffixTemplate>
    <span nz-icon nzType="lock"></span>
</ng-template>