<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2025 Alberto MartÃ­nez <alberto.martinez@sygel.es>
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
<odoo>

    <record id="view_calendar_event_form" model="ir.ui.view">
        <field name="name">calendar.event.form</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_form" />
        <field name="arch" type="xml">
            <xpath expr="//page[@name='page_options']//field" position="before">
                <field name="action_done" />
            </xpath>
            <xpath expr="//field[@name='name']" position="before">
                <i
                    title="Done"
                    class="fa fa-check text-success"
                    attrs="{'invisible': [('action_done', '=', False)]}"
                />
            </xpath>
            <xpath expr="//field[@name='name']/.." position="attributes">
                <attribute
                    name="style"
                >display: inline-flex; align-items: center;</attribute>
            </xpath>
        </field>
    </record>

    <record id="view_calendar_event_search" model="ir.ui.view">
        <field name="name">calendar.event.filter</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_search" />
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='filter_start_date']" position="after">
                <separator />
                <filter
                    string="Done"
                    name="done"
                    domain="[('action_done', '!=', False)]"
                />
                <filter
                    string="Not Done"
                    name="not_done"
                    domain="[('action_done', '=', False)]"
                />
            </xpath>
        </field>
    </record>

</odoo>
