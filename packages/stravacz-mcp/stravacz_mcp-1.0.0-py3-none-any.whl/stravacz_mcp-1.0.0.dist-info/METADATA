Metadata-Version: 2.4
Name: stravacz-mcp
Version: 1.0.0
Summary: Neofici√°ln√≠ Model Context Protocol server pro strava.cz - ƒçesk√Ω syst√©m objedn√°v√°n√≠ stravy v j√≠deln√°ch
Author-email: mirecekd <mirecekd@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/mirecekd/stravacz-mcp
Project-URL: Bug Reports, https://github.com/mirecekd/stravacz-mcp/issues
Project-URL: Source, https://github.com/mirecekd/stravacz-mcp
Keywords: mcp,strava.cz,canteen,jidelna,api
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: strava-cz>=0.1.3
Requires-Dist: fastmcp>=0.9.0
Requires-Dist: aiohttp>=3.8.0
Requires-Dist: asyncio
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: flake8>=4.0.0; extra == "dev"
Requires-Dist: mypy>=0.991; extra == "dev"
Dynamic: license-file

# Stravacz MCP Server

MCP (Model Context Protocol) server pro **strava.cz** - syst√©m a webov√°/mobiln√≠ aplikace pro objedn√°v√°n√≠ stravy v ƒçesk√Ωch j√≠deln√°ch, nap≈ô√≠klad ≈°koln√≠ch. Str√°vn√≠ci mohou prost≈ôednictv√≠m syst√©mu kontrolovat j√≠deln√≠ƒçky, p≈ôihla≈°ovat a odhla≈°ovat j√≠dlo, sledovat historii objedn√°vek, platby a p≈ôeplatky.

<a href="https://www.buymeacoffee.com/mirecekd" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" ></a>

## ‚ö†Ô∏è Upozornƒõn√≠

**!! K pou≈æ√≠v√°n√≠ tohoto projektu je pot≈ôeba tro≈°ku umƒõt s dockerem/pythonem a vƒõdƒõt, jak funguje p≈ôipojen√≠ MCP k dan√©mu LLM klientu !!**

> üí° **Pozn√°mka:** Tento projekt nen√≠ nijak spojen se syst√©mem strava.cz. Jedn√° se o neofici√°ln√≠ MCP server vytvo≈ôen√Ω komunitou na z√°kladƒõ projekt≈Ø [strava-cz-python](https://github.com/jsem-nerad/strava-cz-python) a [strava-cli](https://github.com/StuckInVim-dev/strava-cli).

[![Docker Build](https://github.com/mirecekd/stravacz-mcp/actions/workflows/docker-build.yml/badge.svg)](https://github.com/mirecekd/stravacz-mcp/actions/workflows/docker-build.yml)
[![PyPI Publish](https://github.com/mirecekd/stravacz-mcp/actions/workflows/pypi-publish.yml/badge.svg)](https://github.com/mirecekd/stravacz-mcp/actions/workflows/pypi-publish.yml)

## ‚ö° Rychl√Ω start

### üê≥ Docker (doporuƒçeno)

```bash
# CLI (stdio) verze
docker run --rm -i ghcr.io/mirecekd/stravacz-mcp:latest-cli \
  --user USERNAME --password PASSWORD --canteen_number CANTEEN_NUMBER

# HTTP streaming verze (port 8809)
docker run -p 8809:8809 ghcr.io/mirecekd/stravacz-mcp:latest-http \
  --user USERNAME --password PASSWORD --canteen_number CANTEEN_NUMBER
```

### üì¶ uvx (PyPI)

```bash
# Instalace z PyPI a spu≈°tƒõn√≠
uvx --from stravacz-mcp stravacz-mcp-server \
  --user USERNAME --password PASSWORD --canteen_number CANTEEN_NUMBER
```

## üîß Dostupn√© transport metody

Stravacz MCP Server podporuje t≈ôi transport metody podle vzoru [bakalari-mcp](https://github.com/mirecekd/bakalari-mcp):

| Transport | Port | Docker Image | Popis |
|-----------|------|--------------|-------|
| **CLI (stdio)** | - | `ghcr.io/mirecekd/stravacz-mcp:latest-cli` | P≈ô√≠m√° MCP komunikace p≈ôes stdin/stdout |
| **HTTP Streaming** | 8809 | `ghcr.io/mirecekd/stravacz-mcp:latest-http` | Nativn√≠ HTTP streaming transport |
| **HTTP Proxy** | 8805 | `ghcr.io/mirecekd/stravacz-mcp:latest-proxy` | HTTP server pomoc√≠ mcp-proxy |

## üõ†Ô∏è MCP Tools

Server poskytuje n√°sleduj√≠c√≠ n√°stroje pro pr√°ci se strava.cz:

### `get_menu(datum=None)`
Z√≠sk√°n√≠ j√≠deln√≠ƒçku pro zadan√© datum (YYYY-MM-DD) nebo dne≈°n√≠ datum.

### `is_ordered(meal_id)`
Kontrola, jestli je j√≠dlo s dan√Ωm ID objednan√©.

### `order_meals(*meal_ids)`
Objedn√°n√≠ v√≠ce j√≠del podle jejich ID.

### `print_menu(include_soup=True, include_empty=False)`
Form√°tovan√© vyps√°n√≠ menu s mo≈ænost√≠ filtrace.

### `get_user_info()`
Z√≠sk√°n√≠ informac√≠ o p≈ôihl√°≈°en√©m u≈æivateli a j√≠delnƒõ.

### `logout()`
Odhl√°≈°en√≠ ze strava.cz syst√©mu.

## üìã MCP konfigurace

### Claude Desktop (CLI verze)
```json
{
  "mcpServers": {
    "stravacz-mcp": {
      "command": "docker",
      "args": [
        "run", "--rm", "-i", "ghcr.io/mirecekd/stravacz-mcp:latest-cli",
        "--user", "YOUR_USER",
        "--password", "YOUR_PASSWORD", 
        "--canteen_number", "YOUR_CANTEEN_NUMBER"
      ],
      "transportType": "stdio"
    }
  }
}
```

### Claude Desktop (HTTP streaming)
```json
{
  "mcpServers": {
    "stravacz-mcp": {
      "url": "http://localhost:8809",
      "transportType": "http"
    }
  }
}
```

## üèóÔ∏è V√Ωvoj a build

### Lok√°ln√≠ v√Ωvoj
```bash
# Klonov√°n√≠ reposit√°≈ôe
git clone https://github.com/mirecekd/stravacz-mcp.git
cd stravacz-mcp

# Instalace z√°vislost√≠
pip install -e .

# Spu≈°tƒõn√≠ ze zdrojov√Ωch k√≥d≈Ø
python src/stravacz_mcp_server/server.py --user USER --password PASS --canteen_number NUM
```

### Docker build
```bash
# Build v≈°ech verz√≠
./build-all.sh

# Nebo jednotlivƒõ
./build-cli.sh     # CLI verze
./build-http.sh    # HTTP streaming verze  
./build-proxy.sh   # HTTP proxy verze
```

### Python packaging
```bash
# Build Python bal√≠ƒçku
python -m build

# Lok√°ln√≠ instalace z wheel
pip install dist/stravacz_mcp-1.0.0-py3-none-any.whl
```

## üîç Technick√© detaily

### Z√°vislosti
- **strava-cz** >= 1.0.0 - Hlavn√≠ knihovna pro strava.cz API
- **fastmcp** >= 0.9.0 - MCP framework  
- **aiohttp** >= 3.8.0 - Async HTTP klient

### Async wrapper
Server pou≈æ√≠v√° async wrapper pro p≈Øvodnƒõ synchronn√≠ `strava-cz` knihovnu pomoc√≠ `asyncio.to_thread()`, co≈æ umo≈æ≈àuje neblokuj√≠c√≠ operace.

### Multi-arch Docker images
V≈°echny Docker images podporuj√≠:
- **linux/amd64** (Intel/AMD x64)
- **linux/arm64** (Apple Silicon, ARM64)

## ‚ö†Ô∏è D≈Øle≈æit√© upozornƒõn√≠

Tento projekt pou≈æ√≠va neofici√°ln√≠ web scraping API pro strava.cz. Server m≈Ø≈æe p≈ôestat fungovat p≈ôi zmƒõn√°ch na webu strava.cz. Pou≈æ√≠vejte zodpovƒõdnƒõ a neautomatizujte masivn√≠ mno≈æstv√≠ po≈æadavk≈Ø.

## üìÑ Licence

MIT License - viz [LICENSE](LICENSE) soubor.

## ü§ù P≈ôisp√≠v√°n√≠

Contributions jsou v√≠tan√©! Pros√≠m vytvo≈ôte issue nebo pull request.

## üîó Souvisej√≠c√≠ projekty

- [strava-cz-python](https://github.com/jsem-nerad/strava-cz-python) - P≈Øvodn√≠ Python knihovna pro strava.cz
- [bakalari-mcp](https://github.com/mirecekd/bakalari-mcp) - Podobn√Ω MCP server pro Bakal√°≈ôi
- [strava-cli](https://github.com/StuckInVim-dev/strava-cli) - CLI n√°stroj pro strava.cz

---

**Vytvo≈ôeno s ‚ù§Ô∏è pro ƒçeskou MCP komunitu**
