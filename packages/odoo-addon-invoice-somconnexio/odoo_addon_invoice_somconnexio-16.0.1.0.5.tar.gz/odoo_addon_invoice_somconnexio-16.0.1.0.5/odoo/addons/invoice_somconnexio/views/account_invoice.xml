<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="account_invoice_customer_form_view" model="ir.ui.view">
    <field name="name">account.invoice.form.view</field>
    <field name="model">account.move</field>
    <field name="inherit_id" ref="account.view_move_form"/>
    <field name="arch" type="xml">
      <!-- No longer using domain attributes in Odoo 16, prefer direct domain expressions -->
      <field name="partner_id" position="after">
        <field name="emails"/>
      </field>
      <button name="preview_invoice" position="after">
        <button name="get_invoice_pdf" type="object" string="Download PDF"/>
      </button>
    </field>
  </record>
  <record id="account_invoice_partner_form_view" model="ir.ui.view">
    <field name="name">account.invoice.partner.form.view</field>
    <field name="model">account.move</field>
    <field name="inherit_id" ref="account_payment_partner.view_invoice_tree"/>
    <field name="arch" type="xml">
      <field name="payment_mode_id" position="before">
        <field name="payment_mode_type" invisible="1"/>
        <field name="company_id" invisible="1"/>
      </field>
      <field name="payment_mode_id" position="attributes">
        <attribute name="domain">[('payment_type', '=', payment_mode_type), ('company_id', '=', company_id)]</attribute>
      </field>
    </field>
  </record>
  <!-- TODO: Why we need this action? -->
  <!--record id="account.action_invoice_tree1" model="ir.actions.act_window">
    <field name="context">{'default_type':'out_invoice', 'type':'out_invoice', 'journal_type': 'sale', 'use_old_partner_bank_id_check': True}</field>
  </record>
  <record id="account.action_invoice_out_refund" model="ir.actions.act_window">
    <field name="context">{'default_type': 'out_refund', 'type': 'out_refund', 'journal_type': 'sale', 'use_old_partner_bank_id_check': True}</field>
  </record-->
</odoo>
