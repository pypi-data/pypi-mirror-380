[build-system]
requires = ["hatchling>=1.25"]
build-backend = "hatchling.build"
[tool.hatch.build.targets.wheel]
# src 布局需要显式指定要打包的包路径
packages = ["src/fuckpythonconfig"]
[project]
name = "fuckpythonconfig"
version = "1.0.1"
description = "Zero-boilerplate config loader: auto-discover TOML & .env, resolve ${VAR} and ${VAR:default}."
readme = "README.md"
requires-python = ">=3.11"
authors = [
    { name = "JGG0sbp66" }
]
license = { file = "LICENSE" }
keywords = ["config", "toml", "dotenv", "environment", "python"]
classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Intended Audience :: Developers",
    "Topic :: Software Development :: Libraries",
    "Operating System :: OS Independent",
    "License :: OSI Approved :: MIT License",
]
urls = { homepage = "https://github.com/JGG0sbp66/fuckPythonConfig" }
dependencies = [
    "python-dotenv>=1.1.1",
]

[tool.ruff]
# 设置行长度限制
line-length = 88
# 设置目标 Python 版本
target-version = "py311"
# 指定要检查的文件和目录
include = ["src/**/*.py"]
exclude = [
    ".git",
    "__pycache__",
    ".venv",
    "venv",
    "build",
    "dist",
]

[tool.ruff.lint]
# 选择要启用的规则集
select = [
    "E",     # pycodestyle errors
    "W",     # pycodestyle warnings
    "F",     # pyflakes
    "I",     # isort
    "B",     # flake8-bugbear
    "C4",    # flake8-comprehensions
    "UP",    # pyupgrade
    "PL",    # pylint
    "SIM",   # flake8-simplify
    "RUF",   # ruff-specific rules
]
# 忽略特定规则
ignore = [
    "E501",  # 行太长（由 line-length 处理）
    "PLR0913", # 函数参数太多
    "PLR0915", # 函数中语句太多
]

# 每个文件允许的自动修复规则
fixable = ["ALL"]
unfixable = []

[tool.ruff.format]
# 使用双引号
quote-style = "double"
# 缩进样式
indent-style = "space"
# 跳过魔术尾随逗号
skip-magic-trailing-comma = false
# 行结尾样式
line-ending = "auto"

[tool.ruff.lint.isort]
# import 排序配置
known-first-party = ["fuckpythonconfig"]
force-sort-within-sections = true
split-on-trailing-comma = true

[tool.ruff.lint.mccabe]
# 圈复杂度限制
max-complexity = 10
