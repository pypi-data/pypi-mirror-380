import{S as ue,i as de,s as he,V as U,W as H,a as v,d as c,f,g as b,h as p,n as G,H as ge,I as we,C as X,D as Q,E as Y,K as ye,q as j,r as I,F as x,v as lt,k as Ce,w as nt,M as st,e as g,t as T,l as W,c as w,b as $,p as S,G as fe,J as at,j as L,y as te,u as le,X as rt,m as ee,a0 as ot,U as Ee,N as ft,aj as ct}from"./JdJvpXsd.js";import"./IHki7fMi.js";import{k as ut,A as ce,B as Se}from"./CqxBw7o8.js";import{e as Ae}from"./Di7MzXQI.js";import{e as re,a as dt}from"./jTPhk4Bq.js";import{b as ht}from"./Jk0xePp5.js";import{M as _t}from"./eLkVlJik.js";import{X as it}from"./DTKIxvQd.js";import{S as mt}from"./BNrgQuuR.js";import{T as Ne}from"./DSv6SC83.js";import{d as Ue}from"./I1CDPYOB.js";import{S as De}from"./C641ttU9.js";function pt(s){let e,l;return{c(){e=U("svg"),l=U("path"),this.h()},l(t){e=H(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);l=H(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(l).forEach(c),r.forEach(c),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(t,r){b(t,e,r),p(e,l)},p(t,[r]){r&2&&f(e,"stroke-width",t[1]),r&1&&f(e,"class",t[0])},i:G,o:G,d(t){t&&c(e)}}}function kt(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&l(0,t=n.className),"strokeWidth"in n&&l(1,r=n.strokeWidth)},[t,r]}class vt extends ue{constructor(e){super(),de(this,e,kt,pt,he,{className:0,strokeWidth:1})}}const Nl=async(s,e,l)=>{const t=new FormData;t.append("file",e),l&&t.append("metadata",JSON.stringify(l));let r=null;const n=await fetch(`${re}/files/`,{method:"POST",headers:{Accept:"application/json",authorization:`Bearer ${s}`},body:t}).then(async i=>{if(!i.ok)throw await i.json();return i.json()}).catch(i=>(r=i.detail||i.message,null));if(r)throw r;if(n){const i=await bt(s,n.id);if(i&&i.ok){const o=i.body.pipeThrough(new TextDecoderStream).pipeThrough(ut(`
`)).getReader();for(;;){const{value:a,done:d}=await o.read();if(d)break;try{let u=a.split(`
`);for(const h of u)if(h!==""&&h!=="data: [DONE]"){let m=JSON.parse(h.replace(/^data: /,""));m!=null&&m.error&&(m.error,n.error=m.error)}}catch{}}}}if(r)throw r;return n},bt=async(s,e)=>{const l=new URLSearchParams;l.append("stream","true");let t=null;const r=await fetch(`${re}/files/${e}/process/status?${l}`,{method:"GET",headers:{Accept:"application/json",authorization:`Bearer ${s}`}}).catch(n=>(t=n.detail,null));if(t)throw t;return r},gt=async(s,e)=>{let l=null;const t=await fetch(`${re}/files/${e}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,null));if(l)throw l;return t},Dl=async(s,e,l)=>{let t=null;const r=await fetch(`${re}/files/${e}/data/content/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`},body:JSON.stringify({content:l})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).then(n=>n).catch(n=>(t=n.detail,null));if(t)throw t;return r},jl=async s=>{let e=null;const l=await fetch(`${re}/files/all`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).then(t=>t).catch(t=>(e=t.detail,null));if(e)throw e;return l};function He(s,e,l){const t=s.slice();return t[18]=e[l],t}function Oe(s){var o,a,d;let e,l,t,r=((o=s[0])==null?void 0:o.type)&&Pe(s),n=((a=s[0])==null?void 0:a.description)&&Ze(s),i=((d=s[0])==null?void 0:d.created_at)&&Re(s);return{c(){r&&r.c(),e=W(),n&&n.c(),l=W(),i&&i.c(),t=ee()},l(u){r&&r.l(u),e=S(u),n&&n.l(u),l=S(u),i&&i.l(u),t=ee()},m(u,h){r&&r.m(u,h),b(u,e,h),n&&n.m(u,h),b(u,l,h),i&&i.m(u,h),b(u,t,h)},p(u,h){var m,_,C;(m=u[0])!=null&&m.type?r?r.p(u,h):(r=Pe(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),(_=u[0])!=null&&_.description?n?n.p(u,h):(n=Ze(u),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),(C=u[0])!=null&&C.created_at?i?i.p(u,h):(i=Re(u),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(u){u&&(c(e),c(l),c(t)),r&&r.d(u),n&&n.d(u),i&&i.d(u)}}}function Pe(s){let e,l=s[0].type+"",t,r;return{c(){e=g("div"),t=T(l),r=T(`
								•`),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=v(e);t=$(i,l),i.forEach(c),r=$(n,`
								•`),this.h()},h(){f(e,"class","capitalize shrink-0")},m(n,i){b(n,e,i),p(e,t),b(n,r,i)},p(n,i){i&1&&l!==(l=n[0].type+"")&&L(t,l)},d(n){n&&(c(e),c(r))}}}function Ze(s){let e,l=s[0].description+"",t,r;return{c(){e=g("div"),t=T(l),r=T(`
								•`),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=v(e);t=$(i,l),i.forEach(c),r=$(n,`
								•`),this.h()},h(){f(e,"class","line-clamp-1")},m(n,i){b(n,e,i),p(e,t),b(n,r,i)},p(n,i){i&1&&l!==(l=n[0].description+"")&&L(t,l)},d(n){n&&(c(e),c(r))}}}function Re(s){let e,l=Ue(s[0].created_at*1e3).format("LL")+"",t;return{c(){e=g("div"),t=T(l),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=v(e);t=$(n,l),n.forEach(c),this.h()},h(){f(e,"class","capitalize shrink-0")},m(r,n){b(r,e,n),p(e,t)},p(r,n){n&1&&l!==(l=Ue(r[0].created_at*1e3).format("LL")+"")&&L(t,l)},d(r){r&&c(e)}}}function qe(s){let e,l=ce(s[0].size)+"",t,r;return{c(){e=g("div"),t=T(l),r=T(`
							•`),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=v(e);t=$(i,l),i.forEach(c),r=$(n,`
							•`),this.h()},h(){f(e,"class","capitalize shrink-0")},m(n,i){b(n,e,i),p(e,t),b(n,r,i)},p(n,i){i&1&&l!==(l=ce(n[0].size)+"")&&L(t,l)},d(n){n&&(c(e),c(r))}}}function Je(s){var d,u,h;let e,l=s[8].t("{{COUNT}} extracted lines",{COUNT:Se(((h=(u=(d=s[0])==null?void 0:d.file)==null?void 0:u.data)==null?void 0:h.content)??"")})+"",t,r,n,i,o=s[8].t("Formatting may be inconsistent from source.")+"",a;return{c(){e=g("div"),t=T(l),r=W(),n=g("div"),i=T("• "),a=T(o),this.h()},l(m){e=w(m,"DIV",{class:!0});var _=v(e);t=$(_,l),_.forEach(c),r=S(m),n=w(m,"DIV",{class:!0});var C=v(n);i=$(C,"• "),a=$(C,o),C.forEach(c),this.h()},h(){f(e,"class","capitalize shrink-0"),f(n,"class","flex items-center gap-1 shrink-0")},m(m,_){b(m,e,_),p(e,t),b(m,r,_),b(m,n,_),p(n,i),p(n,a)},p(m,_){var C,V,D;_&257&&l!==(l=m[8].t("{{COUNT}} extracted lines",{COUNT:Se(((D=(V=(C=m[0])==null?void 0:C.file)==null?void 0:V.data)==null?void 0:D.content)??"")})+"")&&L(t,l),_&256&&o!==(o=m[8].t("Formatting may be inconsistent from source.")+"")&&L(a,o)},d(m){m&&(c(e),c(r),c(n))}}}function Ke(s){let e,l=s[8].t("Knowledge Base")+"",t;return{c(){e=g("div"),t=T(l),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=v(e);t=$(n,l),n.forEach(c),this.h()},h(){f(e,"class","capitalize shrink-0")},m(r,n){b(r,e,n),p(e,t)},p(r,n){n&256&&l!==(l=r[8].t("Knowledge Base")+"")&&L(t,l)},d(r){r&&c(e)}}}function Ge(s){let e,l,t;return l=new Ne({props:{content:s[3]?s[8].t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):s[8].t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),$$slots:{default:[Et]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(l.$$.fragment)},l(r){e=w(r,"DIV",{});var n=v(e);Q(l.$$.fragment,n),n.forEach(c)},m(r,n){b(r,e,n),Y(l,e,null),t=!0},p(r,n){const i={};n&264&&(i.content=r[3]?r[8].t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r[8].t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.")),n&2097417&&(i.$$scope={dirty:n,ctx:r}),l.$set(i)},i(r){t||(j(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&c(e),x(l)}}}function wt(s){let e=s[8].t("Using Focused Retrieval")+"",l;return{c(){l=T(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&256&&e!==(e=t[8].t("Using Focused Retrieval")+"")&&L(l,e)},d(t){t&&c(l)}}}function yt(s){let e=s[8].t("Using Entire Document")+"",l;return{c(){l=T(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&256&&e!==(e=t[8].t("Using Entire Document")+"")&&L(l,e)},d(t){t&&c(l)}}}function Et(s){let e,l,t,r,n;function i(h,m){return h[3]?yt:wt}let o=i(s),a=o(s);function d(h){s[12](h)}let u={};return s[3]!==void 0&&(u.state=s[3]),t=new mt({props:u}),ge.push(()=>we(t,"state",d)),t.$on("change",s[13]),{c(){e=g("div"),a.c(),l=W(),X(t.$$.fragment),this.h()},l(h){e=w(h,"DIV",{class:!0});var m=v(e);a.l(m),l=S(m),Q(t.$$.fragment,m),m.forEach(c),this.h()},h(){f(e,"class","flex items-center gap-1.5 text-xs")},m(h,m){b(h,e,m),a.m(e,null),p(e,l),Y(t,e,null),n=!0},p(h,m){o===(o=i(h))&&a?a.p(h,m):(a.d(1),a=o(h),a&&(a.c(),a.m(e,l)));const _={};!r&&m&8&&(r=!0,_.state=h[3],ye(()=>r=!1)),t.$set(_)},i(h){n||(j(t.$$.fragment,h),n=!0)},o(h){I(t.$$.fragment,h),n=!1},d(h){h&&c(e),a.d(),x(t)}}}function Ct(s){let e,l,t;return l=new De({props:{className:"size-5"}}),{c(){e=g("div"),X(l.$$.fragment),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=v(e);Q(l.$$.fragment,n),n.forEach(c),this.h()},h(){f(e,"class","flex items-center justify-center py-6")},m(r,n){b(r,e,n),Y(l,e,null),t=!0},p:G,i(r){t||(j(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&c(e),x(l)}}}function Nt(s){let e;function l(n,i){var o;return((o=n[0])==null?void 0:o.type)==="collection"?Vt:n[7]?jt:Dt}let t=l(s),r=t(s);return{c(){r.c(),e=ee()},l(n){r.l(n),e=ee()},m(n,i){r.m(n,i),b(n,e,i)},p(n,i){t===(t=l(n))&&r?r.p(n,i):(r.d(1),r=t(n),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(n){n&&c(e),r.d(n)}}}function Dt(s){var n,i;let e,l,t=s[4]&&Xe(s),r=((i=(n=s[0])==null?void 0:n.file)==null?void 0:i.data)&&Qe(s);return{c(){t&&t.c(),e=W(),r&&r.c(),l=ee()},l(o){t&&t.l(o),e=S(o),r&&r.l(o),l=ee()},m(o,a){t&&t.m(o,a),b(o,e,a),r&&r.m(o,a),b(o,l,a)},p(o,a){var d,u;o[4]?t?t.p(o,a):(t=Xe(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),(u=(d=o[0])==null?void 0:d.file)!=null&&u.data?r?r.p(o,a):(r=Qe(o),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(o){o&&(c(e),c(l)),t&&t.d(o),r&&r.d(o)}}}function jt(s){let e,l,t=s[8].t("Content")+"",r,n,i,o,a=s[8].t("Preview")+"",d,u,h,m,_,C;function V(E,M){return E[6]==="preview"?Mt:It}let D=V(s),F=D(s);return{c(){e=g("div"),l=g("button"),r=T(t),i=W(),o=g("button"),d=T(a),h=W(),F.c(),m=ee(),this.h()},l(E){e=w(E,"DIV",{class:!0});var M=v(e);l=w(M,"BUTTON",{class:!0,type:!0});var B=v(l);r=$(B,t),B.forEach(c),i=S(M),o=w(M,"BUTTON",{class:!0,type:!0});var k=v(o);d=$(k,a),k.forEach(c),M.forEach(c),h=S(E),F.l(E),m=ee(),this.h()},h(){f(l,"class",n="min-w-fit py-1.5 px-4 border-b "+(s[6]===""?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),f(l,"type","button"),f(o,"class",u="min-w-fit py-1.5 px-4 border-b "+(s[6]==="preview"?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),f(o,"type","button"),f(e,"class","flex mb-2.5 scrollbar-none overflow-x-auto w-full border-b border-gray-100 dark:border-gray-800 text-center text-sm font-medium bg-transparent dark:text-gray-200")},m(E,M){b(E,e,M),p(e,l),p(l,r),p(e,i),p(e,o),p(o,d),b(E,h,M),F.m(E,M),b(E,m,M),_||(C=[fe(l,"click",s[14]),fe(o,"click",s[15])],_=!0)},p(E,M){M&256&&t!==(t=E[8].t("Content")+"")&&L(r,t),M&64&&n!==(n="min-w-fit py-1.5 px-4 border-b "+(E[6]===""?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&f(l,"class",n),M&256&&a!==(a=E[8].t("Preview")+"")&&L(d,a),M&64&&u!==(u="min-w-fit py-1.5 px-4 border-b "+(E[6]==="preview"?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&f(o,"class",u),D===(D=V(E))&&F?F.p(E,M):(F.d(1),F=D(E),F&&(F.c(),F.m(m.parentNode,m)))},d(E){E&&(c(e),c(h),c(m)),F.d(E),_=!1,rt(C)}}}function Vt(s){var r;let e,l=Ae((r=s[0])==null?void 0:r.files),t=[];for(let n=0;n<l.length;n+=1)t[n]=Ye(He(s,l,n));return{c(){e=g("div");for(let n=0;n<t.length;n+=1)t[n].c()},l(n){e=w(n,"DIV",{});var i=v(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(c)},m(n,i){b(n,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,i){var o;if(i&1){l=Ae((o=n[0])==null?void 0:o.files);let a;for(a=0;a<l.length;a+=1){const d=He(n,l,a);t[a]?t[a].p(d,i):(t[a]=Ye(d),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(n){n&&c(e),ot(t,n)}}}function Xe(s){let e,l;return{c(){e=g("audio"),this.h()},l(t){e=w(t,"AUDIO",{src:!0,class:!0,playsinline:!0}),v(e).forEach(c),this.h()},h(){Ee(e.src,l=`${re}/files/${s[0].id}/content`)||f(e,"src",l),f(e,"class","w-full border-0 rounded-lg mb-2"),e.controls=!0,f(e,"playsinline","")},m(t,r){b(t,e,r)},p(t,r){r&1&&!Ee(e.src,l=`${re}/files/${t[0].id}/content`)&&f(e,"src",l)},d(t){t&&c(e)}}}function Qe(s){var r,n,i;let e,l=((((i=(n=(r=s[0])==null?void 0:r.file)==null?void 0:n.data)==null?void 0:i.content)??"").trim()||"No content")+"",t;return{c(){e=g("div"),t=T(l),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=v(e);t=$(a,l),a.forEach(c),this.h()},h(){f(e,"class","max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap")},m(o,a){b(o,e,a),p(e,t)},p(o,a){var d,u,h;a&1&&l!==(l=((((h=(u=(d=o[0])==null?void 0:d.file)==null?void 0:u.data)==null?void 0:h.content)??"").trim()||"No content")+"")&&L(t,l)},d(o){o&&c(e)}}}function It(s){var r,n,i;let e,l=((((i=(n=(r=s[0])==null?void 0:r.file)==null?void 0:n.data)==null?void 0:i.content)??"").trim()||"No content")+"",t;return{c(){e=g("div"),t=T(l),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=v(e);t=$(a,l),a.forEach(c),this.h()},h(){f(e,"class","max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap")},m(o,a){b(o,e,a),p(e,t)},p(o,a){var d,u,h;a&1&&l!==(l=((((h=(u=(d=o[0])==null?void 0:d.file)==null?void 0:u.data)==null?void 0:h.content)??"").trim()||"No content")+"")&&L(t,l)},d(o){o&&c(e)}}}function Mt(s){let e,l,t;return{c(){e=g("iframe"),this.h()},l(r){e=w(r,"IFRAME",{title:!0,src:!0,class:!0}),v(e).forEach(c),this.h()},h(){var r;f(e,"title",l=(r=s[0])==null?void 0:r.name),Ee(e.src,t=`${re}/files/${s[0].id}/content`)||f(e,"src",t),f(e,"class","w-full h-[70vh] border-0 rounded-lg")},m(r,n){b(r,e,n)},p(r,n){var i;n&1&&l!==(l=(i=r[0])==null?void 0:i.name)&&f(e,"title",l),n&1&&!Ee(e.src,t=`${re}/files/${r[0].id}/content`)&&f(e,"src",t)},d(r){r&&c(e)}}}function Ye(s){var i,o;let e,l,t=((o=(i=s[18])==null?void 0:i.meta)==null?void 0:o.name)+"",r,n;return{c(){e=g("div"),l=g("div"),r=T(t),n=W(),this.h()},l(a){e=w(a,"DIV",{class:!0});var d=v(e);l=w(d,"DIV",{class:!0});var u=v(l);r=$(u,t),u.forEach(c),n=S(d),d.forEach(c),this.h()},h(){f(l,"class","flex-shrink-0 text-xs"),f(e,"class","flex items-center gap-2 mb-2")},m(a,d){b(a,e,d),p(e,l),p(l,r),p(e,n)},p(a,d){var u,h;d&1&&t!==(t=((h=(u=a[18])==null?void 0:u.meta)==null?void 0:h.name)+"")&&L(r,t)},d(a){a&&c(e)}}}function zt(s){var Me,ze,Be,Te,$e,Fe;let e,l,t,r,n,i,o=(((Me=s[0])==null?void 0:Me.name)??"File")+"",a,d,u,h,m,_,C,V,D,F,E,M,B,k,N,O,P,y,ae,je;m=new it({});let R=((ze=s[0])==null?void 0:ze.type)==="collection"&&Oe(s),q=s[0].size&&qe(s),J=(($e=(Te=(Be=s[0])==null?void 0:Be.file)==null?void 0:Te.data)==null?void 0:$e.content)&&Je(s),K=((Fe=s[0])==null?void 0:Fe.knowledge)&&Ke(s),A=s[2]&&Ge(s);const Ve=[Nt,Ct],ie=[];function Ie(z,Z){return z[5]?1:0}return O=Ie(s),P=ie[O]=Ve[O](s),{c(){e=g("div"),l=g("div"),t=g("div"),r=g("div"),n=g("div"),i=g("a"),a=T(o),d=W(),u=g("div"),h=g("button"),X(m.$$.fragment),_=W(),C=g("div"),V=g("div"),D=g("div"),R&&R.c(),F=W(),q&&q.c(),E=W(),J&&J.c(),M=W(),K&&K.c(),B=W(),A&&A.c(),k=W(),N=g("div"),P.c(),this.h()},l(z){e=w(z,"DIV",{class:!0});var Z=v(e);l=w(Z,"DIV",{class:!0});var ne=v(l);t=w(ne,"DIV",{class:!0});var oe=v(t);r=w(oe,"DIV",{});var _e=v(r);n=w(_e,"DIV",{class:!0});var me=v(n);i=w(me,"A",{href:!0,class:!0});var pe=v(i);a=$(pe,o),pe.forEach(c),me.forEach(c),_e.forEach(c),d=S(oe),u=w(oe,"DIV",{});var ke=v(u);h=w(ke,"BUTTON",{});var ve=v(h);Q(m.$$.fragment,ve),ve.forEach(c),ke.forEach(c),oe.forEach(c),_=S(ne),C=w(ne,"DIV",{});var Le=v(C);V=w(Le,"DIV",{class:!0});var be=v(V);D=w(be,"DIV",{class:!0});var se=v(D);R&&R.l(se),F=S(se),q&&q.l(se),E=S(se),J&&J.l(se),M=S(se),K&&K.l(se),se.forEach(c),B=S(be),A&&A.l(be),be.forEach(c),Le.forEach(c),ne.forEach(c),k=S(Z),N=w(Z,"DIV",{class:!0});var We=v(N);P.l(We),We.forEach(c),Z.forEach(c),this.h()},h(){f(i,"href","#"),f(i,"class","hover:underline line-clamp-1"),f(n,"class","font-medium text-lg dark:text-gray-100"),f(t,"class","flex items-start justify-between"),f(D,"class","flex flex-wrap text-xs gap-1 text-gray-500"),f(V,"class","flex flex-col items-center md:flex-row gap-1 justify-between w-full"),f(l,"class","pb-2"),f(N,"class","max-h-[75vh] overflow-auto"),f(e,"class","font-primary px-4.5 py-3.5 w-full flex flex-col justify-center dark:text-gray-400")},m(z,Z){b(z,e,Z),p(e,l),p(l,t),p(t,r),p(r,n),p(n,i),p(i,a),p(t,d),p(t,u),p(u,h),Y(m,h,null),p(l,_),p(l,C),p(C,V),p(V,D),R&&R.m(D,null),p(D,F),q&&q.m(D,null),p(D,E),J&&J.m(D,null),p(D,M),K&&K.m(D,null),p(V,B),A&&A.m(V,null),p(e,k),p(e,N),ie[O].m(N,null),y=!0,ae||(je=[fe(i,"click",at(s[10])),fe(h,"click",s[11])],ae=!0)},p(z,Z){var oe,_e,me,pe,ke,ve;(!y||Z&1)&&o!==(o=(((oe=z[0])==null?void 0:oe.name)??"File")+"")&&L(a,o),((_e=z[0])==null?void 0:_e.type)==="collection"?R?R.p(z,Z):(R=Oe(z),R.c(),R.m(D,F)):R&&(R.d(1),R=null),z[0].size?q?q.p(z,Z):(q=qe(z),q.c(),q.m(D,E)):q&&(q.d(1),q=null),(ke=(pe=(me=z[0])==null?void 0:me.file)==null?void 0:pe.data)!=null&&ke.content?J?J.p(z,Z):(J=Je(z),J.c(),J.m(D,M)):J&&(J.d(1),J=null),(ve=z[0])!=null&&ve.knowledge?K?K.p(z,Z):(K=Ke(z),K.c(),K.m(D,null)):K&&(K.d(1),K=null),z[2]?A?(A.p(z,Z),Z&4&&j(A,1)):(A=Ge(z),A.c(),j(A,1),A.m(V,null)):A&&(te(),I(A,1,1,()=>{A=null}),le());let ne=O;O=Ie(z),O===ne?ie[O].p(z,Z):(te(),I(ie[ne],1,1,()=>{ie[ne]=null}),le(),P=ie[O],P?P.p(z,Z):(P=ie[O]=Ve[O](z),P.c()),j(P,1),P.m(N,null))},i(z){y||(j(m.$$.fragment,z),j(A),j(P),y=!0)},o(z){I(m.$$.fragment,z),I(A),I(P),y=!1},d(z){z&&c(e),x(m),R&&R.d(),q&&q.d(),J&&J.d(),K&&K.d(),A&&A.d(),ie[O].d(),ae=!1,rt(je)}}}function Bt(s){let e,l,t;function r(i){s[16](i)}let n={size:"lg",$$slots:{default:[zt]},$$scope:{ctx:s}};return s[1]!==void 0&&(n.show=s[1]),e=new _t({props:n}),ge.push(()=>we(e,"show",r)),{c(){X(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,o){Y(e,i,o),t=!0},p(i,[o]){const a={};o&2097663&&(a.$$scope={dirty:o,ctx:i}),!l&&o&2&&(l=!0,a.show=i[1],ye(()=>l=!1)),e.$set(a)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){x(e,i)}}}function Tt(s,e,l){let t,r;const n=lt("i18n");Ce(s,n,k=>l(8,r=k));let{item:i}=e,{show:o=!1}=e,{edit:a=!1}=e,d=!1,u=!1,h=!1,m="";const _=async()=>{if((i==null?void 0:i.type)==="collection"){l(5,h=!0);const k=await ht(localStorage.token,i.id).catch(N=>null);k&&l(0,i.files=k.files||[],i),l(5,h=!1)}else if((i==null?void 0:i.type)==="file"){l(5,h=!0);const k=await gt(localStorage.token,i.id).catch(N=>null);k&&l(0,i.file=k||{},i),l(5,h=!1)}await st()};nt(()=>{(i==null?void 0:i.context)==="full"&&l(3,d=!0)});const C=()=>{!t&&i.url&&window.open(i.type==="file"?`${i.url}/content`:`${i.url}`,"_blank")},V=()=>{l(1,o=!1)};function D(k){d=k,l(3,d)}const F=k=>{l(0,i.context=k.detail?"full":void 0,i)},E=()=>{l(6,m="")},M=()=>{l(6,m="preview")};function B(k){o=k,l(1,o)}return s.$$set=k=>{"item"in k&&l(0,i=k.item),"show"in k&&l(1,o=k.show),"edit"in k&&l(2,a=k.edit)},s.$$.update=()=>{var k,N;s.$$.dirty&1&&l(7,t=((k=i==null?void 0:i.meta)==null?void 0:k.content_type)==="application/pdf"||(i==null?void 0:i.name)&&(i==null?void 0:i.name.toLowerCase().endsWith(".pdf"))),s.$$.dirty&1&&l(4,u=(((N=i==null?void 0:i.meta)==null?void 0:N.content_type)??"").startsWith("audio/")||(i==null?void 0:i.name)&&(i==null?void 0:i.name.toLowerCase().endsWith(".mp3"))||(i==null?void 0:i.name)&&(i==null?void 0:i.name.toLowerCase().endsWith(".wav"))||(i==null?void 0:i.name)&&(i==null?void 0:i.name.toLowerCase().endsWith(".ogg"))||(i==null?void 0:i.name)&&(i==null?void 0:i.name.toLowerCase().endsWith(".m4a"))||(i==null?void 0:i.name)&&(i==null?void 0:i.name.toLowerCase().endsWith(".webm"))),s.$$.dirty&2&&o&&_()},[i,o,a,d,u,h,m,t,r,n,C,V,D,F,E,M,B]}class $t extends ue{constructor(e){super(),de(this,e,Tt,Bt,he,{item:0,show:1,edit:2})}}function Ft(s){let e,l,t,r,n,i;return{c(){e=U("svg"),l=U("path"),t=U("path"),r=U("path"),n=U("path"),i=U("path"),this.h()},l(o){e=H(o,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);l=H(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(l).forEach(c),t=H(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(t).forEach(c),r=H(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(r).forEach(c),n=H(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(n).forEach(c),i=H(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(i).forEach(c),a.forEach(c),this.h()},h(){f(l,"d","M4 21.4V2.6C4 2.26863 4.26863 2 4.6 2H16.2515C16.4106 2 16.5632 2.06321 16.6757 2.17574L19.8243 5.32426C19.9368 5.43679 20 5.5894 20 5.74853V21.4C20 21.7314 19.7314 22 19.4 22H4.6C4.26863 22 4 21.7314 4 21.4Z"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(t,"d","M8 10L16 10"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(r,"d","M8 18L16 18"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(n,"d","M8 14L12 14"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(i,"d","M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(o,a){b(o,e,a),p(e,l),p(e,t),p(e,r),p(e,n),p(e,i)},p(o,[a]){a&2&&f(e,"stroke-width",o[1]),a&1&&f(e,"class",o[0])},i:G,o:G,d(o){o&&c(e)}}}function Lt(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&l(0,t=n.className),"strokeWidth"in n&&l(1,r=n.strokeWidth)},[t,r]}class Wt extends ue{constructor(e){super(),de(this,e,Lt,Ft,he,{className:0,strokeWidth:1})}}function St(s){let e,l,t,r;return{c(){e=U("svg"),l=U("path"),t=U("path"),r=U("path"),this.h()},l(n){e=H(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var i=v(e);l=H(i,"path",{d:!0}),v(l).forEach(c),t=H(i,"path",{d:!0}),v(t).forEach(c),r=H(i,"path",{d:!0}),v(r).forEach(c),i.forEach(c),this.h()},h(){f(l,"d","M5 12V18C5 18 5 21 12 21C19 21 19 18 19 18V12"),f(t,"d","M5 6V12C5 12 5 15 12 15C19 15 19 12 19 12V6"),f(r,"d","M12 3C19 3 19 6 19 6C19 6 19 9 12 9C5 9 5 6 5 6C5 6 5 3 12 3Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(n,i){b(n,e,i),p(e,l),p(e,t),p(e,r)},p(n,[i]){i&2&&f(e,"stroke-width",n[1]),i&1&&f(e,"class",n[0])},i:G,o:G,d(n){n&&c(e)}}}function At(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&l(0,t=n.className),"strokeWidth"in n&&l(1,r=n.strokeWidth)},[t,r]}class Ut extends ue{constructor(e){super(),de(this,e,At,St,he,{className:0,strokeWidth:1})}}function Ht(s){let e,l,t,r,n;return{c(){e=U("svg"),l=U("path"),t=U("path"),r=U("path"),n=U("path"),this.h()},l(i){e=H(i,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var o=v(e);l=H(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(l).forEach(c),t=H(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(t).forEach(c),r=H(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(r).forEach(c),n=H(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),v(n).forEach(c),o.forEach(c),this.h()},h(){f(l,"d","M20 12V5.74853C20 5.5894 19.9368 5.43679 19.8243 5.32426L16.6757 2.17574C16.5632 2.06321 16.4106 2 16.2515 2H4.6C4.26863 2 4 2.26863 4 2.6V21.4C4 21.7314 4.26863 22 4.6 22H11"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(t,"d","M8 10H16M8 6H12M8 14H11"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(r,"d","M17.9541 16.9394L18.9541 15.9394C19.392 15.5015 20.102 15.5015 20.5399 15.9394V15.9394C20.9778 16.3773 20.9778 17.0873 20.5399 17.5252L19.5399 18.5252M17.9541 16.9394L14.963 19.9305C14.8131 20.0804 14.7147 20.2741 14.6821 20.4835L14.4394 22.0399L15.9957 21.7973C16.2052 21.7646 16.3988 21.6662 16.5487 21.5163L19.5399 18.5252M17.9541 16.9394L19.5399 18.5252"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(n,"d","M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(i,o){b(i,e,o),p(e,l),p(e,t),p(e,r),p(e,n)},p(i,[o]){o&1&&f(e,"class",i[0]),o&2&&f(e,"stroke-width",i[1])},i:G,o:G,d(i){i&&c(e)}}}function Ot(s,e,l){let{className:t="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&l(0,t=n.className),"strokeWidth"in n&&l(1,r=n.strokeWidth)},[t,r]}class Pt extends ue{constructor(e){super(),de(this,e,Ot,Ht,he,{className:0,strokeWidth:1})}}function xe(s){let e,l,t,r;function n(a){s[18](a)}function i(a){s[19](a)}let o={edit:s[7]};return s[12]!==void 0&&(o.show=s[12]),s[0]!==void 0&&(o.item=s[0]),e=new $t({props:o}),ge.push(()=>we(e,"show",n)),ge.push(()=>we(e,"item",i)),{c(){X(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,d){Y(e,a,d),r=!0},p(a,d){const u={};d&128&&(u.edit=a[7]),!l&&d&4096&&(l=!0,u.show=a[12],ye(()=>l=!1)),!t&&d&1&&(t=!0,u.item=a[0],ye(()=>t=!1)),e.$set(u)},i(a){r||(j(e.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),r=!1},d(a){x(e,a)}}}function Zt(s){let e,l,t,r;const n=[Jt,qt],i=[];function o(a,d){return a[6]?1:0}return l=o(s),t=i[l]=n[l](s),{c(){e=g("div"),t.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var d=v(e);t.l(d),d.forEach(c),this.h()},h(){f(e,"class","pl-1.5")},m(a,d){b(a,e,d),i[l].m(e,null),r=!0},p(a,d){let u=l;l=o(a),l===u?i[l].p(a,d):(te(),I(i[u],1,1,()=>{i[u]=null}),le(),t=i[l],t?t.p(a,d):(t=i[l]=n[l](a),t.c()),j(t,1),t.m(e,null))},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){a&&c(e),i[l].d()}}}function Rt(s){let e,l,t,r;const n=[el,xt],i=[];function o(a,d){return a[6]?1:0}return l=o(s),t=i[l]=n[l](s),{c(){e=g("div"),t.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var d=v(e);t.l(d),d.forEach(c),this.h()},h(){f(e,"class","size-10 shrink-0 flex justify-center items-center bg-black/20 dark:bg-white/10 text-white rounded-xl")},m(a,d){b(a,e,d),i[l].m(e,null),r=!0},p(a,d){let u=l;l=o(a),l!==u&&(te(),I(i[u],1,1,()=>{i[u]=null}),le(),t=i[l],t||(t=i[l]=n[l](a),t.c()),j(t,1),t.m(e,null))},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){a&&c(e),i[l].d()}}}function qt(s){let e,l;return e=new De({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},p:G,i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Jt(s){let e,l;return e=new Ne({props:{content:s[10]==="collection"?s[13].t("Collection"):s[10]==="note"?s[13].t("Note"):s[10]==="chat"?s[13].t("Chat"):s[10]==="file"?s[13].t("File"):s[13].t("Document"),placement:"top",$$slots:{default:[Yt]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},p(t,r){const n={};r&9216&&(n.content=t[10]==="collection"?t[13].t("Collection"):t[10]==="note"?t[13].t("Note"):t[10]==="chat"?t[13].t("Chat"):t[10]==="file"?t[13].t("File"):t[13].t("Document")),r&4195328&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Kt(s){let e,l;return e=new Wt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Gt(s){let e,l;return e=new vt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Xt(s){let e,l;return e=new Pt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Qt(s){let e,l;return e=new Ut({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Yt(s){let e,l,t,r;const n=[Qt,Xt,Gt,Kt],i=[];function o(a,d){return a[10]==="collection"?0:a[10]==="note"?1:a[10]==="chat"?2:3}return e=o(s),l=i[e]=n[e](s),{c(){l.c(),t=ee()},l(a){l.l(a),t=ee()},m(a,d){i[e].m(a,d),b(a,t,d),r=!0},p(a,d){let u=e;e=o(a),e!==u&&(te(),I(i[u],1,1,()=>{i[u]=null}),le(),l=i[e],l||(l=i[e]=n[e](a),l.c()),j(l,1),l.m(t.parentNode,t))},i(a){r||(j(l),r=!0)},o(a){I(l),r=!1},d(a){a&&c(t),i[e].d(a)}}}function xt(s){let e,l;return e=new De({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function el(s){let e,l,t;return{c(){e=U("svg"),l=U("path"),t=U("path"),this.h()},l(r){e=H(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var n=v(e);l=H(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(c),t=H(n,"path",{d:!0}),v(t).forEach(c),n.forEach(c),this.h()},h(){f(l,"fill-rule","evenodd"),f(l,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),f(l,"clip-rule","evenodd"),f(t,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 24 24"),f(e,"fill","currentColor"),f(e,"aria-hidden","true"),f(e,"class","size-4.5")},m(r,n){b(r,e,n),p(e,l),p(e,t)},i:G,o:G,d(r){r&&c(e)}}}function tl(s){let e,l;return e=new Ne({props:{content:s[17](s[9]),className:"flex flex-col w-full",placement:"top-start",$$slots:{default:[nl]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},p(t,r){const n={};r&512&&(n.content=t[17](t[9])),r&4197888&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ll(s){let e,l,t=s[17](s[9])+"",r,n,i,o,a;function d(_,C){return _[10]==="file"?cl:_[10]==="note"?fl:_[10]==="doc"?ol:_[10]==="collection"?al:sl}let u=d(s),h=u(s),m=s[11]&&et(s);return{c(){e=g("div"),l=g("div"),r=T(t),n=W(),i=g("div"),h.c(),o=W(),m&&m.c(),this.h()},l(_){e=w(_,"DIV",{class:!0});var C=v(e);l=w(C,"DIV",{class:!0});var V=v(l);r=$(V,t),V.forEach(c),n=S(C),i=w(C,"DIV",{class:!0});var D=v(i);h.l(D),o=S(D),m&&m.l(D),D.forEach(c),C.forEach(c),this.h()},h(){var _;f(l,"class","dark:text-gray-100 text-sm font-medium line-clamp-1 mb-1"),f(i,"class",a="flex justify-between text-xs line-clamp-1 "+(((_=s[14])==null?void 0:_.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500")),f(e,"class","flex flex-col justify-center -space-y-0.5 px-2.5 w-full")},m(_,C){b(_,e,C),p(e,l),p(l,r),p(e,n),p(e,i),h.m(i,null),p(i,o),m&&m.m(i,null)},p(_,C){var V;C&512&&t!==(t=_[17](_[9])+"")&&L(r,t),u===(u=d(_))&&h?h.p(_,C):(h.d(1),h=u(_),h&&(h.c(),h.m(i,o))),_[11]?m?m.p(_,C):(m=et(_),m.c(),m.m(i,null)):m&&(m.d(1),m=null),C&16384&&a!==(a="flex justify-between text-xs line-clamp-1 "+(((V=_[14])==null?void 0:V.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"))&&f(i,"class",a)},i:G,o:G,d(_){_&&c(e),h.d(),m&&m.d()}}}function rl(s){let e,l;return{c(){e=g("div"),l=T(s[10]),this.h()},l(t){e=w(t,"DIV",{class:!0});var r=v(e);l=$(r,s[10]),r.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs capitalize shrink-0")},m(t,r){b(t,e,r),p(e,l)},p(t,r){r&1024&&L(l,t[10])},d(t){t&&c(e)}}}function il(s){let e,l=ce(s[11])+"",t;return{c(){e=g("div"),t=T(l),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=v(e);t=$(n,l),n.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs capitalize shrink-0")},m(r,n){b(r,e,n),p(e,t)},p(r,n){n&2048&&l!==(l=ce(r[11])+"")&&L(t,l)},d(r){r&&c(e)}}}function nl(s){let e,l,t,r=s[17](s[9])+"",n,i;function o(u,h){return u[11]?il:rl}let a=o(s),d=a(s);return{c(){e=g("div"),l=g("div"),t=g("div"),n=T(r),i=W(),d.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var h=v(e);l=w(h,"DIV",{class:!0});var m=v(l);t=w(m,"DIV",{class:!0});var _=v(t);n=$(_,r),_.forEach(c),i=S(m),d.l(m),m.forEach(c),h.forEach(c),this.h()},h(){f(t,"class","font-medium line-clamp-1 flex-1 pr-1"),f(l,"class","dark:text-gray-100 text-sm flex justify-between items-center"),f(e,"class","flex flex-col justify-center -space-y-0.5 px-1 w-full")},m(u,h){b(u,e,h),p(e,l),p(l,t),p(t,n),p(l,i),d.m(l,null)},p(u,h){h&512&&r!==(r=u[17](u[9])+"")&&L(n,r),a===(a=o(u))&&d?d.p(u,h):(d.d(1),d=a(u),d&&(d.c(),d.m(l,null)))},d(u){u&&c(e),d.d()}}}function sl(s){let e,l;return{c(){e=g("span"),l=T(s[10]),this.h()},l(t){e=w(t,"SPAN",{class:!0});var r=v(e);l=$(r,s[10]),r.forEach(c),this.h()},h(){f(e,"class","capitalize line-clamp-1")},m(t,r){b(t,e,r),p(e,l)},p(t,r){r&1024&&L(l,t[10])},d(t){t&&c(e)}}}function al(s){let e=s[13].t("Collection")+"",l;return{c(){l=T(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("Collection")+"")&&L(l,e)},d(t){t&&c(l)}}}function ol(s){let e=s[13].t("Document")+"",l;return{c(){l=T(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("Document")+"")&&L(l,e)},d(t){t&&c(l)}}}function fl(s){let e=s[13].t("Note")+"",l;return{c(){l=T(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("Note")+"")&&L(l,e)},d(t){t&&c(l)}}}function cl(s){let e=s[13].t("File")+"",l;return{c(){l=T(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("File")+"")&&L(l,e)},d(t){t&&c(l)}}}function et(s){let e,l=ce(s[11])+"",t;return{c(){e=g("span"),t=T(l),this.h()},l(r){e=w(r,"SPAN",{class:!0});var n=v(e);t=$(n,l),n.forEach(c),this.h()},h(){f(e,"class","capitalize")},m(r,n){b(r,e,n),p(e,t)},p(r,n){n&2048&&l!==(l=ce(r[11])+"")&&L(t,l)},d(r){r&&c(e)}}}function tt(s){let e,l,t,r,n,i,o,a;return t=new it({props:{className:"size-4"}}),{c(){e=g("div"),l=g("button"),X(t.$$.fragment),this.h()},l(d){e=w(d,"DIV",{class:!0});var u=v(e);l=w(u,"BUTTON",{"aria-label":!0,class:!0,type:!0});var h=v(l);Q(t.$$.fragment,h),h.forEach(c),u.forEach(c),this.h()},h(){var d;f(l,"aria-label",r=s[13].t("Remove File")),f(l,"class",n="bg-white text-black border border-gray-50 rounded-full "+(((d=s[14])==null?void 0:d.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition")),f(l,"type","button"),f(e,"class","absolute -top-1 -right-1")},m(d,u){b(d,e,u),p(e,l),Y(t,l,null),i=!0,o||(a=fe(l,"click",ct(s[20])),o=!0)},p(d,u){var h;(!i||u&8192&&r!==(r=d[13].t("Remove File")))&&f(l,"aria-label",r),(!i||u&16384&&n!==(n="bg-white text-black border border-gray-50 rounded-full "+(((h=d[14])==null?void 0:h.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition")))&&f(l,"class",n)},i(d){i||(j(t.$$.fragment,d),i=!0)},o(d){I(t.$$.fragment,d),i=!1},d(d){d&&c(e),x(t),o=!1,a()}}}function ul(s){let e,l,t,r,n,i,o,a,d,u,h,m,_=s[0]&&xe(s);const C=[Rt,Zt],V=[];function D(k,N){return k[8]?1:0}t=D(s),r=V[t]=C[t](s);const F=[ll,tl],E=[];function M(k,N){return k[8]?1:0}i=M(s),o=E[i]=F[i](s);let B=s[4]&&tt(s);return{c(){_&&_.c(),e=W(),l=g("button"),r.c(),n=W(),o.c(),a=W(),B&&B.c(),this.h()},l(k){_&&_.l(k),e=S(k),l=w(k,"BUTTON",{class:!0,type:!0});var N=v(l);r.l(N),n=S(N),o.l(N),a=S(N),B&&B.l(N),N.forEach(c),this.h()},h(){f(l,"class",d="relative group p-1.5 "+s[1]+" flex items-center gap-1 "+s[2]+" "+(s[8]?"rounded-xl p-2":"rounded-2xl")+" text-left"),f(l,"type","button")},m(k,N){_&&_.m(k,N),b(k,e,N),b(k,l,N),V[t].m(l,null),p(l,n),E[i].m(l,null),p(l,a),B&&B.m(l,null),u=!0,h||(m=fe(l,"click",s[21]),h=!0)},p(k,[N]){k[0]?_?(_.p(k,N),N&1&&j(_,1)):(_=xe(k),_.c(),j(_,1),_.m(e.parentNode,e)):_&&(te(),I(_,1,1,()=>{_=null}),le());let O=t;t=D(k),t===O?V[t].p(k,N):(te(),I(V[O],1,1,()=>{V[O]=null}),le(),r=V[t],r?r.p(k,N):(r=V[t]=C[t](k),r.c()),j(r,1),r.m(l,n));let P=i;i=M(k),i===P?E[i].p(k,N):(te(),I(E[P],1,1,()=>{E[P]=null}),le(),o=E[i],o?o.p(k,N):(o=E[i]=F[i](k),o.c()),j(o,1),o.m(l,a)),k[4]?B?(B.p(k,N),N&16&&j(B,1)):(B=tt(k),B.c(),j(B,1),B.m(l,null)):B&&(te(),I(B,1,1,()=>{B=null}),le()),(!u||N&262&&d!==(d="relative group p-1.5 "+k[1]+" flex items-center gap-1 "+k[2]+" "+(k[8]?"rounded-xl p-2":"rounded-2xl")+" text-left"))&&f(l,"class",d)},i(k){u||(j(_),j(r),j(o),j(B),u=!0)},o(k){I(_),I(r),I(o),I(B),u=!1},d(k){k&&(c(e),c(l)),_&&_.d(k),V[t].d(),E[i].d(),B&&B.d(),h=!1,m()}}}function dl(s,e,l){let t,r;Ce(s,dt,y=>l(14,r=y));const n=lt("i18n");Ce(s,n,y=>l(13,t=y));const i=ft();let{className:o="w-60"}=e,{colorClassName:a="bg-white dark:bg-gray-850 border border-gray-50 dark:border-gray-800"}=e,{url:d=null}=e,{dismissible:u=!1}=e,{modal:h=!1}=e,{loading:m=!1}=e,{item:_=null}=e,{edit:C=!1}=e,{small:V=!1}=e,{name:D}=e,{type:F}=e,{size:E}=e,M=!1;const B=y=>{try{return decodeURIComponent(y)}catch{return y}};function k(y){M=y,l(12,M)}function N(y){_=y,l(0,_)}const O=()=>{i("dismiss")},P=async()=>{var y,ae;(ae=(y=_==null?void 0:_.file)==null?void 0:y.data)!=null&&ae.content||(_==null?void 0:_.type)==="file"||h?l(12,M=!M):d&&(F==="file"?window.open(`${d}/content`,"_blank").focus():window.open(`${d}`,"_blank").focus()),i("click")};return s.$$set=y=>{"className"in y&&l(1,o=y.className),"colorClassName"in y&&l(2,a=y.colorClassName),"url"in y&&l(3,d=y.url),"dismissible"in y&&l(4,u=y.dismissible),"modal"in y&&l(5,h=y.modal),"loading"in y&&l(6,m=y.loading),"item"in y&&l(0,_=y.item),"edit"in y&&l(7,C=y.edit),"small"in y&&l(8,V=y.small),"name"in y&&l(9,D=y.name),"type"in y&&l(10,F=y.type),"size"in y&&l(11,E=y.size)},[_,o,a,d,u,h,m,C,V,D,F,E,M,t,r,n,i,B,k,N,O,P]}class Vl extends ue{constructor(e){super(),de(this,e,dl,ul,he,{className:1,colorClassName:2,url:3,dismissible:4,modal:5,loading:6,item:0,edit:7,small:8,name:9,type:10,size:11})}}export{vt as C,Wt as D,Vl as F,Pt as P,Dl as a,Ut as b,jl as d,gt as g,Nl as u};
//# sourceMappingURL=BjhW-Ccu.js.map
