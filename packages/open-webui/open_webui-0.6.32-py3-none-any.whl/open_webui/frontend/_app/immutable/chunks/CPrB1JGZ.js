import{S as De,i as ye,s as ke,V as Me,W as Ee,a as B,d as _,f as m,g as O,h as T,n as _e,H as We,I as Ge,C as F,D as q,E as R,K as Ke,q as v,r as w,F as Z,k as pe,v as Ye,l as A,p as W,x as jt,z as At,A as Wt,B as Ft,e as L,c as S,y as ae,u as se,t as le,b as ne,j as re,G as ue,U as et,m as je,T as Ce,a0 as Ae,N as Jt,w as Xt,M as tt,L as lt,X as Qt}from"./JdJvpXsd.js";import{e as ge}from"./Di7MzXQI.js";import"./IHki7fMi.js";import"./sVask8_D.js";import{M as qt,a as Rt,b as Zt,c as nt}from"./GXOrFlnQ.js";import{m as rt,z as ot,i as xt,k as el}from"./CqxBw7o8.js";import{F as tl}from"./CU2r43ac.js";import{d as Ze,r as ll}from"./I1CDPYOB.js";import"./BXP-4RTu.js";import{S as nl}from"./C641ttU9.js";import{f as Gt}from"./g5t9vw8M.js";import"./D4WEw8sP.js";import{p as rl,d as ol,u as al,g as sl}from"./CrY6DSmw.js";import{a as Kt,u as Yt,g as at,c as il,M as we,m as fl,d as qe}from"./jTPhk4Bq.js";import{t as de}from"./Bn9KmUGN.js";import{g as Re}from"./8ad-cT75.js";import{C as ul}from"./D5t9AWP7.js";import{S as cl}from"./Bz14tCpw.js";import{T as ce}from"./DSv6SC83.js";import{C as dl}from"./B-U7Maqx.js";import{L as ml}from"./BGGU5h9L.js";import{E as _l}from"./CWLqKgXS.js";import{E as hl}from"./BN_tyc00.js";import{E as pl}from"./CeY4Gfrm.js";function gl(o){let e,l;return{c(){e=Me("svg"),l=Me("path"),this.h()},l(t){e=Ee(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=B(e);l=Ee(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),B(l).forEach(_),n.forEach(_),this.h()},h(){m(l,"stroke-linecap","round"),m(l,"stroke-linejoin","round"),m(l,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width",o[1]),m(e,"stroke","currentColor"),m(e,"class",o[0])},m(t,n){O(t,e,n),T(e,l)},p(t,[n]){n&2&&m(e,"stroke-width",t[1]),n&1&&m(e,"class",t[0])},i:_e,o:_e,d(t){t&&_(e)}}}function vl(o,e,l){let{className:t="size-4"}=e,{strokeWidth:n="1.5"}=e;return o.$$set=r=>{"className"in r&&l(0,t=r.className),"strokeWidth"in r&&l(1,n=r.strokeWidth)},[t,n]}class bl extends De{constructor(e){super(),ye(this,e,vl,gl,ke,{className:0,strokeWidth:1})}}function wl(o){let e;const l=o[8].default,t=jt(l,o,o[13],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,r){t&&t.m(n,r),e=!0},p(n,r){t&&t.p&&(!e||r&8192)&&At(t,l,n,n[13],e?Ft(l,n[13],r,null):Wt(n[13]),null)},i(n){e||(v(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function kl(o){var t;let e,l;return e=new ce({props:{content:o[5].t("More"),className:((t=o[6])==null?void 0:t.highContrastMode)??!1?"":"group-hover/item:opacity-100 opacity-0",$$slots:{default:[wl]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){R(e,n,r),l=!0},p(n,r){var s;const a={};r&32&&(a.content=n[5].t("More")),r&64&&(a.className=((s=n[6])==null?void 0:s.highContrastMode)??!1?"":"group-hover/item:opacity-100 opacity-0"),r&8192&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function $l(o){let e,l;return e=new _l({}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Ml(o){let e,l;return e=new hl({}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function El(o){let e=o[5].t("Keep in Sidebar")+"",l;return{c(){l=le(e)},l(t){l=ne(t,e)},m(t,n){O(t,l,n)},p(t,n){n&32&&e!==(e=t[5].t("Keep in Sidebar")+"")&&re(l,e)},d(t){t&&_(l)}}}function Dl(o){let e=o[5].t("Hide from Sidebar")+"",l;return{c(){l=le(e)},l(t){l=ne(t,e)},m(t,n){O(t,l,n)},p(t,n){n&32&&e!==(e=t[5].t("Hide from Sidebar")+"")&&re(l,e)},d(t){t&&_(l)}}}function yl(o){let e,l,t,n,r,a,s;const i=[Ml,$l],u=[];function c(g,I){var k,p;return I&66&&(e=null),e==null&&(e=!!(((k=g[6])==null?void 0:k.pinnedModels)??[]).includes((p=g[1])==null?void 0:p.id)),e?0:1}l=c(o,-1),t=u[l]=i[l](o);function d(g,I){var k,p;return I&66&&(a=null),a==null&&(a=!!(((k=g[6])==null?void 0:k.pinnedModels)??[]).includes((p=g[1])==null?void 0:p.id)),a?Dl:El}let D=d(o,-1),H=D(o);return{c(){t.c(),n=A(),r=L("div"),H.c(),this.h()},l(g){t.l(g),n=W(g),r=S(g,"DIV",{class:!0});var I=B(r);H.l(I),I.forEach(_),this.h()},h(){m(r,"class","flex items-center")},m(g,I){u[l].m(g,I),O(g,n,I),O(g,r,I),H.m(r,null),s=!0},p(g,I){let k=l;l=c(g,I),l!==k&&(ae(),w(u[k],1,1,()=>{u[k]=null}),se(),t=u[l],t||(t=u[l]=i[l](g),t.c()),v(t,1),t.m(n.parentNode,n)),D===(D=d(g,I))&&H?H.p(g,I):(H.d(1),H=D(g),H&&(H.c(),H.m(r,null)))},i(g){s||(v(t),s=!0)},o(g){w(t),s=!1},d(g){g&&(_(n),_(r)),u[l].d(g),H.d()}}}function Cl(o){let e,l,t,n=o[5].t("Copy Link")+"",r,a;return e=new ml({}),{c(){F(e.$$.fragment),l=A(),t=L("div"),r=le(n),this.h()},l(s){q(e.$$.fragment,s),l=W(s),t=S(s,"DIV",{class:!0});var i=B(t);r=ne(i,n),i.forEach(_),this.h()},h(){m(t,"class","flex items-center")},m(s,i){R(e,s,i),O(s,l,i),O(s,t,i),T(t,r),a=!0},p(s,i){(!a||i&32)&&n!==(n=s[5].t("Copy Link")+"")&&re(r,n)},i(s){a||(v(e.$$.fragment,s),a=!0)},o(s){w(e.$$.fragment,s),a=!1},d(s){s&&(_(l),_(t)),Z(e,s)}}}function Il(o){var r,a;let e,l,t,n;return e=new nt({props:{type:"button","aria-pressed":(((r=o[6])==null?void 0:r.pinnedModels)??[]).includes((a=o[1])==null?void 0:a.id),class:"flex rounded-xl py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2",$$slots:{default:[yl]},$$scope:{ctx:o}}}),e.$on("click",o[9]),t=new nt({props:{type:"button",class:"flex rounded-xl py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2",$$slots:{default:[Cl]},$$scope:{ctx:o}}}),t.$on("click",o[10]),{c(){F(e.$$.fragment),l=A(),F(t.$$.fragment)},l(s){q(e.$$.fragment,s),l=W(s),q(t.$$.fragment,s)},m(s,i){R(e,s,i),O(s,l,i),R(t,s,i),n=!0},p(s,i){var d,D;const u={};i&66&&(u["aria-pressed"]=(((d=s[6])==null?void 0:d.pinnedModels)??[]).includes((D=s[1])==null?void 0:D.id)),i&8290&&(u.$$scope={dirty:i,ctx:s}),e.$set(u);const c={};i&8224&&(c.$$scope={dirty:i,ctx:s}),t.$set(c)},i(s){n||(v(e.$$.fragment,s),v(t.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),n=!1},d(s){s&&_(l),Z(e,s),Z(t,s)}}}function Nl(o){let e,l,t,n;return e=new Rt({props:{$$slots:{default:[kl]},$$scope:{ctx:o}}}),t=new Zt({props:{strategy:"fixed",class:"w-full max-w-[180px] text-sm rounded-2xl p-1 z-[9999999] bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-100  dark:border-gray-800",sideOffset:-2,side:"bottom",align:"end",transition:Gt,$$slots:{default:[Il]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment),l=A(),F(t.$$.fragment)},l(r){q(e.$$.fragment,r),l=W(r),q(t.$$.fragment,r)},m(r,a){R(e,r,a),O(r,l,a),R(t,r,a),n=!0},p(r,a){const s={};a&8288&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const i={};a&8303&&(i.$$scope={dirty:a,ctx:r}),t.$set(i)},i(r){n||(v(e.$$.fragment,r),v(t.$$.fragment,r),n=!0)},o(r){w(e.$$.fragment,r),w(t.$$.fragment,r),n=!1},d(r){r&&_(l),Z(e,r),Z(t,r)}}}function Vl(o){let e,l,t;function n(a){o[12](a)}let r={closeFocus:!1,onOpenChange:o[11],typeahead:!1,$$slots:{default:[Nl]},$$scope:{ctx:o}};return o[0]!==void 0&&(r.open=o[0]),e=new qt({props:r}),We.push(()=>Ge(e,"open",n)),{c(){F(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,s){R(e,a,s),t=!0},p(a,[s]){const i={};s&16&&(i.onOpenChange=a[11]),s&8303&&(i.$$scope={dirty:s,ctx:a}),!l&&s&1&&(l=!0,i.open=a[0],Ke(()=>l=!1)),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){w(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function Hl(o,e,l){let t,n;pe(o,Kt,p=>l(6,n=p));let{$$slots:r={},$$scope:a}=e;const s=Ye("i18n");pe(o,s,p=>l(5,t=p));let{show:i=!1}=e,{model:u}=e,{pinModelHandler:c=()=>{}}=e,{copyLinkHandler:d=()=>{}}=e,{onClose:D=()=>{}}=e;const H=p=>{p.stopPropagation(),p.preventDefault(),c(u==null?void 0:u.id),l(0,i=!1)},g=p=>{p.stopPropagation(),p.preventDefault(),d(),l(0,i=!1)},I=p=>{p===!1&&D()};function k(p){i=p,l(0,i)}return o.$$set=p=>{"show"in p&&l(0,i=p.show),"model"in p&&l(1,u=p.model),"pinModelHandler"in p&&l(2,c=p.pinModelHandler),"copyLinkHandler"in p&&l(3,d=p.copyLinkHandler),"onClose"in p&&l(4,D=p.onClose),"$$scope"in p&&l(13,a=p.$$scope)},[i,u,c,d,D,t,n,s,r,H,g,I,k,a]}class Tl extends De{constructor(e){super(),ye(this,e,Hl,Vl,ke,{show:0,model:1,pinModelHandler:2,copyLinkHandler:3,onClose:4})}}function Ol(o){let e,l,t;return{c(){e=Me("svg"),l=Me("path"),t=Me("circle"),this.h()},l(n){e=Ee(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=B(e);l=Ee(r,"path",{d:!0,stroke:!0,fill:!0}),B(l).forEach(_),t=Ee(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),B(t).forEach(_),r.forEach(_),this.h()},h(){m(l,"d","M4 12 L8 7 H21 V17 H8 L4 12 Z"),m(l,"stroke","currentColor"),m(l,"fill","none"),m(t,"cx","10"),m(t,"cy","12"),m(t,"r","0.75"),m(t,"fill","currentColor"),m(t,"stroke","currentColor"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width",o[1]),m(e,"stroke","currentColor"),m(e,"class",o[0])},m(n,r){O(n,e,r),T(e,l),T(e,t)},p(n,[r]){r&2&&m(e,"stroke-width",n[1]),r&1&&m(e,"class",n[0])},i:_e,o:_e,d(n){n&&_(e)}}}function zl(o,e,l){let{className:t="size-4"}=e,{strokeWidth:n="1.8"}=e;return o.$$set=r=>{"className"in r&&l(0,t=r.className),"strokeWidth"in r&&l(1,n=r.strokeWidth)},[t,n]}class Ll extends De{constructor(e){super(),ye(this,e,zl,Ol,ke,{className:0,strokeWidth:1})}}function st(o,e,l){const t=o.slice();return t[17]=e[l],t}function Sl(o){let e,l;return{c(){e=L("img"),this.h()},l(t){e=S(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var t,n,r;et(e.src,l=((r=(n=(t=o[1].model)==null?void 0:t.info)==null?void 0:n.meta)==null?void 0:r.profile_image_url)??`${at}/static/favicon.png`)||m(e,"src",l),m(e,"alt","Model"),m(e,"class","rounded-full size-5 flex items-center")},m(t,n){O(t,e,n)},p(t,n){var r,a,s;n&2&&!et(e.src,l=((s=(a=(r=t[1].model)==null?void 0:r.info)==null?void 0:a.meta)==null?void 0:s.profile_image_url)??`${at}/static/favicon.png`)&&m(e,"src",l)},d(t){t&&_(e)}}}function Bl(o){let e,l=o[1].label+"",t;return{c(){e=L("div"),t=le(l),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=B(e);t=ne(r,l),r.forEach(_),this.h()},h(){m(e,"class","line-clamp-1")},m(n,r){O(n,e,r),T(e,t)},p(n,r){r&2&&l!==(l=n[1].label+"")&&re(t,l)},d(n){n&&_(e)}}}function it(o){var s,i,u,c;let e,l=((s=o[1].model.ollama)==null?void 0:s.expires_at)&&new Date(((i=o[1].model.ollama)==null?void 0:i.expires_at)*1e3)>new Date,t,n,r=(((c=(u=o[1].model.ollama)==null?void 0:u.details)==null?void 0:c.parameter_size)??"")!==""&&ft(o),a=l&&ut(o);return{c(){r&&r.c(),e=A(),a&&a.c(),t=je()},l(d){r&&r.l(d),e=W(d),a&&a.l(d),t=je()},m(d,D){r&&r.m(d,D),O(d,e,D),a&&a.m(d,D),O(d,t,D),n=!0},p(d,D){var H,g,I,k;(((g=(H=d[1].model.ollama)==null?void 0:H.details)==null?void 0:g.parameter_size)??"")!==""?r?(r.p(d,D),D&2&&v(r,1)):(r=ft(d),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(ae(),w(r,1,1,()=>{r=null}),se()),D&2&&(l=((I=d[1].model.ollama)==null?void 0:I.expires_at)&&new Date(((k=d[1].model.ollama)==null?void 0:k.expires_at)*1e3)>new Date),l?a?(a.p(d,D),D&2&&v(a,1)):(a=ut(d),a.c(),v(a,1),a.m(t.parentNode,t)):a&&(ae(),w(a,1,1,()=>{a=null}),se())},i(d){n||(v(r),v(a),n=!0)},o(d){w(r),w(a),n=!1},d(d){d&&(_(e),_(t)),r&&r.d(d),a&&a.d(d)}}}function ft(o){var n,r,a,s,i,u;let e,l,t;return l=new ce({props:{content:`${(r=(n=o[1].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((s=(a=o[1].model.ollama)==null?void 0:a.details)==null?void 0:s.quantization_level)+" ":""}${(i=o[1].model.ollama)!=null&&i.size?`(${(((u=o[1].model.ollama)==null?void 0:u.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Pl]},$$scope:{ctx:o}}}),{c(){e=L("div"),F(l.$$.fragment),this.h()},l(c){e=S(c,"DIV",{class:!0});var d=B(e);q(l.$$.fragment,d),d.forEach(_),this.h()},h(){m(e,"class","flex items-center translate-y-[0.5px]")},m(c,d){O(c,e,d),R(l,e,null),t=!0},p(c,d){var H,g,I,k,p,U;const D={};d&2&&(D.content=`${(g=(H=c[1].model.ollama)==null?void 0:H.details)!=null&&g.quantization_level?((k=(I=c[1].model.ollama)==null?void 0:I.details)==null?void 0:k.quantization_level)+" ":""}${(p=c[1].model.ollama)!=null&&p.size?`(${(((U=c[1].model.ollama)==null?void 0:U.size)/1024**3).toFixed(1)}GB)`:""}`),d&1048578&&(D.$$scope={dirty:d,ctx:c}),l.$set(D)},i(c){t||(v(l.$$.fragment,c),t=!0)},o(c){w(l.$$.fragment,c),t=!1},d(c){c&&_(e),Z(l)}}}function Pl(o){var n,r;let e,l=(((r=(n=o[1].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",t;return{c(){e=L("span"),t=le(l),this.h()},l(a){e=S(a,"SPAN",{class:!0});var s=B(e);t=ne(s,l),s.forEach(_),this.h()},h(){m(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,s){O(a,e,s),T(e,t)},p(a,s){var i,u;s&2&&l!==(l=(((u=(i=a[1].model.ollama)==null?void 0:i.details)==null?void 0:u.parameter_size)??"")+"")&&re(t,l)},d(a){a&&_(e)}}}function ut(o){var n;let e,l,t;return l=new ce({props:{content:`${o[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ze(((n=o[1].model.ollama)==null?void 0:n.expires_at)*1e3).fromNow()})}`,className:"self-end",$$slots:{default:[Ul]},$$scope:{ctx:o}}}),{c(){e=L("div"),F(l.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=B(e);q(l.$$.fragment,a),a.forEach(_),this.h()},h(){m(e,"class","flex items-center translate-y-[0.5px] px-0.5")},m(r,a){O(r,e,a),R(l,e,null),t=!0},p(r,a){var i;const s={};a&258&&(s.content=`${r[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ze(((i=r[1].model.ollama)==null?void 0:i.expires_at)*1e3).fromNow()})}`),a&1048576&&(s.$$scope={dirty:a,ctx:r}),l.$set(s)},i(r){t||(v(l.$$.fragment,r),t=!0)},o(r){w(l.$$.fragment,r),t=!1},d(r){r&&_(e),Z(l)}}}function Ul(o){let e,l='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-pq0hxj"&&(e.innerHTML=l),this.h()},h(){m(e,"class","flex items-center")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function ct(o){let e=o[1].model.id,l,t,n=mt(o);return{c(){n.c(),l=je()},l(r){n.l(r),l=je()},m(r,a){n.m(r,a),O(r,l,a),t=!0},p(r,a){a&2&&ke(e,e=r[1].model.id)?(ae(),w(n,1,1,_e),se(),n=mt(r),n.c(),v(n,1),n.m(l.parentNode,l)):n.p(r,a)},i(r){t||(v(n),t=!0)},o(r){w(n),t=!1},d(r){r&&_(l),n.d(r)}}}function jl(o){let e,l,t;return l=new Ll({}),{c(){e=L("div"),F(l.$$.fragment),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=B(e);q(l.$$.fragment,r),r.forEach(_),this.h()},h(){m(e,"class","translate-y-[1px]")},m(n,r){O(n,e,r),R(l,e,null),t=!0},p:_e,i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),Z(l)}}}function Al(o){let e,l=o[17].name+"",t,n;return{c(){e=L("div"),t=le(l),n=A(),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=B(e);t=ne(a,l),a.forEach(_),n=W(r),this.h()},h(){m(e,"class","text-xs font-medium rounded-sm uppercase text-white")},m(r,a){O(r,e,a),T(e,t),O(r,n,a)},p(r,a){a&2&&l!==(l=r[17].name+"")&&re(t,l)},d(r){r&&(_(e),_(n))}}}function dt(o){let e,l;return e=new ce({props:{content:o[17].name,className:"flex-shrink-0",$$slots:{default:[Al]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.content=t[17].name),n&1048578&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Wl(o){var s;let e,l,t,n=ge((s=o[1].model)==null?void 0:s.tags.sort(gt)),r=[];for(let i=0;i<n.length;i+=1)r[i]=dt(st(o,n,i));const a=i=>w(r[i],1,1,()=>{r[i]=null});return{c(){e=L("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=S(i,"DIV",{slot:!0,id:!0});var u=B(e);for(let c=0;c<r.length;c+=1)r[c].l(u);u.forEach(_),this.h()},h(){m(e,"slot","tooltip"),m(e,"id",l="tags-"+o[1].model.id)},m(i,u){O(i,e,u);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(i,u){var c;if(u&2){n=ge((c=i[1].model)==null?void 0:c.tags.sort(gt));let d;for(d=0;d<n.length;d+=1){const D=st(i,n,d);r[d]?(r[d].p(D,u),v(r[d],1)):(r[d]=dt(D),r[d].c(),v(r[d],1),r[d].m(e,null))}for(ae(),d=n.length;d<r.length;d+=1)a(d);se()}(!t||u&2&&l!==(l="tags-"+i[1].model.id))&&m(e,"id",l)},i(i){if(!t){for(let u=0;u<n.length;u+=1)v(r[u]);t=!0}},o(i){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);t=!1},d(i){i&&_(e),Ae(r,i)}}}function mt(o){let e,l;return e=new ce({props:{elementId:"tags-"+o[1].model.id,$$slots:{tooltip:[Wl],default:[jl]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.elementId="tags-"+t[1].model.id),n&1048578&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Fl(o){let e,l;return e=new ce({props:{content:`${o[8].t("External")}`,$$slots:{default:[Rl]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.content=`${t[8].t("External")}`),n&1048576&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function ql(o){let e,l;return e=new ce({props:{content:`${o[8].t("Direct")}`,$$slots:{default:[Zl]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.content=`${t[8].t("Direct")}`),n&1048576&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Rl(o){let e,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-1we9nfa"&&(e.innerHTML=l),this.h()},h(){m(e,"class","translate-y-[1px]")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function Zl(o){let e,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-1pvx0j8"&&(e.innerHTML=l),this.h()},h(){m(e,"class","translate-y-[1px]")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function _t(o){var t,n,r;let e,l;return e=new ce({props:{content:`${rt.parse(ot((r=(n=(t=o[1].model)==null?void 0:t.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Gl]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,s){R(e,a,s),l=!0},p(a,s){var u,c,d;const i={};s&2&&(i.content=`${rt.parse(ot((d=(c=(u=a[1].model)==null?void 0:u.info)==null?void 0:c.meta)==null?void 0:d.description).replaceAll(`
`,"<br>"))}`),s&1048576&&(i.$$scope={dirty:s,ctx:a}),e.$set(i)},i(a){l||(v(e.$$.fragment,a),l=!0)},o(a){w(e.$$.fragment,a),l=!1},d(a){Z(e,a)}}}function Gl(o){let e,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-i7zoyb"&&(e.innerHTML=l),this.h()},h(){m(e,"class","translate-y-[1px]")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function ht(o){let e,l;return e=new ce({props:{content:`${o[8].t("Eject")}`,className:"flex-shrink-0 group-hover/item:opacity-100 opacity-0 ",$$slots:{default:[Kl]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.content=`${t[8].t("Eject")}`),n&1048594&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Kl(o){let e,l,t,n,r;return l=new bl({props:{className:"size-3"}}),{c(){e=L("button"),F(l.$$.fragment),this.h()},l(a){e=S(a,"BUTTON",{class:!0});var s=B(e);q(l.$$.fragment,s),s.forEach(_),this.h()},h(){m(e,"class","flex")},m(a,s){O(a,e,s),R(l,e,null),t=!0,n||(r=ue(e,"click",o[12]),n=!0)},p:_e,i(a){t||(v(l.$$.fragment,a),t=!0)},o(a){w(l.$$.fragment,a),t=!1},d(a){a&&_(e),Z(l),n=!1,r()}}}function Yl(o){let e,l,t,n,r,a;return l=new pl({}),{c(){e=L("button"),F(l.$$.fragment),this.h()},l(s){e=S(s,"BUTTON",{"aria-label":!0,class:!0});var i=B(e);q(l.$$.fragment,i),i.forEach(_),this.h()},h(){m(e,"aria-label",t=`${o[8].t("More Options")}`),m(e,"class","flex")},m(s,i){O(s,e,i),R(l,e,null),n=!0,r||(a=ue(e,"click",o[13]),r=!0)},p(s,i){(!n||i&256&&t!==(t=`${s[8].t("More Options")}`))&&m(e,"aria-label",t)},i(s){n||(v(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),Z(l),r=!1,a()}}}function pt(o){let e,l,t;return l=new dl({props:{className:"size-3"}}),{c(){e=L("div"),F(l.$$.fragment)},l(n){e=S(n,"DIV",{});var r=B(e);q(l.$$.fragment,r),r.forEach(_)},m(n,r){O(n,e,r),R(l,e,null),t=!0},i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),Z(l)}}}function Jl(o){var Ve,He,Te,Oe,ze,Le,Se,Be,Pe,Ue;let e,l,t,n,r,a,s,i,u,c,d,D,H,g,I,k,p,U=((Ve=o[9])==null?void 0:Ve.role)==="admin"&&o[1].model.owned_by==="ollama"&&((He=o[1].model.ollama)==null?void 0:He.expires_at)&&new Date(((Te=o[1].model.ollama)==null?void 0:Te.expires_at)*1e3)>new Date,C,z,$,N,E,y,J,X,h,M,G;r=new ce({props:{content:((Oe=o[9])==null?void 0:Oe.role)==="admin"?((ze=o[1])==null?void 0:ze.value)??"":"",placement:"top-start",$$slots:{default:[Sl]},$$scope:{ctx:o}}}),i=new ce({props:{content:`${o[1].label} (${o[1].value})`,placement:"top-start",$$slots:{default:[Bl]},$$scope:{ctx:o}}});let b=o[1].model.owned_by==="ollama"&&it(o),K=(((Se=(Le=o[1])==null?void 0:Le.model)==null?void 0:Se.tags)??[]).length>0&&ct(o);const he=[ql,Fl],me=[];function Ie(V,f){var P;return(P=V[1].model)!=null&&P.direct?0:V[1].model.connection_type==="external"?1:-1}~(H=Ie(o))&&(g=me[H]=he[H](o));let Q=((Ue=(Pe=(Be=o[1].model)==null?void 0:Be.info)==null?void 0:Pe.meta)==null?void 0:Ue.description)&&_t(o),x=U&&ht(o);function Fe(V){o[15](V)}let Ne={model:o[1].model,pinModelHandler:o[5],copyLinkHandler:o[14],$$slots:{default:[Yl]},$$scope:{ctx:o}};o[7]!==void 0&&(Ne.show=o[7]),z=new Tl({props:Ne}),We.push(()=>Ge(z,"show",Fe));let te=o[3]===o[1].value&&pt();return{c(){e=L("button"),l=L("div"),t=L("div"),n=L("div"),F(r.$$.fragment),a=A(),s=L("div"),F(i.$$.fragment),u=A(),c=L("div"),b&&b.c(),d=A(),K&&K.c(),D=A(),g&&g.c(),I=A(),Q&&Q.c(),k=A(),p=L("div"),x&&x.c(),C=A(),F(z.$$.fragment),N=A(),te&&te.c(),this.h()},l(V){e=S(V,"BUTTON",{"aria-roledescription":!0,"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var f=B(e);l=S(f,"DIV",{class:!0});var P=B(l);t=S(P,"DIV",{class:!0});var j=B(t);n=S(j,"DIV",{class:!0});var Y=B(n);q(r.$$.fragment,Y),Y.forEach(_),a=W(j),s=S(j,"DIV",{class:!0});var oe=B(s);q(i.$$.fragment,oe),oe.forEach(_),u=W(j),c=S(j,"DIV",{class:!0});var ee=B(c);b&&b.l(ee),d=W(ee),K&&K.l(ee),D=W(ee),g&&g.l(ee),I=W(ee),Q&&Q.l(ee),ee.forEach(_),j.forEach(_),P.forEach(_),k=W(f),p=S(f,"DIV",{class:!0});var fe=B(p);x&&x.l(fe),C=W(fe),q(z.$$.fragment,fe),N=W(fe),te&&te.l(fe),fe.forEach(_),f.forEach(_),this.h()},h(){m(n,"class","flex items-center min-w-fit"),m(s,"class","flex items-center"),m(c,"class","shrink-0 flex items-center gap-2"),m(t,"class","flex items-center gap-2"),m(l,"class","flex flex-col flex-1 gap-1.5"),m(p,"class","ml-auto pl-2 pr-1 flex items-center gap-1.5 shrink-0"),m(e,"aria-roledescription","model-item"),m(e,"aria-label",E=o[1].label),m(e,"class",y="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted "+(o[2]===o[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),m(e,"data-arrow-selected",J=o[2]===o[0]),m(e,"data-value",X=o[1].value)},m(V,f){O(V,e,f),T(e,l),T(l,t),T(t,n),R(r,n,null),T(t,a),T(t,s),R(i,s,null),T(t,u),T(t,c),b&&b.m(c,null),T(c,d),K&&K.m(c,null),T(c,D),~H&&me[H].m(c,null),T(c,I),Q&&Q.m(c,null),T(e,k),T(e,p),x&&x.m(p,null),T(p,C),R(z,p,null),T(p,N),te&&te.m(p,null),h=!0,M||(G=ue(e,"click",o[16]),M=!0)},p(V,[f]){var ee,fe,ve,$e,ie,be,Je,Xe,Qe,xe;const P={};f&514&&(P.content=((ee=V[9])==null?void 0:ee.role)==="admin"?((fe=V[1])==null?void 0:fe.value)??"":""),f&1048578&&(P.$$scope={dirty:f,ctx:V}),r.$set(P);const j={};f&2&&(j.content=`${V[1].label} (${V[1].value})`),f&1048578&&(j.$$scope={dirty:f,ctx:V}),i.$set(j),V[1].model.owned_by==="ollama"?b?(b.p(V,f),f&2&&v(b,1)):(b=it(V),b.c(),v(b,1),b.m(c,d)):b&&(ae(),w(b,1,1,()=>{b=null}),se()),((($e=(ve=V[1])==null?void 0:ve.model)==null?void 0:$e.tags)??[]).length>0?K?(K.p(V,f),f&2&&v(K,1)):(K=ct(V),K.c(),v(K,1),K.m(c,D)):K&&(ae(),w(K,1,1,()=>{K=null}),se());let Y=H;H=Ie(V),H===Y?~H&&me[H].p(V,f):(g&&(ae(),w(me[Y],1,1,()=>{me[Y]=null}),se()),~H?(g=me[H],g?g.p(V,f):(g=me[H]=he[H](V),g.c()),v(g,1),g.m(c,I)):g=null),(Je=(be=(ie=V[1].model)==null?void 0:ie.info)==null?void 0:be.meta)!=null&&Je.description?Q?(Q.p(V,f),f&2&&v(Q,1)):(Q=_t(V),Q.c(),v(Q,1),Q.m(c,null)):Q&&(ae(),w(Q,1,1,()=>{Q=null}),se()),f&514&&(U=((Xe=V[9])==null?void 0:Xe.role)==="admin"&&V[1].model.owned_by==="ollama"&&((Qe=V[1].model.ollama)==null?void 0:Qe.expires_at)&&new Date(((xe=V[1].model.ollama)==null?void 0:xe.expires_at)*1e3)>new Date),U?x?(x.p(V,f),f&514&&v(x,1)):(x=ht(V),x.c(),v(x,1),x.m(p,C)):x&&(ae(),w(x,1,1,()=>{x=null}),se());const oe={};f&2&&(oe.model=V[1].model),f&32&&(oe.pinModelHandler=V[5]),f&2&&(oe.copyLinkHandler=V[14]),f&1048960&&(oe.$$scope={dirty:f,ctx:V}),!$&&f&128&&($=!0,oe.show=V[7],Ke(()=>$=!1)),z.$set(oe),V[3]===V[1].value?te?f&10&&v(te,1):(te=pt(),te.c(),v(te,1),te.m(p,null)):te&&(ae(),w(te,1,1,()=>{te=null}),se()),(!h||f&2&&E!==(E=V[1].label))&&m(e,"aria-label",E),(!h||f&5&&y!==(y="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted "+(V[2]===V[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&m(e,"class",y),(!h||f&5&&J!==(J=V[2]===V[0]))&&m(e,"data-arrow-selected",J),(!h||f&2&&X!==(X=V[1].value))&&m(e,"data-value",X)},i(V){h||(v(r.$$.fragment,V),v(i.$$.fragment,V),v(b),v(K),v(g),v(Q),v(x),v(z.$$.fragment,V),v(te),h=!0)},o(V){w(r.$$.fragment,V),w(i.$$.fragment,V),w(b),w(K),w(g),w(Q),w(x),w(z.$$.fragment,V),w(te),h=!1},d(V){V&&_(e),Z(r),Z(i),b&&b.d(),K&&K.d(),~H&&me[H].d(),Q&&Q.d(),x&&x.d(),Z(z),te&&te.d(),M=!1,G()}}}const gt=(o,e)=>o.name.localeCompare(e.name);function Xl(o,e,l){let t,n;pe(o,Yt,z=>l(9,n=z));const r=Ye("i18n");pe(o,r,z=>l(8,t=z));let{selectedModelIdx:a=-1}=e,{item:s={}}=e,{index:i=-1}=e,{value:u=""}=e,{unloadModelHandler:c=()=>{}}=e,{pinModelHandler:d=()=>{}}=e,{onClick:D=()=>{}}=e;const H=async z=>{const $=window.location.origin;await xt(`${$}/?model=${encodeURIComponent(z.id)}`)?de.success(t.t("Copied link to clipboard")):de.error(t.t("Failed to copy link"))};let g=!1;const I=z=>{z.preventDefault(),z.stopPropagation(),c(s.value)},k=z=>{z.preventDefault(),z.stopPropagation(),l(7,g=!g)},p=()=>{H(s.model)};function U(z){g=z,l(7,g)}const C=()=>{D()};return o.$$set=z=>{"selectedModelIdx"in z&&l(0,a=z.selectedModelIdx),"item"in z&&l(1,s=z.item),"index"in z&&l(2,i=z.index),"value"in z&&l(3,u=z.value),"unloadModelHandler"in z&&l(4,c=z.unloadModelHandler),"pinModelHandler"in z&&l(5,d=z.pinModelHandler),"onClick"in z&&l(6,D=z.onClick)},[a,s,i,u,c,d,D,g,t,n,r,H,I,k,p,U,C]}class Ql extends De{constructor(e){super(),ye(this,e,Xl,Jl,ke,{selectedModelIdx:0,item:1,index:2,value:3,unloadModelHandler:4,pinModelHandler:5,onClick:6})}}function vt(o,e,l){const t=o.slice();return t[49]=e[l],t}function bt(o,e,l){const t=o.slice();return t[52]=e[l],t[54]=l,t}function wt(o,e,l){const t=o.slice();return t[55]=e[l],t}function xl(o){let e;return{c(){e=le(o[2])},l(l){e=ne(l,o[2])},m(l,t){O(l,e,t)},p(l,t){t[0]&4&&re(e,l[2])},d(l){l&&_(e)}}}function en(o){let e=o[15].label+"",l;return{c(){l=le(e)},l(t){l=ne(t,e)},m(t,n){O(t,l,n)},p(t,n){n[0]&32768&&e!==(e=t[15].label+"")&&re(l,e)},d(t){t&&_(l)}}}function tn(o){let e,l,t,n,r,a,s;function i(d,D){return d[15]?en:xl}let u=i(o),c=u(o);return t=new ul({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=L("div"),c.c(),l=A(),F(t.$$.fragment),this.h()},l(d){e=S(d,"DIV",{class:!0});var D=B(e);c.l(D),l=W(D),q(t.$$.fragment,D),D.forEach(_),this.h()},h(){var d;m(e,"class",n="flex w-full text-left px-0.5 bg-transparent truncate "+o[7]+" justify-between "+(((d=o[19])==null?void 0:d.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400"))},m(d,D){O(d,e,D),c.m(e,null),T(e,l),R(t,e,null),r=!0,a||(s=ue(e,"mouseenter",o[31]),a=!0)},p(d,D){var H;u===(u=i(d))&&c?c.p(d,D):(c.d(1),c=u(d),c&&(c.c(),c.m(e,l))),(!r||D[0]&524416&&n!==(n="flex w-full text-left px-0.5 bg-transparent truncate "+d[7]+" justify-between "+(((H=d[19])==null?void 0:H.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400")))&&m(e,"class",n)},i(d){r||(v(t.$$.fragment,d),r=!0)},o(d){w(t.$$.fragment,d),r=!1},d(d){d&&_(e),c.d(),Z(t),a=!1,s()}}}function kt(o){let e,l,t,n,r,a,s,i;return l=new cl({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=L("div"),F(l.$$.fragment),t=A(),n=L("input"),this.h()},l(u){e=S(u,"DIV",{class:!0});var c=B(e);q(l.$$.fragment,c),t=W(c),n=S(c,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0,"aria-label":!0}),c.forEach(_),this.h()},h(){m(n,"id","model-search-input"),m(n,"class","w-full text-sm bg-transparent outline-hidden"),m(n,"placeholder",o[4]),m(n,"autocomplete","off"),m(n,"aria-label",r=o[21].t("Search In Models")),m(e,"class","flex items-center gap-2.5 px-4.5 mt-3.5 mb-1.5")},m(u,c){O(u,e,c),R(l,e,null),T(e,t),T(e,n),lt(n,o[10]),a=!0,s||(i=[ue(n,"input",o[32]),ue(n,"keydown",o[33])],s=!0)},p(u,c){(!a||c[0]&16)&&m(n,"placeholder",u[4]),(!a||c[0]&2097152&&r!==(r=u[21].t("Search In Models")))&&m(n,"aria-label",r),c[0]&1024&&n.value!==u[10]&&lt(n,u[10])},i(u){a||(v(l.$$.fragment,u),a=!0)},o(u){w(l.$$.fragment,u),a=!1},d(u){u&&_(e),Z(l),s=!1,Qt(i)}}}function $t(o){let e,l,t=o[5].find(Bt)||o[5].find(Pt)||o[5].find(Ut)||o[14].length>0,n,r=o[5].find(St),a,s=o[5].find(Lt),i,u=o[5].find(zt),c,d,D,H,g=t&&Mt(o),I=r&&Et(o),k=s&&Dt(o),p=u&&yt(o),U=ge(o[14]),C=[];for(let $=0;$<U.length;$+=1)C[$]=Ct(wt(o,U,$));const z=$=>w(C[$],1,1,()=>{C[$]=null});return{c(){e=L("div"),l=L("div"),g&&g.c(),n=A(),I&&I.c(),a=A(),k&&k.c(),i=A(),p&&p.c(),c=A();for(let $=0;$<C.length;$+=1)C[$].c();this.h()},l($){e=S($,"DIV",{class:!0});var N=B(e);l=S(N,"DIV",{class:!0});var E=B(l);g&&g.l(E),n=W(E),I&&I.l(E),a=W(E),k&&k.l(E),i=W(E),p&&p.l(E),c=W(E);for(let y=0;y<C.length;y+=1)C[y].l(E);E.forEach(_),N.forEach(_),this.h()},h(){m(l,"class","flex gap-1 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap"),m(e,"class","flex w-full bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none font-[450] mb-0.5")},m($,N){O($,e,N),T(e,l),g&&g.m(l,null),T(l,n),I&&I.m(l,null),T(l,a),k&&k.m(l,null),T(l,i),p&&p.m(l,null),T(l,c);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(l,null);o[39](l),d=!0,D||(H=ue(e,"wheel",un),D=!0)},p($,N){if(N[0]&16416&&(t=$[5].find(Bt)||$[5].find(Pt)||$[5].find(Ut)||$[14].length>0),t?g?g.p($,N):(g=Mt($),g.c(),g.m(l,n)):g&&(g.d(1),g=null),N[0]&32&&(r=$[5].find(St)),r?I?I.p($,N):(I=Et($),I.c(),I.m(l,a)):I&&(I.d(1),I=null),N[0]&32&&(s=$[5].find(Lt)),s?k?k.p($,N):(k=Dt($),k.c(),k.m(l,i)):k&&(k.d(1),k=null),N[0]&32&&(u=$[5].find(zt)),u?p?p.p($,N):(p=yt($),p.c(),p.m(l,c)):p&&(p.d(1),p=null),N[0]&22528){U=ge($[14]);let E;for(E=0;E<U.length;E+=1){const y=wt($,U,E);C[E]?(C[E].p(y,N),v(C[E],1)):(C[E]=Ct(y),C[E].c(),v(C[E],1),C[E].m(l,null))}for(ae(),E=U.length;E<C.length;E+=1)z(E);se()}},i($){if(!d){for(let N=0;N<U.length;N+=1)v(C[N]);d=!0}},o($){C=C.filter(Boolean);for(let N=0;N<C.length;N+=1)w(C[N]);d=!1},d($){$&&_(e),g&&g.d(),I&&I.d(),k&&k.d(),p&&p.d(),Ae(C,$),o[39](null),D=!1,H()}}}function Mt(o){let e,l=o[21].t("All")+"",t,n,r,a,s;return{c(){e=L("button"),t=le(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=B(e);t=ne(u,l),u.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[11]===""&&o[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[11]===""&&o[12]==="")},m(i,u){O(i,e,u),T(e,t),a||(s=ue(e,"click",o[34]),a=!0)},p(i,u){u[0]&2097152&&l!==(l=i[21].t("All")+"")&&re(t,l),u[0]&6144&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[11]===""&&i[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&6144&&r!==(r=i[11]===""&&i[12]==="")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function Et(o){let e,l=o[21].t("Local")+"",t,n,r,a,s;return{c(){e=L("button"),t=le(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=B(e);t=ne(u,l),u.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="local")},m(i,u){O(i,e,u),T(e,t),a||(s=ue(e,"click",o[35]),a=!0)},p(i,u){u[0]&2097152&&l!==(l=i[21].t("Local")+"")&&re(t,l),u[0]&4096&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&4096&&r!==(r=i[12]==="local")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function Dt(o){let e,l=o[21].t("External")+"",t,n,r,a,s;return{c(){e=L("button"),t=le(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=B(e);t=ne(u,l),u.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="external")},m(i,u){O(i,e,u),T(e,t),a||(s=ue(e,"click",o[36]),a=!0)},p(i,u){u[0]&2097152&&l!==(l=i[21].t("External")+"")&&re(t,l),u[0]&4096&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&4096&&r!==(r=i[12]==="external")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function yt(o){let e,l=o[21].t("Direct")+"",t,n,r,a,s;return{c(){e=L("button"),t=le(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=B(e);t=ne(u,l),u.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="direct")},m(i,u){O(i,e,u),T(e,t),a||(s=ue(e,"click",o[37]),a=!0)},p(i,u){u[0]&2097152&&l!==(l=i[21].t("Direct")+"")&&re(t,l),u[0]&4096&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&4096&&r!==(r=i[12]==="direct")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function ln(o){let e,l=(o[55].length>16?`${o[55].slice(0,16)}...`:o[55])+"",t,n,r,a,s,i;function u(){return o[38](o[55])}return{c(){e=L("button"),t=le(l),a=A(),this.h()},l(c){e=S(c,"BUTTON",{class:!0,"aria-pressed":!0});var d=B(e);t=ne(d,l),d.forEach(_),a=W(c),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[11]===o[55]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[11]===o[55])},m(c,d){O(c,e,d),T(e,t),O(c,a,d),s||(i=ue(e,"click",u),s=!0)},p(c,d){o=c,d[0]&16384&&l!==(l=(o[55].length>16?`${o[55].slice(0,16)}...`:o[55])+"")&&re(t,l),d[0]&18432&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(o[11]===o[55]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),d[0]&18432&&r!==(r=o[11]===o[55])&&m(e,"aria-pressed",r)},d(c){c&&(_(e),_(a)),s=!1,i()}}}function Ct(o){let e,l;return e=new ce({props:{content:o[55],$$slots:{default:[ln]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n[0]&16384&&(r.content=t[55]),n[0]&22528|n[1]&16384&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function It(o){let e,l,t=o[21].t("No results found")+"",n;return{c(){e=L("div"),l=L("div"),n=le(t),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=B(e);l=S(a,"DIV",{class:!0});var s=B(l);n=ne(s,t),s.forEach(_),a.forEach(_),this.h()},h(){m(l,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),m(e,"class","")},m(r,a){O(r,e,a),T(e,l),T(l,n)},p(r,a){a[0]&2097152&&t!==(t=r[21].t("No results found")+"")&&re(n,t)},d(r){r&&_(e)}}}function Nt(o){let e,l;function t(){return o[40](o[52],o[54])}return e=new Ql({props:{selectedModelIdx:o[17],item:o[52],index:o[54],value:o[0],pinModelHandler:o[8],unloadModelHandler:o[29],onClick:t}}),{c(){F(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){R(e,n,r),l=!0},p(n,r){o=n;const a={};r[0]&131072&&(a.selectedModelIdx=o[17]),r[0]&262144&&(a.item=o[52]),r[0]&1&&(a.value=o[0]),r[0]&256&&(a.pinModelHandler=o[8]),r[0]&393729&&(a.onClick=t),e.$set(a)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function Vt(o){let e,l;return e=new ce({props:{content:o[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]}),placement:"top-start",$$slots:{default:[nn]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const r={};n[0]&2098176&&(r.content=t[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:t[10]})),n[0]&2098176|n[1]&16384&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function nn(o){let e,l,t=o[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]})+"",n,r,a;return{c(){e=L("button"),l=L("div"),n=le(t),this.h()},l(s){e=S(s,"BUTTON",{class:!0});var i=B(e);l=S(i,"DIV",{class:!0});var u=B(l);n=ne(u,t),u.forEach(_),i.forEach(_),this.h()},h(){m(l,"class","truncate"),m(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted")},m(s,i){O(s,e,i),T(e,l),T(l,n),r||(a=ue(e,"click",o[41]),r=!0)},p(s,i){i[0]&2098176&&t!==(t=s[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[10]})+"")&&re(n,t)},d(s){s&&_(e),r=!1,a()}}}function Ht(o){let e,l=o[22][o[49]].digest+"",t;return{c(){e=L("div"),t=le(l),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=B(e);t=ne(r,l),r.forEach(_),this.h()},h(){m(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){O(n,e,r),T(e,t)},p(n,r){r[0]&4194304&&l!==(l=n[22][n[49]].digest+"")&&re(t,l)},d(n){n&&_(e)}}}function rn(o){let e,l='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',t,n;function r(){return o[42](o[49])}return{c(){e=L("button"),e.innerHTML=l,this.h()},l(a){e=S(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-19bzgft"&&(e.innerHTML=l),this.h()},h(){m(e,"class","text-gray-800 dark:text-gray-100")},m(a,s){O(a,e,s),t||(n=ue(e,"click",r),t=!0)},p(a,s){o=a},d(a){a&&_(e),t=!1,n()}}}function Tt(o){let e,l,t,n,r,a,s,i,u,c=o[49]+"",d,D,H,g,I="pullProgress"in o[22][o[49]]?`(${o[22][o[49]].pullProgress}%)`:"",k,p,U,C,z,$,N;n=new nl({});let E="digest"in o[22][o[49]]&&o[22][o[49]].digest&&Ht(o);return z=new ce({props:{content:o[21].t("Cancel"),$$slots:{default:[rn]},$$scope:{ctx:o}}}),{c(){e=L("div"),l=L("div"),t=L("div"),F(n.$$.fragment),r=A(),a=L("div"),s=L("div"),i=L("div"),u=le('Downloading "'),d=le(c),D=le('"'),H=A(),g=L("div"),k=le(I),p=A(),E&&E.c(),U=A(),C=L("div"),F(z.$$.fragment),$=A(),this.h()},l(y){e=S(y,"DIV",{class:!0});var J=B(e);l=S(J,"DIV",{class:!0});var X=B(l);t=S(X,"DIV",{class:!0});var h=B(t);q(n.$$.fragment,h),h.forEach(_),r=W(X),a=S(X,"DIV",{class:!0});var M=B(a);s=S(M,"DIV",{class:!0});var G=B(s);i=S(G,"DIV",{class:!0});var b=B(i);u=ne(b,'Downloading "'),d=ne(b,c),D=ne(b,'"'),b.forEach(_),H=W(G),g=S(G,"DIV",{class:!0});var K=B(g);k=ne(K,I),K.forEach(_),G.forEach(_),p=W(M),E&&E.l(M),M.forEach(_),X.forEach(_),U=W(J),C=S(J,"DIV",{class:!0});var he=B(C);q(z.$$.fragment,he),he.forEach(_),$=W(J),J.forEach(_),this.h()},h(){m(t,"class","mr-2.5 translate-y-0.5"),m(i,"class","line-clamp-1"),m(g,"class","shrink-0"),m(s,"class","flex gap-1"),m(a,"class","flex flex-col self-start"),m(l,"class","flex"),m(C,"class","mr-2 ml-1 translate-y-0.5"),m(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-xl cursor-pointer data-highlighted:bg-muted")},m(y,J){O(y,e,J),T(e,l),T(l,t),R(n,t,null),T(l,r),T(l,a),T(a,s),T(s,i),T(i,u),T(i,d),T(i,D),T(s,H),T(s,g),T(g,k),T(a,p),E&&E.m(a,null),T(e,U),T(e,C),R(z,C,null),T(e,$),N=!0},p(y,J){(!N||J[0]&4194304)&&c!==(c=y[49]+"")&&re(d,c),(!N||J[0]&4194304)&&I!==(I="pullProgress"in y[22][y[49]]?`(${y[22][y[49]].pullProgress}%)`:"")&&re(k,I),"digest"in y[22][y[49]]&&y[22][y[49]].digest?E?E.p(y,J):(E=Ht(y),E.c(),E.m(a,null)):E&&(E.d(1),E=null);const X={};J[0]&2097152&&(X.content=y[21].t("Cancel")),J[0]&4194304|J[1]&16384&&(X.$$scope={dirty:J,ctx:y}),z.$set(X)},i(y){N||(v(n.$$.fragment,y),v(z.$$.fragment,y),N=!0)},o(y){w(n.$$.fragment,y),w(z.$$.fragment,y),N=!1},d(y){y&&_(e),Z(n),E&&E.d(),Z(z)}}}function on(o){var X;let e,l,t=o[14]&&o[5].filter(Ot).length>0,n,r,a,s=!(o[10].trim()in o[22])&&o[10]&&o[16]&&((X=o[24])==null?void 0:X.role)==="admin",i,u,c,d,D,H,g,I,k=o[3]&&kt(o),p=t&&$t(o),U=ge(o[18]),C=[];for(let h=0;h<U.length;h+=1)C[h]=Nt(bt(o,U,h));const z=h=>w(C[h],1,1,()=>{C[h]=null});let $=null;U.length||($=It(o));let N=s&&Vt(o),E=ge(Object.keys(o[22])),y=[];for(let h=0;h<E.length;h+=1)y[h]=Tt(vt(o,E,h));const J=h=>w(y[h],1,1,()=>{y[h]=null});return{c(){k&&k.c(),e=A(),l=L("div"),p&&p.c(),n=A(),r=L("div");for(let h=0;h<C.length;h+=1)C[h].c();$&&$.c(),a=A(),N&&N.c(),i=A();for(let h=0;h<y.length;h+=1)y[h].c();u=A(),c=L("div"),d=A(),D=L("div"),H=A(),g=L("div"),this.h()},l(h){k&&k.l(h),e=W(h),l=S(h,"DIV",{class:!0});var M=B(l);p&&p.l(M),M.forEach(_),n=W(h),r=S(h,"DIV",{class:!0});var G=B(r);for(let b=0;b<C.length;b+=1)C[b].l(G);$&&$.l(G),a=W(G),N&&N.l(G),i=W(G);for(let b=0;b<y.length;b+=1)y[b].l(G);G.forEach(_),u=W(h),c=S(h,"DIV",{class:!0}),B(c).forEach(_),d=W(h),D=S(h,"DIV",{class:!0}),B(D).forEach(_),H=W(h),g=S(h,"DIV",{class:!0}),B(g).forEach(_),this.h()},h(){m(l,"class","px-2"),m(r,"class","px-2.5 max-h-64 overflow-y-auto group relative"),m(c,"class","mb-2.5"),m(D,"class","hidden w-[42rem]"),m(g,"class","hidden w-[32rem]")},m(h,M){k&&k.m(h,M),O(h,e,M),O(h,l,M),p&&p.m(l,null),O(h,n,M),O(h,r,M);for(let G=0;G<C.length;G+=1)C[G]&&C[G].m(r,null);$&&$.m(r,null),T(r,a),N&&N.m(r,null),T(r,i);for(let G=0;G<y.length;G+=1)y[G]&&y[G].m(r,null);O(h,u,M),O(h,c,M),O(h,d,M),O(h,D,M),O(h,H,M),O(h,g,M),I=!0},p(h,M){var G;if(h[3]?k?(k.p(h,M),M[0]&8&&v(k,1)):(k=kt(h),k.c(),v(k,1),k.m(e.parentNode,e)):k&&(ae(),w(k,1,1,()=>{k=null}),se()),M[0]&16416&&(t=h[14]&&h[5].filter(Ot).length>0),t?p?(p.p(h,M),M[0]&16416&&v(p,1)):(p=$t(h),p.c(),v(p,1),p.m(l,null)):p&&(ae(),w(p,1,1,()=>{p=null}),se()),M[0]&539362049){U=ge(h[18]);let b;for(b=0;b<U.length;b+=1){const K=bt(h,U,b);C[b]?(C[b].p(K,M),v(C[b],1)):(C[b]=Nt(K),C[b].c(),v(C[b],1),C[b].m(r,a))}for(ae(),b=U.length;b<C.length;b+=1)z(b);se(),!U.length&&$?$.p(h,M):U.length?$&&($.d(1),$=null):($=It(h),$.c(),$.m(r,a))}if(M[0]&21038080&&(s=!(h[10].trim()in h[22])&&h[10]&&h[16]&&((G=h[24])==null?void 0:G.role)==="admin"),s?N?(N.p(h,M),M[0]&21038080&&v(N,1)):(N=Vt(h),N.c(),v(N,1),N.m(r,i)):N&&(ae(),w(N,1,1,()=>{N=null}),se()),M[0]&274726912){E=ge(Object.keys(h[22]));let b;for(b=0;b<E.length;b+=1){const K=vt(h,E,b);y[b]?(y[b].p(K,M),v(y[b],1)):(y[b]=Tt(K),y[b].c(),v(y[b],1),y[b].m(r,null))}for(ae(),b=E.length;b<y.length;b+=1)J(b);se()}},i(h){if(!I){v(k),v(p);for(let M=0;M<U.length;M+=1)v(C[M]);v(N);for(let M=0;M<E.length;M+=1)v(y[M]);I=!0}},o(h){w(k),w(p),C=C.filter(Boolean);for(let M=0;M<C.length;M+=1)w(C[M]);w(N),y=y.filter(Boolean);for(let M=0;M<y.length;M+=1)w(y[M]);I=!1},d(h){h&&(_(e),_(l),_(n),_(r),_(u),_(c),_(d),_(D),_(H),_(g)),k&&k.d(h),p&&p.d(),Ae(C,h),$&&$.d(),N&&N.d(),Ae(y,h)}}}function an(o){let e;const l=o[30].default,t=jt(l,o,o[45],null),n=t||on(o);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){t?t.p&&(!e||a[1]&16384)&&At(t,l,r,r[45],e?Ft(l,r[45],a,null):Wt(r[45]),null):n&&n.p&&(!e||a[0]&23559993)&&n.p(r,e?a:[-1,-1])},i(r){e||(v(n,r),e=!0)},o(r){w(n,r),e=!1},d(r){n&&n.d(r)}}}function sn(o){var r;let e,l,t,n;return e=new Rt({props:{class:"relative w-full "+(((r=o[19])==null?void 0:r.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden"),"aria-label":o[2],id:"model-selector-"+o[1]+"-button",$$slots:{default:[tn]},$$scope:{ctx:o}}}),t=new Zt({props:{class:" z-40 "+(o[23]?"w-full":`${o[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-2xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Gt,side:o[23]?"bottom":"bottom-start",sideOffset:2,alignOffset:-1,$$slots:{default:[an]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment),l=A(),F(t.$$.fragment)},l(a){q(e.$$.fragment,a),l=W(a),q(t.$$.fragment,a)},m(a,s){R(e,a,s),O(a,l,s),R(t,a,s),n=!0},p(a,s){var c;const i={};s[0]&524288&&(i.class="relative w-full "+(((c=a[19])==null?void 0:c.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden")),s[0]&4&&(i["aria-label"]=a[2]),s[0]&2&&(i.id="model-selector-"+a[1]+"-button"),s[0]&1605764|s[1]&16384&&(i.$$scope={dirty:s,ctx:a}),e.$set(i);const u={};s[0]&8388672&&(u.class=" z-40 "+(a[23]?"w-full":`${a[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-2xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&8388608&&(u.side=a[23]?"bottom":"bottom-start"),s[0]&23559993|s[1]&16384&&(u.$$scope={dirty:s,ctx:a}),t.$set(u)},i(a){n||(v(e.$$.fragment,a),v(t.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),w(t.$$.fragment,a),n=!1},d(a){a&&_(l),Z(e,a),Z(t,a)}}}function fn(o){let e,l,t;function n(a){o[44](a)}let r={onOpenChange:o[43],closeFocus:!1,$$slots:{default:[sn]},$$scope:{ctx:o}};return o[9]!==void 0&&(r.open=o[9]),e=new qt({props:r}),We.push(()=>Ge(e,"open",n)),{c(){F(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,s){R(e,a,s),t=!0},p(a,s){const i={};s[0]&1024&&(i.onOpenChange=a[43]),s[0]&33554431|s[1]&16384&&(i.$$scope={dirty:s,ctx:a}),!l&&s[0]&512&&(l=!0,i.open=a[9],Ke(()=>l=!1)),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){w(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}const Ot=o=>{var e,l,t;return!(((t=(l=(e=o.model)==null?void 0:e.info)==null?void 0:l.meta)==null?void 0:t.hidden)??!1)},zt=o=>{var e;return(e=o.model)==null?void 0:e.direct},Lt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},St=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Bt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Pt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},Ut=o=>{var e;return(e=o.model)==null?void 0:e.direct},un=o=>{o.deltaY!==0&&(o.preventDefault(),o.currentTarget.scrollLeft+=o.deltaY)};function cn(o,e,l){let t,n,r,a,s,i,u;pe(o,Kt,f=>l(19,n=f)),pe(o,il,f=>l(20,r=f)),pe(o,we,f=>l(22,s=f)),pe(o,fl,f=>l(23,i=f)),pe(o,Yt,f=>l(24,u=f));let{$$slots:c={},$$scope:d}=e;Ze.extend(ll);const D=Ye("i18n");pe(o,D,f=>l(21,a=f)),Jt();let{id:H=""}=e,{value:g=""}=e,{placeholder:I=a.t("Select a model")}=e,{searchEnabled:k=!0}=e,{searchPlaceholder:p=a.t("Search a model")}=e,{items:U=[]}=e,{className:C="w-[32rem]"}=e,{triggerClassName:z="text-lg"}=e,{pinModelHandler:$=()=>{}}=e,N,E=!1,y=[],J="",X="",h="",M="",G=null,b=0;const K=new tl(U.map(f=>{var j,Y,oe,ee,fe;return{...f,modelName:(j=f.model)==null?void 0:j.name,tags:(((Y=f.model)==null?void 0:Y.tags)??[]).map(ve=>ve.name).join(" "),desc:(fe=(ee=(oe=f.model)==null?void 0:oe.info)==null?void 0:ee.meta)==null?void 0:fe.description}}),{keys:["value","tags","modelName"],threshold:.4}),he=async()=>{await tt();const f=t.findIndex(j=>j.value===g);f>=0?l(17,b=f):l(17,b=0),await tt();const P=document.querySelector('[data-arrow-selected="true"]');P==null||P.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},me=async()=>{var Y;const f=X.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(s[f]){de.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:f}));return}if(Object.keys(s).length===3){de.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[P,j]=await rl(localStorage.token,f,"0").catch(oe=>(de.error(`${oe}`),null));if(P){const oe=P.body.pipeThrough(new TextDecoderStream).pipeThrough(el(`
`)).getReader();for(we.set({...s,[f]:{...s[f],abortController:j,reader:oe,done:!1}});;)try{const{value:ee,done:fe}=await oe.read();if(fe)break;let ve=ee.split(`
`);for(const $e of ve)if($e!==""){let ie=JSON.parse($e);if(ie.error)throw ie.error;if(ie.detail)throw ie.detail;if(ie.status)if(ie.digest){let be=0;ie.completed?be=Math.round(ie.completed/ie.total*1e3)/10:be=100,we.set({...s,[f]:{...s[f],pullProgress:be,digest:ie.digest}})}else de.success(ie.status),we.set({...s,[f]:{...s[f],done:ie.status==="success"}})}}catch(ee){typeof ee!="string"&&(ee=ee.message),de.error(`${ee}`);break}s[f].done?(de.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:f})),qe.set(await Re(localStorage.token,((Y=r==null?void 0:r.features)==null?void 0:Y.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))):de.error(a.t("Download canceled")),delete s[f],we.set({...s})}},Ie=async()=>{l(16,G=await sl(localStorage.token).catch(f=>!1))};Xt(async()=>{U&&(l(14,y=U.filter(f=>{var P,j,Y;return!(((Y=(j=(P=f.model)==null?void 0:P.info)==null?void 0:j.meta)==null?void 0:Y.hidden)??!1)}).flatMap(f=>{var P;return((P=f.model)==null?void 0:P.tags)??[]}).map(f=>f.name)),l(14,y=Array.from(new Set(y)).sort((f,P)=>f.localeCompare(P))))});const Q=async f=>{const{reader:P,abortController:j}=s[f];j&&j.abort(),P&&(await P.cancel(),delete s[f],we.set({...s}),await ol(localStorage.token,f),de.success(a.t("{{model}} download has been canceled",{model:f})))},x=async f=>{var j;await al(localStorage.token,f).catch(Y=>{de.error(a.t("Error unloading model: {{error}}",{error:Y}))})&&(de.success(a.t("Model unloaded successfully")),qe.set(await Re(localStorage.token,((j=r==null?void 0:r.features)==null?void 0:j.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null))))},Fe=async()=>{var f;qe.set(await Re(localStorage.token,((f=r==null?void 0:r.features)==null?void 0:f.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))};function Ne(){X=this.value,l(10,X)}const te=f=>{if(f.code==="Enter"&&t.length>0){l(0,g=t[b].value),l(9,E=!1);return}else f.code==="ArrowDown"?(f.stopPropagation(),l(17,b=Math.min(b+1,t.length-1))):f.code==="ArrowUp"?(f.stopPropagation(),l(17,b=Math.max(b-1,0))):l(17,b=0);const P=document.querySelector('[data-arrow-selected="true"]');P==null||P.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Ve=()=>{l(12,M=""),l(11,h="")},He=()=>{l(11,h=""),l(12,M="local")},Te=()=>{l(11,h=""),l(12,M="external")},Oe=()=>{l(11,h=""),l(12,M="direct")},ze=f=>{l(12,M=""),l(11,h=f)};function Le(f){We[f?"unshift":"push"](()=>{N=f,l(13,N)})}const Se=(f,P)=>{l(0,g=f.value),l(17,b=P),l(9,E=!1)},Be=()=>{me()},Pe=f=>{Q(f)},Ue=async()=>{l(10,X=""),window.setTimeout(()=>{var f;return(f=document.getElementById("model-search-input"))==null?void 0:f.focus()},0),he()};function V(f){E=f,l(9,E)}return o.$$set=f=>{"id"in f&&l(1,H=f.id),"value"in f&&l(0,g=f.value),"placeholder"in f&&l(2,I=f.placeholder),"searchEnabled"in f&&l(3,k=f.searchEnabled),"searchPlaceholder"in f&&l(4,p=f.searchPlaceholder),"items"in f&&l(5,U=f.items),"className"in f&&l(6,C=f.className),"triggerClassName"in f&&l(7,z=f.triggerClassName),"pinModelHandler"in f&&l(8,$=f.pinModelHandler),"$$scope"in f&&l(45,d=f.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&33&&l(15,J=U.find(f=>f.value===g)??""),o.$$.dirty[0]&7200&&l(18,t=(X?K.search(X).map(f=>f.item).filter(f=>{var P;return h===""?!0:(((P=f.model)==null?void 0:P.tags)??[]).map(j=>j.name).includes(h)}).filter(f=>{var P,j,Y;if(M==="")return!0;if(M==="local")return((P=f.model)==null?void 0:P.connection_type)==="local";if(M==="external")return((j=f.model)==null?void 0:j.connection_type)==="external";if(M==="direct")return(Y=f.model)==null?void 0:Y.direct}):U.filter(f=>{var P;return h===""?!0:(((P=f.model)==null?void 0:P.tags)??[]).map(j=>j.name).includes(h)}).filter(f=>{var P,j,Y;if(M==="")return!0;if(M==="local")return((P=f.model)==null?void 0:P.connection_type)==="local";if(M==="external")return((j=f.model)==null?void 0:j.connection_type)==="external";if(M==="direct")return(Y=f.model)==null?void 0:Y.direct})).filter(f=>{var P,j,Y;return!(((Y=(j=(P=f.model)==null?void 0:P.info)==null?void 0:j.meta)==null?void 0:Y.hidden)??!1)})),o.$$.dirty[0]&6144&&he(),o.$$.dirty[0]&512&&E&&Ie()},[g,H,I,k,p,U,C,z,$,E,X,h,M,N,y,J,G,b,t,n,r,a,s,i,u,D,he,me,Q,x,c,Fe,Ne,te,Ve,He,Te,Oe,ze,Le,Se,Be,Pe,Ue,V,d]}class Sn extends De{constructor(e){super(),ye(this,e,cn,fn,ke,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,items:5,className:6,triggerClassName:7,pinModelHandler:8},null,[-1,-1])}}export{Sn as S};
//# sourceMappingURL=CPrB1JGZ.js.map
