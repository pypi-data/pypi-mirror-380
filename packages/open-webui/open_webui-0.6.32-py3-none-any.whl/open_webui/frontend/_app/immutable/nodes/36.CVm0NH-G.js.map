{"version":3,"file":"36.CVm0NH-G.js","sources":["../../../../../../src/lib/components/workspace/Prompts/PromptMenu.svelte","../../../../../../src/lib/components/workspace/Prompts.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext } from 'svelte';\n\timport { config } from '$lib/stores';\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Tags from '$lib/components/chat/Tags.svelte';\n\timport Share from '$lib/components/icons/Share.svelte';\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let shareHandler: Function;\n\texport let cloneHandler: Function;\n\texport let exportHandler: Function;\n\texport let deleteHandler: Function;\n\texport let onClose: Function;\n\n\tlet show = false;\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n>\n\t<Tooltip content={$i18n.t('More')}>\n\t\t<slot />\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[170px] rounded-2xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\n\t\t\tsideOffset={-2}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t{#if $config.features.enable_community_sharing}\n\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshareHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Share />\n\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Share')}</div>\n\t\t\t\t</DropdownMenu.Item>\n\t\t\t{/if}\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tcloneHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DocumentDuplicate />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\texportHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Download />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<hr class=\"border-gray-50 dark:border-gray-850 my-1\" />\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdeleteHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GarbageBin />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\n\t\t\t</DropdownMenu.Item>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { goto } from '$app/navigation';\n\timport { onMount, getContext } from 'svelte';\n\timport { WEBUI_NAME, config, prompts as _prompts, user } from '$lib/stores';\n\n\timport {\n\t\tcreateNewPrompt,\n\t\tdeletePromptByCommand,\n\t\tgetPrompts,\n\t\tgetPromptList\n\t} from '$lib/apis/prompts';\n\n\timport PromptMenu from './Prompts/PromptMenu.svelte';\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Search from '../icons/Search.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\timport ChevronRight from '../icons/ChevronRight.svelte';\n\timport Spinner from '../common/Spinner.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport { capitalizeFirstLetter, slugify } from '$lib/utils';\n\timport XMark from '../icons/XMark.svelte';\n\timport GarbageBin from '../icons/GarbageBin.svelte';\n\n\tlet shiftKey = false;\n\n\tconst i18n = getContext('i18n');\n\tlet promptsImportInputElement: HTMLInputElement;\n\tlet loaded = false;\n\n\tlet importFiles = '';\n\tlet query = '';\n\n\tlet prompts = [];\n\n\tlet showDeleteConfirm = false;\n\tlet deletePrompt = null;\n\n\tlet filteredItems = [];\n\t$: filteredItems = prompts.filter((p) => {\n\t\tif (query === '') return true;\n\t\tconst lowerQuery = query.toLowerCase();\n\t\treturn (\n\t\t\t(p.title || '').toLowerCase().includes(lowerQuery) ||\n\t\t\t(p.command || '').toLowerCase().includes(lowerQuery) ||\n\t\t\t(p.user?.name || '').toLowerCase().includes(lowerQuery) ||\n\t\t\t(p.user?.email || '').toLowerCase().includes(lowerQuery)\n\t\t);\n\t});\n\n\tconst shareHandler = async (prompt) => {\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\n\n\t\tconst url = 'https://openwebui.com';\n\n\t\tconst tab = await window.open(`${url}/prompts/create`, '_blank');\n\t\twindow.addEventListener(\n\t\t\t'message',\n\t\t\t(event) => {\n\t\t\t\tif (event.origin !== url) return;\n\t\t\t\tif (event.data === 'loaded') {\n\t\t\t\t\ttab.postMessage(JSON.stringify(prompt), '*');\n\t\t\t\t}\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t};\n\n\tconst cloneHandler = async (prompt) => {\n\t\tconst clonedPrompt = { ...prompt };\n\n\t\tclonedPrompt.title = `${clonedPrompt.title} (Clone)`;\n\t\tconst baseCommand = clonedPrompt.command.startsWith('/')\n\t\t\t? clonedPrompt.command.substring(1)\n\t\t\t: clonedPrompt.command;\n\t\tclonedPrompt.command = slugify(`${baseCommand} clone`);\n\n\t\tsessionStorage.prompt = JSON.stringify(clonedPrompt);\n\t\tgoto('/workspace/prompts/create');\n\t};\n\n\tconst exportHandler = async (prompt) => {\n\t\tlet blob = new Blob([JSON.stringify([prompt])], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tsaveAs(blob, `prompt-export-${Date.now()}.json`);\n\t};\n\n\tconst deleteHandler = async (prompt) => {\n\t\tconst command = prompt.command;\n\n\t\tconst res = await deletePromptByCommand(localStorage.token, command).catch((err) => {\n\t\t\ttoast.error(err);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t(`Deleted {{name}}`, { name: command }));\n\t\t}\n\n\t\tawait init();\n\t};\n\n\tconst init = async () => {\n\t\tprompts = await getPromptList(localStorage.token);\n\t\tawait _prompts.set(await getPrompts(localStorage.token));\n\t};\n\n\tonMount(async () => {\n\t\tawait init();\n\t\tloaded = true;\n\n\t\tconst onKeyDown = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = true;\n\t\t\t}\n\t\t};\n\n\t\tconst onKeyUp = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = false;\n\t\t\t}\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tshiftKey = false;\n\t\t};\n\n\t\twindow.addEventListener('keydown', onKeyDown);\n\t\twindow.addEventListener('keyup', onKeyUp);\n\t\twindow.addEventListener('blur', onBlur);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('blur', onBlur);\n\t\t};\n\t});\n</script>\n\n<svelte:head>\n\t<title>\n\t\t{$i18n.t('Prompts')} â€¢ {$WEBUI_NAME}\n\t</title>\n</svelte:head>\n\n{#if loaded}\n\t<DeleteConfirmDialog\n\t\tbind:show={showDeleteConfirm}\n\t\ttitle={$i18n.t('Delete prompt?')}\n\t\ton:confirm={() => {\n\t\t\tdeleteHandler(deletePrompt);\n\t\t}}\n\t>\n\t\t<div class=\" text-sm text-gray-500 truncate\">\n\t\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{deletePrompt.command}</span>.\n\t\t</div>\n\t</DeleteConfirmDialog>\n\n\t<div class=\"flex flex-col gap-1 my-1.5\">\n\t\t<div class=\"flex justify-between items-center\">\n\t\t\t<div class=\"flex md:self-center text-xl font-medium px-0.5 items-center\">\n\t\t\t\t{$i18n.t('Prompts')}\n\t\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\n\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\n\t\t\t\t\t>{filteredItems.length}</span\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\" flex w-full space-x-2\">\n\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t<Search className=\"size-3.5\" />\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\tbind:value={query}\n\t\t\t\t\tplaceholder={$i18n.t('Search Prompts')}\n\t\t\t\t/>\n\n\t\t\t\t{#if query}\n\t\t\t\t\t<div class=\"self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tquery = '';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<a\n\t\t\t\t\tclass=\" px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1\"\n\t\t\t\t\thref=\"/workspace/prompts/create\"\n\t\t\t\t>\n\t\t\t\t\t<Plus className=\"size-3.5\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"mb-5 gap-2 grid lg:grid-cols-2 xl:grid-cols-3\">\n\t\t{#each filteredItems as prompt}\n\t\t\t<div\n\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-4 py-3 border border-gray-50 dark:border-gray-850 dark:hover:bg-white/5 hover:bg-black/5 rounded-2xl transition\"\n\t\t\t>\n\t\t\t\t<div class=\" flex flex-1 space-x-4 cursor-pointer w-full\">\n\t\t\t\t\t<a href={`/workspace/prompts/edit?command=${encodeURIComponent(prompt.command)}`}>\n\t\t\t\t\t\t<div class=\" flex-1 flex items-center gap-2 self-center\">\n\t\t\t\t\t\t\t<div class=\" font-semibold line-clamp-1 capitalize\">{prompt.title}</div>\n\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1\">\n\t\t\t\t\t\t\t\t{prompt.command}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\" text-xs px-0.5\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={prompt?.user?.email ?? $i18n.t('Deleted User')}\n\t\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"shrink-0 text-gray-500\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\n\t\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\n\t\t\t\t\t\t\t\t\t\t\tprompt?.user?.name ?? prompt?.user?.email ?? $i18n.t('Deleted User')\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex flex-row gap-0.5 self-center\">\n\t\t\t\t\t{#if shiftKey}\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tdeleteHandler(prompt);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<GarbageBin />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\thref={`/workspace/prompts/edit?command=${encodeURIComponent(prompt.command)}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\td=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t<PromptMenu\n\t\t\t\t\t\t\tshareHandler={() => {\n\t\t\t\t\t\t\t\tshareHandler(prompt);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcloneHandler={() => {\n\t\t\t\t\t\t\t\tcloneHandler(prompt);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\texportHandler={() => {\n\t\t\t\t\t\t\t\texportHandler(prompt);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdeleteHandler={async () => {\n\t\t\t\t\t\t\t\tdeletePrompt = prompt;\n\t\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClose={() => {}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</PromptMenu>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n\n\t{#if $user?.role === 'admin'}\n\t\t<div class=\" flex justify-end w-full mb-3\">\n\t\t\t<div class=\"flex space-x-2\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"prompts-import-input\"\n\t\t\t\t\tbind:this={promptsImportInputElement}\n\t\t\t\t\tbind:files={importFiles}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\".json\"\n\t\t\t\t\thidden\n\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\tconsole.log(importFiles);\n\n\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\treader.onload = async (event) => {\n\t\t\t\t\t\t\tconst savedPrompts = JSON.parse(event.target.result);\n\t\t\t\t\t\t\tconsole.log(savedPrompts);\n\n\t\t\t\t\t\t\tfor (const prompt of savedPrompts) {\n\t\t\t\t\t\t\t\tawait createNewPrompt(localStorage.token, {\n\t\t\t\t\t\t\t\t\tcommand:\n\t\t\t\t\t\t\t\t\t\tprompt.command.charAt(0) === '/' ? prompt.command.slice(1) : prompt.command,\n\t\t\t\t\t\t\t\t\ttitle: prompt.title,\n\t\t\t\t\t\t\t\t\tcontent: prompt.content\n\t\t\t\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tprompts = await getPromptList(localStorage.token);\n\t\t\t\t\t\t\tawait _prompts.set(await getPrompts(localStorage.token));\n\n\t\t\t\t\t\t\timportFiles = [];\n\t\t\t\t\t\t\tpromptsImportInputElement.value = '';\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treader.readAsText(importFiles[0]);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tpromptsImportInputElement.click();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Import Prompts')}</div>\n\n\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\n\t\t\t\t{#if prompts.length}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\tlet blob = new Blob([JSON.stringify(prompts)], {\n\t\t\t\t\t\t\t\ttype: 'application/json'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveAs(blob, `prompts-export-${Date.now()}.json`);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\n\t\t\t\t\t\t\t{$i18n.t('Export Prompts')} ({prompts.length})\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t{#if $config?.features.enable_community_sharing}\n\t\t<div class=\" my-16\">\n\t\t\t<div class=\" text-xl font-medium mb-1 line-clamp-1\">\n\t\t\t\t{$i18n.t('Made by Open WebUI Community')}\n\t\t\t</div>\n\n\t\t\t<a\n\t\t\t\tclass=\" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition\"\n\t\t\t\thref=\"https://openwebui.com/prompts\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>\n\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t<div class=\" font-semibold line-clamp-1\">{$i18n.t('Discover a prompt')}</div>\n\t\t\t\t\t<div class=\" text-sm line-clamp-1\">\n\t\t\t\t\t\t{$i18n.t('Discover, download, and explore custom prompts')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>\n\t{/if}\n{:else}\n\t<div class=\"w-full h-full flex justify-center items-center\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n"],"names":["ctx","insert_hydration","target","div","anchor","set_data","t1","t1_value","create_if_block","hr","flyAndScale","i18n","getContext","shareHandler","$$props","cloneHandler","exportHandler","deleteHandler","onClose","show","e","t4_value","create_if_block_5","i","_a","create_if_block_2","_b","create_if_block_1","div7","append_hydration","div2","div1","div0","span","div6","div4","div3","input","div5","a","div8","current","dirty","t4","each_blocks","t2_value","t0","t0_value","t2","button","capitalizeFirstLetter","_d","_c","svg","path","if_block","create_if_block_3","title_value","saveAs","fileSaver","shiftKey","promptsImportInputElement","loaded","importFiles","query","prompts","showDeleteConfirm","deletePrompt","filteredItems","prompt","toast","$i18n","url","tab","event","clonedPrompt","baseCommand","slugify","goto","blob","command","deletePromptByCommand","err","init","getPromptList","_prompts","getPrompts","onMount","onKeyDown","onKeyUp","onBlur","value","$$invalidate","$$value","reader","savedPrompts","createNewPrompt","error","p","lowerQuery"],"mappings":"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"}