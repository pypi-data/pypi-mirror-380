import{e as d}from"../chunks/C58asskQ.js";import{b as p}from"../chunks/Ddm0HaqK.js";import"../chunks/DsnmJJEf.js";import{p as f,c as g,g as v,h as b,f as c,C as _,a as y,b as l,s as h}from"../chunks/C4aLToA0.js";import{i as w}from"../chunks/oXZGlhUn.js";import{g as A}from"../chunks/OkSu_lmj.js";import{A as T}from"../chunks/BayFEZB_.js";import{H as x,T as D}from"../chunks/DHUdjfhY.js";import{R as H}from"../chunks/mfVprqfN.js";const S=s=>s.toSorted((t,a)=>new Date(t.date).getTime()-new Date(a.date).getTime()),j=async({params:s,parent:t})=>{const{mopidy:a}=await t(),r=a.getArtist(p(s.artist));r||d(404,"Artist not found");const o=a.tracks.filter(e=>!e.album.artists.some(u=>u.uri===r.uri)&&[...e.artists??[],...e.composers??[],...e.performers??[]].some(u=>u.uri===r.uri)),m=S([...r.albums,...o]).map(e=>({name:e.name,type:"album"in e?"track":"album",uri:e.uri})),n=(await a.requestImages([r.uri,...o.map(e=>e.uri)]))?.at(0),i=n?await a.requestPalette(n):void 0;return{artist:r,items:m,palette:i}},E=Object.freeze(Object.defineProperty({__proto__:null,load:j},Symbol.toStringTag,{value:"Module"}));function k(s,t){f(t,!0);const a=A();let r=b(()=>a.getImage(t.artist.uri));x(s,{get image(){return v(r)},title:m=>{T(m,{get artist(){return t.artist}})},$$slots:{title:!0}}),g()}var q=c('<p class="m-4 text-title-m text-on-surface-variant">No items available</p>'),I=c("<!> <!>",1);function F(s,t){f(t,!0);var a=I();_(i=>{D(i,{get text(){return t.data.artist.name}})});var r=y(a);k(r,{get artist(){return t.data.artist}});var o=h(r,2);{var m=i=>{H(i,{get items(){return t.data.items}})},n=i=>{var e=q();l(i,e)};w(o,i=>{t.data.items?.length>0?i(m):i(n,!1)})}l(s,a),g()}export{F as component,E as universal};
