import"./DsnmJJEf.js";import{p as M,n as H,j as J,t as B,e as N,b as r,g as a,h as y,c as w,i as s,a as o,f as O,k as Q}from"./C4aLToA0.js";import{s as S,r as U,i as m}from"./oXZGlhUn.js";import{L as W,g as E,s as X,I as Y}from"./OkSu_lmj.js";import{A as Z}from"./CPG7K0kl.js";import{A as $}from"./D0Gr7Hm0.js";import{L as tt,V as et}from"./CUMWwcMq.js";import{P as rt}from"./Byt18mut.js";import{T as at}from"./CYTYGeBy.js";function it(g,t){M(t,!0);let n=U(t,["$$slots","$$events","$$legacy","directory"]);{let i=y(()=>({directory:t.directory.uri??""}));W(g,S({get params(){return a(i)},path:"/library/[directory]"},()=>n,{children:(_,D)=>{H();var v=J();B(()=>N(v,t.directory.name)),r(_,v)},$$slots:{default:!0}}))}w()}var st=O('<img class="aspect-square h-full rounded-full object-cover" alt="Album cover"/>');function ot(g,t){M(t,!0);const n=E();let i=y(()=>t.directory.uri?n.getImage(t.directory.uri):void 0);tt(g,{containerClass:"relative",lines:1,leading:v=>{var u=s(),d=o(u);{var b=l=>{var e=st();B(()=>X(e,"src",a(i))),r(l,e)},I=l=>{Y(l,{icon:"folder"})};m(d,l=>{a(i)?l(b):l(I,!1)})}r(v,u)},labelText:v=>{it(v,{contained:!1,get directory(){return t.directory}})},$$slots:{leading:!0,labelText:!0}}),w()}function mt(g,t){M(t,!0);const n=E();var i=s(),_=o(i);{var D=u=>{const d=y(()=>n.getDirectory(t.item.uri));var b=s(),I=o(b);{var l=e=>{ot(e,{get directory(){return a(d)}})};m(I,e=>{a(d)&&e(l)})}r(u,b)},v=u=>{var d=s(),b=o(d);{var I=e=>{const k=y(()=>n.getAlbum(t.item.uri));var A=s(),R=o(A);{var j=f=>{Z(f,{get album(){return a(k)}})};m(R,f=>{a(k)&&f(j)})}r(e,A)},l=e=>{var k=s(),A=o(k);{var R=f=>{const p=y(()=>n.getArtist(t.item.uri));var T=s(),V=o(T);{var q=c=>{$(c,{get artist(){return a(p)}})};m(V,c=>{a(p)&&c(q)})}r(f,T)},j=f=>{var p=s(),T=o(p);{var V=c=>{const x=y(()=>n.getTrack(t.item.uri));var P=s(),C=o(P);{var h=L=>{at(L,{get track(){return a(x)}})};m(C,L=>{a(x)&&L(h)})}r(c,P)},q=c=>{var x=s(),P=o(x);{var C=h=>{const L=y(()=>n.getPlaylist(t.item.uri));var z=s(),F=o(z);{var G=K=>{rt(K,{get playlist(){return a(L)}})};m(F,K=>{a(L)&&K(G)})}r(h,z)};m(P,h=>{t.item.type==="playlist"&&h(C)},!0)}r(c,x)};m(T,c=>{t.item.type==="track"?c(V):c(q,!1)},!0)}r(f,p)};m(A,f=>{t.item.type==="artist"?f(R):f(j,!1)},!0)}r(e,k)};m(b,e=>{t.item.type==="album"?e(I):e(l,!1)},!0)}r(u,d)};m(_,u=>{t.item.type==="directory"?u(D):u(v,!1)})}r(g,i),w()}function _t(g,t){et(g,{get data(){return t.items},getKey:i=>i.uri,item:(i,_=Q)=>{mt(i,{get item(){return _()}})},$$slots:{item:!0}})}export{_t as R};
