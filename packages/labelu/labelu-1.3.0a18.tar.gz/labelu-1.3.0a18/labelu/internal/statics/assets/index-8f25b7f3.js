var St=Object.defineProperty,It=Object.defineProperties;var At=Object.getOwnPropertyDescriptors;var cr=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var pr=(r,e,t)=>e in r?St(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,M=(r,e)=>{for(var t in e||(e={}))Rt.call(e,t)&&pr(r,t,e[t]);if(cr)for(var t of cr(e))wt.call(e,t)&&pr(r,t,e[t]);return r},se=(r,e)=>It(r,At(e));import{g as Re,c as ve}from"./index-61b96e11.js";const Cr={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},jt=Object.prototype.toString;function S(r){const e=jt.call(r).match(/\s([^\]]+)\]/).pop().toLowerCase();return e==="file"?"object":e}const Lt="object",Dt="array";function Tt(r,e={}){return r.replace(/\{\{\w+\}\}/g,t=>{const n=t.replace(/[{}]/g,""),o=e[n],i=S(o);return i===Lt||i===Dt?JSON.stringify(o):o})}function Ct(r,e,t=r){var n;const o=(n=Cr[r])!==null&&n!==void 0?n:t;return Tt(o,e)}function Nt(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ut(r,e){return{type:"error",name:r,code:Nt(r),message:Ct(r,e),data:e}}function O(r){return Ut.bind(null,r)}function W(r,e=[]){for(let t=0;t<r.length;t+=1){const n=r[t];Array.isArray(n)?W(n,e):e.push(n)}return e}const Y={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1,extendDefaults:!0}};function ue(r,e,t){const n=M({},e);return Object.defineProperty(n,"getOneOfOrigin",{enumerable:!1,value:()=>({index:t,schema:r})}),n}function w(r){return(r==null?void 0:r.type)==="error"}function Mt(r){return r instanceof Promise}function Pe(r){return w(r)||Mt(r)}function Ft(r){return w(r)}const{DECLARATOR_ONEOF:te}=Y;function Ke(r,e,t=r.rootSchema,n="#"){if(e!=null&&t[te]){const s=[],a=t[te],c=e[t[te]];if(c===void 0)return r.errors.missingOneOfPropertyError({property:a,pointer:n,schema:t,value:e});for(let l=0;l<t.oneOf.length;l+=1){const f=r.resolveRef(t.oneOf[l]),u=r.step(a,f,e,n);if(w(u))return u;let p=W(r.validate(c,u,n));if(p=p.filter(Pe),p.length>0)s.push(...p);else return ue(t,f,l)}return r.errors.oneOfPropertyError({property:a,value:c,pointer:n,schema:t,errors:s})}const o=[],i=[];for(let s=0;s<t.oneOf.length;s+=1){const a=r.resolveRef(t.oneOf[s]);let c=W(r.validate(e,a,n));c=c.filter(Pe),c.length>0?i.push(...c):o.push({index:s,schema:a})}return o.length===1?ue(t,o[0].schema,o[0].index):o.length>1?r.errors.multipleOneOfError({value:e,pointer:n,schema:t,matches:o}):r.errors.oneOfError({value:JSON.stringify(e),pointer:n,schema:t,oneOf:t.oneOf,errors:i})}function Vt(r,e,t,n){if(t==null||e.properties==null)return-1;let o=0;const i=Object.keys(e.properties);for(let s=0;s<i.length;s+=1){const a=i[s];t[a]!=null&&r.isValid(t[a],e.properties[a],n)&&(o+=1)}return o}function we(r,e,t=r.rootSchema,n="#"){if(e!=null&&t[te]){const i=[],s=t[te],a=e[t[te]];if(a===void 0)return r.errors.missingOneOfPropertyError({property:s,pointer:n,schema:t,value:e});for(let c=0;c<t.oneOf.length;c+=1){const l=r.resolveRef(t.oneOf[c]),f=r.step(s,l,e,n);if(w(f))return f;let u=W(r.validate(a,f,n));if(u=u.filter(Pe),u.length>0)i.push(...u);else return ue(t,l,c)}return r.errors.oneOfPropertyError({property:s,value:a,pointer:n,schema:t,errors:i})}const o=[];for(let i=0;i<t.oneOf.length;i+=1){const s=r.resolveRef(t.oneOf[i]);r.isValid(e,s,n)&&o.push({schema:s,index:i})}if(o.length===1)return ue(t,o[0].schema,o[0].index);if(S(e)==="object"){let i,s=-1,a=0;for(let c=0;c<t.oneOf.length;c+=1){const l=r.resolveRef(t.oneOf[c]),f=Vt(r,l,e);a<f&&(a=f,i=t.oneOf[c],s=c)}return i===void 0?r.errors.oneOfError({value:JSON.stringify(e),pointer:n,schema:t,oneOf:t.oneOf}):ue(t,i,s)}return o.length>1?r.errors.multipleOneOfError({matches:o,pointer:n,schema:t,value:e}):r.errors.oneOfError({value:JSON.stringify(e),pointer:n,schema:t,oneOf:t.oneOf})}const zt=(r,e,t,n)=>{if(Array.isArray(e.oneOf)){const o=r.resolveOneOf(t,e,n);if(w(o))return o}};var kt=function(e){return qt(e)&&!Ht(e)};function qt(r){return!!r&&typeof r=="object"}function Ht(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||Jt(r)}var Kt=typeof Symbol=="function"&&Symbol.for,Gt=Kt?Symbol.for("react.element"):60103;function Jt(r){return r.$$typeof===Gt}function Wt(r){return Array.isArray(r)?[]:{}}function ce(r,e){return e.clone!==!1&&e.isMergeableObject(r)?ne(Wt(r),r,e):r}function Zt(r,e,t){return r.concat(e).map(function(n){return ce(n,t)})}function Bt(r,e){if(!e.customMerge)return ne;var t=e.customMerge(r);return typeof t=="function"?t:ne}function Qt(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return Object.propertyIsEnumerable.call(r,e)}):[]}function dr(r){return Object.keys(r).concat(Qt(r))}function Nr(r,e){try{return e in r}catch(t){return!1}}function Xt(r,e){return Nr(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function Yt(r,e,t){var n={};return t.isMergeableObject(r)&&dr(r).forEach(function(o){n[o]=ce(r[o],t)}),dr(e).forEach(function(o){Xt(r,o)||(Nr(r,o)&&t.isMergeableObject(e[o])?n[o]=Bt(o,t)(r[o],e[o],t):n[o]=ce(e[o],t))}),n}function ne(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||Zt,t.isMergeableObject=t.isMergeableObject||kt,t.cloneUnlessOtherwiseSpecified=ce;var n=Array.isArray(e),o=Array.isArray(r),i=n===o;return i?n?t.arrayMerge(r,e,t):Yt(r,e,t):ce(e,t)}ne.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,o){return ne(n,o,t)},{})};var en=ne,rn=en;const Ur=Re(rn),tn=(r,e)=>e,me=(r,e)=>Ur(r,e,{arrayMerge:tn}),nn=(r,e)=>{const t=r.concat(e);return t.filter((n,o)=>t.indexOf(n)===o)},on=(r,e)=>Ur(r,e,{arrayMerge:nn});function D(r,e){const t=S(r),n=S(e);if(t!==n)return r;const o=on(r,e);return r.getOneOfOrigin?Object.defineProperty(o,"getOneOfOrigin",{enumerable:!1,value:r.getOneOfOrigin}):e.getOneOfOrigin&&Object.defineProperty(o,"getOneOfOrigin",{enumerable:!1,value:e.getOneOfOrigin}),o}function pe(r,...e){const t={};return Object.keys(r).forEach(n=>{e.includes(n)||(t[n]=r[n])}),r.getOneOfOrigin&&Object.defineProperty(t,"getOneOfOrigin",{enumerable:!1,value:r.getOneOfOrigin}),t}var sn=Function.prototype.toString,Ne=Object.create,ln=Object.prototype.toString,an=function(){function r(){this._keys=[],this._values=[]}return r.prototype.has=function(e){return!!~this._keys.indexOf(e)},r.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},r.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},r}();function fn(){return new an}function un(){return new WeakMap}var cn=typeof WeakMap!="undefined"?un:fn;function Ge(r){if(!r)return Ne(null);var e=r.constructor;if(e===Object)return r===Object.prototype?{}:Ne(r);if(e&&~sn.call(e).indexOf("[native code]"))try{return new e}catch(t){}return Ne(r)}function pn(r){var e="";return r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.unicode&&(e+="u"),r.sticky&&(e+="y"),e}function dn(r){return r.flags}var mn=/test/g.flags==="g"?dn:pn;function Mr(r){var e=ln.call(r);return e.substring(8,e.length-1)}function yn(r){return r[Symbol.toStringTag]||Mr(r)}var gn=typeof Symbol!="undefined"?yn:Mr,bn=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,Fr=Object.getOwnPropertyNames,Je=Object.getOwnPropertySymbols,Vr=Object.prototype,zr=Vr.hasOwnProperty,$n=Vr.propertyIsEnumerable,kr=typeof Je=="function";function On(r){return Fr(r).concat(Je(r))}var En=kr?On:Fr;function je(r,e,t){for(var n=En(r),o=0,i=n.length,s=void 0,a=void 0;o<i;++o)if(s=n[o],!(s==="callee"||s==="caller")){if(a=hn(r,s),!a){e[s]=t.copier(r[s],t);continue}!a.get&&!a.set&&(a.value=t.copier(a.value,t));try{bn(e,s,a)}catch(c){e[s]=a.value}}return e}function vn(r,e){var t=new e.Constructor;e.cache.set(r,t);for(var n=0,o=r.length;n<o;++n)t[n]=e.copier(r[n],e);return t}function Pn(r,e){var t=new e.Constructor;return e.cache.set(r,t),je(r,t,e)}function qr(r,e){return r.slice(0)}function _n(r,e){return r.slice(0,r.size,r.type)}function xn(r,e){return new e.Constructor(qr(r.buffer))}function Sn(r,e){return new e.Constructor(r.getTime())}function Hr(r,e){var t=new e.Constructor;return e.cache.set(r,t),r.forEach(function(n,o){t.set(o,e.copier(n,e))}),t}function In(r,e){return je(r,Hr(r,e),e)}function An(r,e){var t=Ge(e.prototype);e.cache.set(r,t);for(var n in r)zr.call(r,n)&&(t[n]=e.copier(r[n],e));return t}function Rn(r,e){var t=Ge(e.prototype);e.cache.set(r,t);for(var n in r)zr.call(r,n)&&(t[n]=e.copier(r[n],e));for(var o=Je(r),i=0,s=o.length,a=void 0;i<s;++i)a=o[i],$n.call(r,a)&&(t[a]=e.copier(r[a],e));return t}var wn=kr?Rn:An;function jn(r,e){var t=Ge(e.prototype);return e.cache.set(r,t),je(r,t,e)}function Ue(r,e){return new e.Constructor(r.valueOf())}function Ln(r,e){var t=new e.Constructor(r.source,mn(r));return t.lastIndex=r.lastIndex,t}function Ee(r,e){return r}function Kr(r,e){var t=new e.Constructor;return e.cache.set(r,t),r.forEach(function(n){t.add(e.copier(n,e))}),t}function Dn(r,e){return je(r,Kr(r,e),e)}var Tn=Array.isArray,We=Object.assign,Cn=Object.getPrototypeOf||function(r){return r.__proto__},Gr={array:vn,arrayBuffer:qr,blob:_n,dataView:xn,date:Sn,error:Ee,map:Hr,object:wn,regExp:Ln,set:Kr},Nn=We({},Gr,{array:Pn,map:In,object:jn,set:Dn});function Un(r){return{Arguments:r.object,Array:r.array,ArrayBuffer:r.arrayBuffer,Blob:r.blob,Boolean:Ue,DataView:r.dataView,Date:r.date,Error:r.error,Float32Array:r.arrayBuffer,Float64Array:r.arrayBuffer,Int8Array:r.arrayBuffer,Int16Array:r.arrayBuffer,Int32Array:r.arrayBuffer,Map:r.map,Number:Ue,Object:r.object,Promise:Ee,RegExp:r.regExp,Set:r.set,String:Ue,WeakMap:Ee,WeakSet:Ee,Uint8Array:r.arrayBuffer,Uint8ClampedArray:r.arrayBuffer,Uint16Array:r.arrayBuffer,Uint32Array:r.arrayBuffer,Uint64Array:r.arrayBuffer}}function Jr(r){var e=We({},Gr,r),t=Un(e),n=t.Array,o=t.Object;function i(s,a){if(a.prototype=a.Constructor=void 0,!s||typeof s!="object")return s;if(a.cache.has(s))return a.cache.get(s);if(a.prototype=Cn(s),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return o(s,a);if(Tn(s))return n(s,a);var c=t[gn(s)];return c?c(s,a):typeof s.then=="function"?s:o(s,a)}return function(a){return i(a,{Constructor:void 0,cache:cn(),copier:i,prototype:void 0})}}function Mn(r){return Jr(We({},Nn,r))}Mn({});var _e=Jr({});function Le(r,e,t){if(e.if!=null){if(e.if===!1)return e.else;if(e.if&&(e.then||e.else)){const n=r.validate(t,r.resolveRef(e.if));if(n.length===0&&e.then)return r.resolveRef(e.then);if(n.length!==0&&e.else)return r.resolveRef(e.else)}}}const Fn=(r,e,t,n)=>{const o=Le(r,e,t);if(o)return r.validate(t,o,n)};function Wr(r,e,t){var n;const o=M({},(n=r.resolveRef(e))!==null&&n!==void 0?n:{}),i=Le(r,o,t);return i||pe(o,"if","then","else")}function Ze(r,e,t=r.rootSchema){let n=_e(t);for(let o=0;o<t.allOf.length;o+=1){const i=Wr(r,t.allOf[o],e);n=D(n,i)}return delete n.allOf,n}function Zr(r,e){const{allOf:t}=e;if(!Array.isArray(t)||t.length===0)return;let n={};return t.forEach(o=>{n=D(n,r.resolveRef(o))}),n}const Vn=(r,e,t,n)=>{const{allOf:o}=e;if(!Array.isArray(o)||o.length===0)return;const i=[];return e.allOf.forEach(s=>{i.push(...r.validate(t,s,n))}),i};function Be(r,e){return r==null||r.$ref==null?r:r.getRoot?r.getRoot().getRef(r):e.getRef(r)}function zn(r,e){if(r==null||r.$ref==null)return r;const t=e.getRef(r),n=Object.assign({},t,r);return delete n.$ref,Object.defineProperty(n,"__ref",{enumerable:!1,value:r.__ref}),Object.defineProperty(n,"getRoot",{enumerable:!1,value:r.getRoot}),n}function kn(r){return function e(t){return Array.isArray(t)?(t=W(t),t.forEach(e),t):(w(t)&&r(t),t)}}function ui(r,e,t){const{schema:n,pointer:o,onError:i}=M({schema:r.rootSchema,pointer:"#"},t);let s=r.validate(e,n,o);if(i){s=W(s);const a=kn(i);for(let c=0;c<s.length;c+=1){const l=s[c];l instanceof Promise?l.then(a):w(l)&&i(l)}}return Promise.all(s).then(W).then(a=>a.filter(Ft)).catch(a=>{throw console.log("Failed resolving promises",a.message),console.log(a.stack),a})}function qn(r){return r.filter((e,t)=>r.indexOf(e)===t)}function G(r){return S(r)==="object"}function Br(r,e,t){const{dependencies:n}=e;if(!G(n)||!G(t))return;let o=!1,i={required:[]};if(Object.keys(n).forEach(s=>{var a,c;if(t[s]==null&&!(!((a=e.required)===null||a===void 0)&&a.includes(s)||!((c=i.required)===null||c===void 0)&&c.includes(s)))return;const l=n[s];if(Array.isArray(l)){o=!0,i.required.push(...l);return}if(G(l)){o=!0,i=D(i,r.resolveRef(l));return}}),o)return i.required=qn(i.required),i}const Hn=(r,e,t,n)=>{if(S(e.dependencies)!=="object")return;const o=[];return Object.keys(t).forEach(i=>{if(e.dependencies[i]===void 0||e.dependencies[i]===!0)return;if(e.dependencies[i]===!1){o.push(r.errors.missingDependencyError({pointer:n,schema:e,value:t}));return}let s;const a=S(e.dependencies[i]);if(a==="array")s=e.dependencies[i].filter(c=>t[c]===void 0).map(c=>r.errors.missingDependencyError({missingProperty:c,pointer:n,schema:e,value:t}));else if(a==="object")s=r.validate(t,e.dependencies[i],n);else throw new Error(`Invalid dependency definition for ${n}/${i}. Must be string[] or schema`);o.push(...s)}),o.length>0?o:void 0};function Qr(r,e,t){if(!Array.isArray(e.anyOf)||e.anyOf.length===0)return;let n;return e.anyOf.forEach(o=>{o=r.resolveRef(o),r.isValid(t,o)&&(n=n?D(n,o):o)}),n}function Qe(r,e,t=r.rootSchema,n="#"){const{anyOf:o}=t;if(!Array.isArray(o)||o.length===0)return t;const i=Qr(r,t,e);if(i==null)return r.errors.anyOfError({pointer:n,schema:t,value:e,anyOf:JSON.stringify(o)});const s=D(t,i);return pe(s,"anyOf")}const Kn=(r,e,t,n)=>{if(!(!Array.isArray(e.anyOf)||e.anyOf.length===0)){for(let o=0;o<e.anyOf.length;o+=1)if(r.isValid(t,e.anyOf[o]))return;return r.errors.anyOfError({pointer:n,schema:e,value:t,anyOf:e.anyOf})}},mr=["allOf","anyOf","oneOf","dependencies","if","then","else"],Gn=["allOf","anyOf","oneOf","dependencies","if"];function Jn(r){const e=Object.keys(r);return Gn.findIndex(t=>e.includes(t))!==-1}function Fe(r,e,t,n){let o,i;if(e=r.resolveRef(e),e.oneOf){const f=we(r,t,e,n);w(f)?i=f:f&&(o=D(o!=null?o:{},f))}if(Array.isArray(e.allOf)){const f=e.allOf.map(u=>{if(Jn(u)){let p=Fe(r,u,t,n);return p?(p=D(u,p),pe(p,...mr)):void 0}return u});if(f.length>0){const u=Zr(r,{allOf:f});o=D(o!=null?o:{},u)}}const s=Qr(r,e,t);s&&(o=D(o!=null?o:{},s));const a=Br(r,e,t);a&&(o=D(o!=null?o:{},a));const c=Le(r,e,t);if(c&&(o=D(o!=null?o:{},c)),o==null)return i;const l=Fe(r,o,t,n);return l&&(o=D(o,l)),pe(o,...mr)}const Wn=["allOf","anyOf","oneOf","dependencies","if","then","else"];function yr(r,e,t,n){let o=Fe(r,e,t,n);return o?(o=D(e,o),pe(o,...Wn)):e}class De{constructor(e,t){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=e,this.typeKeywords=_e(e.typeKeywords),this.validateKeyword=Object.assign({},e.validateKeyword),this.validateType=Object.assign({},e.validateType),this.validateFormat=Object.assign({},e.validateFormat),this.errors=Object.assign({},e.errors),this.setSchema(t)}get rootSchema(){return this.__rootSchema}set rootSchema(e){e!=null&&(this.__rootSchema=this.config.compileSchema(this,e))}addRemoteSchema(e,t){this.config.addRemoteSchema(this,e,t)}compileSchema(e){var t;return this.config.compileSchema(this,e,(t=this.rootSchema)!==null&&t!==void 0?t:e)}createSchemaOf(e){return this.config.createSchemaOf(e)}each(e,t,n,o){return this.config.each(this,e,t,n,o)}eachSchema(e,t=this.rootSchema){return this.config.eachSchema(t,e)}getChildSchemaSelection(e,t){return this.config.getChildSchemaSelection(this,e,t)}getSchema(e){return this.config.getSchema(this,e)}getTemplate(e,t,n=this.config.templateDefaultOptions){return this.config.getTemplate(this,e,t,n)}isValid(e,t,n){return this.config.isValid(this,e,t,n)}resolveAnyOf(e,t,n){return this.config.resolveAnyOf(this,e,t,n)}resolveAllOf(e,t){return this.config.resolveAllOf(this,e,t)}resolveRef(e){return this.config.resolveRef(e,this.rootSchema)}resolveOneOf(e,t,n){return this.config.resolveOneOf(this,e,t,n)}setSchema(e){this.rootSchema=e}step(e,t,n,o){return this.config.step(this,e,t,n,o)}validate(e,t,n){return this.config.validate(this,e,t,n)}}function Xe(r,e,t){t.id=t.id||e,r.remotes[e]=r.compileSchema(t)}var Xr={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(typeof self!="undefined"?self:ve,()=>(()=>{var t={d:(y,E)=>{for(var P in E)t.o(E,P)&&!t.o(y,P)&&Object.defineProperty(y,P,{enumerable:!0,get:E[P]})},o:(y,E)=>Object.prototype.hasOwnProperty.call(y,E),r:y=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})}},n={};function o(y){return y==="#"||y===""||Array.isArray(y)&&y.length===0||!1}t.r(n),t.d(n,{default:()=>xt,get:()=>p,isRoot:()=>o,join:()=>ee,remove:()=>I,removeUndefinedItems:()=>b,set:()=>h,split:()=>u,splitLast:()=>ie});const i=/~1/g,s=/~0/g,a=/\/+/g,c=/(^[#/]*|\/+$)/g;function l(y){return y.replace(i,"/").replace(s,"~")}function f(y){return l(decodeURIComponent(y))}function u(y){if(y==null||typeof y!="string"||o(y))return Array.isArray(y)?y:[];const E=y.indexOf("#")>=0?f:l,P=(y=(y=y.replace(a,"/")).replace(c,"")).split("/");for(let A=0,L=P.length;A<L;A+=1)P[A]=E(P[A]);return P}function p(y,E,P=void 0){if(E==null||y==null)return P;if(o(E))return y;const A=d(y,u(E));return A===void 0?P:A}function d(y,E){const P=E.shift();if(y!==void 0)return P!==void 0?d(y[P],E):y}const m=/^\[.*\]$/,v=/^\[(.+)\]$/;function _(y,E){return y==="__proto__"||y=="constructor"&&E.length>0&&E[0]=="prototype"}function h(y,E,P){if(E==null)return y;const A=u(E);if(A.length===0)return y;y==null&&(y=m.test(A[0])?[]:{});let L,N,U=y;for(;A.length>1;)L=A.shift(),N=m.test(A[0]),_(L,A)||(U=g(U,L,N));return L=A.pop(),$(U,L,P),y}function $(y,E,P){let A;const L=E.match(v);E==="[]"&&Array.isArray(y)?y.push(P):L?(A=L.pop(),y[A]=P):y[E]=P}function g(y,E,P){if(y[E]!=null)return y[E];const A=P?[]:{};return $(y,E,A),A}function b(y){let E=0,P=0;for(;E+P<y.length;)y[E+P]===void 0&&(P+=1),y[E]=y[E+P],E+=1;return y.length=y.length-P,y}function I(y,E,P){const A=u(E),L=A.pop(),N=p(y,A);return N&&delete N[L],Array.isArray(N)&&P!==!0&&b(N),y}const x=/\/+/g,j=/~/g,k=/\//g;function Z(y,E){if(y.length===0)return E?"#":"";for(let P=0,A=y.length;P<A;P+=1)y[P]=y[P].replace(j,"~0").replace(k,"~1"),E&&(y[P]=encodeURIComponent(y[P]));return((E?"#/":"/")+y.join("/")).replace(x,"/")}function ee(y,...E){const P=[];if(Array.isArray(y))return Z(y,arguments[1]===!0);const A=arguments[arguments.length-1],L=typeof A=="boolean"?A:y&&y[0]==="#";for(let U=0,Ce=arguments.length;U<Ce;U+=1)P.push.apply(P,u(arguments[U]));const N=[];for(let U=0,Ce=P.length;U<Ce;U+=1)if(P[U]===".."){if(N.length===0)return L?"#":"";N.pop()}else N.push(P[U]);return Z(N,L)}function ie(y){const E=u(y);if(E.length===0)return typeof y=="string"&&y[0]==="#"?["#",E[0]]:["",void 0];if(E.length===1)return y[0]==="#"?["#",E[0]]:["",E[0]];const P=E.pop();return[ee(E,y[0]==="#"),P]}const xt={get:p,set:h,remove:I,join:ee,split:u,splitLast:ie,isRoot:o,removeUndefinedItems:b};return n})())})(Xr);var Q=Xr.exports;const de=Re(Q);var Yr={},C={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.TokenError=void 0;class Zn extends Error{constructor(e,t){if(super(e),this.message=e,this.token=t,t&&t.errors)t.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}}Te.TokenError=Zn;Object.defineProperty(C,"__esModule",{value:!0});C.Parser=C.findRuleByName=C.parseRuleName=C.escapeRegExp=C.readToken=void 0;const gr=/^[A-Z0-9_]+$/,br=/(\?|\+|\*)$/,hr=/^(@|&|!)/,be="WS",he=Te;function Ve(r,e){let t=e.exec(r);return t&&t.index==0?t[0].length==0&&e.source.length>0?null:{type:null,text:t[0],rest:r.substr(t[0].length),start:0,end:t[0].length-1,fullText:t[0],errors:[],children:[],parent:null}:null}C.readToken=Ve;function et(r){return r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}C.escapeRegExp=et;function rt(r){r.rest="",r.children&&r.children.forEach(e=>rt(e))}function tt(r,e){r.start+=e,r.end+=e,r.children&&r.children.forEach(t=>tt(t,r.start))}function nt(r,e){e.errors&&e.errors.length&&e.errors.forEach(t=>r.push(t)),e.children&&e.children.forEach(t=>nt(r,t))}function B(r){let e=br.exec(r),t=hr.exec(r),n=e&&e[0]||"",o=t&&t[0]||"",i={raw:r,name:r.replace(br,"").replace(hr,""),isOptional:n=="?"||n=="*",allowRepetition:n=="+"||n=="*",atLeastOne:n=="+",lookupPositive:o=="&",lookupNegative:o=="!",pinned:o=="@",lookup:!1,isLiteral:!1};return i.isLiteral=i.name[0]=="'"||i.name[0]=='"',i.lookup=i.lookupNegative||i.lookupPositive,i}C.parseRuleName=B;function ot(r,e){let t=B(r);return e.cachedRules[t.name]||null}C.findRuleByName=ot;function ze(r,e){if(r.children){let t=r.children.filter(n=>n.type&&e.test(n.type));for(let n=0;n<t.length;n++){let o=r.children.indexOf(t[n]);o!=-1&&r.children.splice(o,1)}r.children.forEach(n=>ze(n,e))}}const Bn=["EOF"];class it{constructor(e,t){this.grammarRules=e,this.options=t,this.cachedRules={},this.debug=t?t.debug===!0:!1;let n=[],o=[];if(e.forEach(i=>{let s=B(i.name);if(s.name in this.cachedRules){n.push("Duplicated rule "+s.name);return}else this.cachedRules[s.name]=i;if(!i.bnf||!i.bnf.length){let a="Missing rule content, rule: "+i.name;n.indexOf(a)==-1&&n.push(a)}else i.bnf.forEach(a=>{if(typeof a[0]=="string"&&B(a[0]).name==i.name){let l="Left recursion is not allowed, rule: "+i.name;n.indexOf(l)==-1&&n.push(l)}a.forEach(c=>{if(typeof c=="string"){let l=B(c);!l.isLiteral&&o.indexOf(l.name)==-1&&Bn.indexOf(l.name)==-1&&o.push(l.name)}})});be==i.name&&(i.implicitWs=!1),i.implicitWs&&o.indexOf(be)==-1&&o.push(be),i.recover&&o.indexOf(i.recover)==-1&&o.push(i.recover)}),o.forEach(i=>{i in this.cachedRules||n.push("Missing rule "+i)}),n.length)throw new Error(n.join(`
`))}getAST(e,t){t||(t=this.grammarRules.filter(o=>!o.fragment&&o.name.indexOf("%")!=0)[0].name);let n=this.parse(e,t);if(n){nt(n.errors,n),tt(n,0),ze(n,/^%/),(!this.options||!this.options.keepUpperRules)&&ze(n,gr);let o=n.rest;o&&new he.TokenError(`Unexpected end of input: 
`+o,n),rt(n),n.rest=o}return n}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(e,t,n=0){let o=null,i=B(t),s,a=this.debug&&!gr.test(i.name);a&&console.log(new Array(n).join("│  ")+"Trying to get "+t+" from "+JSON.stringify(e.split(`
`)[0]));let c=i.name,l=ot(i.name,this);if(i.name=="EOF"){if(e.length)return null;if(e.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!l&&i.isLiteral){let f=i.name.trim();if(f.startsWith('"')?f=JSON.parse(f):f.startsWith("'")&&(f=f.replace(/^'(.+)'$/,"$1").replace(/\\'/g,"'")),f==="")return{type:"%%EMPTY%%",text:"",rest:e,start:0,end:0,fullText:"",errors:[],children:[],parent:null};s=new RegExp(et(f)),c=null}}catch(f){return f instanceof ReferenceError&&console.error(f),null}if(s){let f=Ve(e,s);if(f)return f.type=c,f}else{let f=l.bnf;f instanceof Array&&f.forEach(u=>{if(o)return;let p=null,d={type:i.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:e};l.fragment&&(d.fragment=!0);let m=e,v=0,_=u.length>0,h=!1;for(let $=0;$<u.length;$++)if(typeof u[$]=="string"){let g=B(u[$]);_=_&&g.isOptional;let b,I=!1;do{if(b=null,l.implicitWs&&(b=this.parse(m,g.name,n+1),!b)){let x;do if(x=this.parse(m,be,n+1),x)d.text=d.text+x.text,d.end=d.text.length,x.parent=d,d.children.push(x),m=m.substr(x.text.length),v+=x.text.length;else break;while(x&&x.text.length)}if(b=b||this.parse(m,g.name,n+1),g.lookupNegative){if(b)return;break}if(g.lookupPositive&&!b)return;if(!b&&(g.isOptional||g.atLeastOne&&I))break;if(b&&l.pinned==$+1&&(p=b,a&&console.log(new Array(n+1).join("│  ")+"└─ "+b.type+" PINNED")),b||(b=this.parseRecovery(l,m,n+1)),!b)if(p)o=d,b={type:"SyntaxError",text:m,children:[],end:m.length,errors:[],fullText:"",parent:null,start:0,rest:""},m.length?new he.TokenError(`Unexpected end of input. Expecting ${g.name} Got: ${m}`,b):new he.TokenError(`Unexpected end of input. Missing ${g.name}`,b),a&&console.log(new Array(n+1).join("│  ")+"└─ "+b.type+" "+JSON.stringify(b.text));else return;if(I=!0,h=!0,b.type=="%%EMPTY%%")break;b.start+=v,b.end+=v,!g.lookupPositive&&b.type&&(b.fragment?b.children&&b.children.forEach(x=>{x.start+=v,x.end+=v,x.parent=d,d.children.push(x)}):(b.parent=d,d.children.push(b))),g.lookup&&(b.lookup=!0),a&&console.log(new Array(n+1).join("│  ")+"└─ "+b.type+" "+JSON.stringify(b.text)),!g.lookup&&!b.lookup&&(d.text=d.text+b.text,d.end=d.text.length,m=m.substr(b.text.length),v+=b.text.length),d.rest=m}while(b&&g.allowRepetition&&m.length&&!b.lookup)}else{let g=Ve(m,u[$]);if(!g)return;a&&console.log(new Array(n+1).join("│  ")+"└> "+JSON.stringify(g.text)+u[$].source),h=!0,g.start+=v,g.end+=v,d.text=d.text+g.text,d.end=d.text.length,m=m.substr(g.text.length),v+=g.text.length,d.rest=m}h&&(o=d,a&&console.log(new Array(n).join("│  ")+"├<─┴< PUSHING "+o.type+" "+JSON.stringify(o.text)))}),o&&l.simplifyWhenOneChildren&&o.children.length==1&&(o=o.children[0])}return o||a&&console.log(t+" NOT RESOLVED FROM "+e),o}parseRecovery(e,t,n){if(e.recover&&t.length){let o=this.debug;o&&console.log(new Array(n+1).join("│  ")+"Trying to recover until token "+e.recover+" from "+JSON.stringify(t.split(`
`)[0]+t.split(`
`)[1]));let i={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},s;do if(s=this.parse(t,e.recover,n+1),s){new he.TokenError('Unexpected input: "'+i.text+`" Expecting: ${e.name}`,i);break}else i.text=i.text+t[0],i.end=i.text.length,t=t.substr(1);while(!s&&t.length>0);if(i.text.length>0&&s)return o&&console.log(new Array(n+1).join("│  ")+"Recovered text: "+JSON.stringify(i.text)),i}return null}}C.Parser=it;C.default=it;Object.defineProperty(Yr,"__esModule",{value:!0});const le=C;var ke;(function(r){r.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],r.defaultParser=new le.Parser(r.RULES,{debug:!1});const e=/^(!|&)/,t=/(\?|\+|\*)$/,n=/^%/;function o(h,$){if(typeof h=="string"){if(e.test(h))return"";if(n.test(h)){let b=t.exec(h),I=b?b[0]+" ":"";return i(h,$)?a(h,$)+I:"("+a(h,$)+")"+I}return h}else return h.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function i(h,$){let g=le.findRuleByName(h,$);return g&&g.bnf.length==1&&g.bnf[0].length==1&&(g.bnf[0][0]instanceof RegExp||g.bnf[0][0][0]=='"'||g.bnf[0][0][0]=="'")}function s(h,$){return h.map(g=>o(g,$)).join(" ")}function a(h,$){let g=le.findRuleByName(h,$);return g?g.bnf.map(b=>s(b,$)).join(" | "):"RULE_NOT_FOUND {"+h+"}"}function c(h){let $=[];return h.grammarRules.forEach(g=>{if(!/^%/.test(g.name)){let b=g.recover?" /* { recoverUntil="+g.recover+" } */":"";$.push(g.name+" ::= "+a(g.name,h)+b)}}),$.join(`
`)}r.emit=c;let l=0;function f(h,$){throw console.log("reberia restar "+$+" a "+h),new Error("Difference not supported yet")}function u(h){return new RegExp(h.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function p(h,$,g){let b=null,I=[];return $.children.forEach((x,j)=>{x.type=="Minus"&&f(b,x);let k=$.children[j+1];k=k&&k.type=="PrimaryDecoration"&&k.text||"";let Z="";switch(x.type){case"SubItem":let ee="%"+(g+l++);d(h,x,ee),I.push(Z+ee+k);break;case"NCName":case"StringLiteral":I.push(Z+x.text+k);break;case"CharCode":case"CharClass":if(k||Z){let ie={name:"%"+(g+l++),bnf:[[u(x.text)]]};h.push(ie),I.push(Z+ie.name+k)}else I.push(u(x.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+x.type+" -> "+JSON.stringify(x.text))}b=x}),I}function d(h,$,g){let b=$.children.filter(j=>j.type=="SequenceOrDifference").map(j=>p(h,j,g)),I={name:g,bnf:b},x=null;b.forEach(j=>{x=x||j.recover,delete j.recover}),g.indexOf("%")==0&&(I.fragment=!0),x&&(I.recover=x),h.push(I)}function m(h,$=r.defaultParser){let g=$.getAST(h);if(!g)throw new Error("Could not parse "+h);if(g.errors&&g.errors.length)throw g.errors[0];let b=[];return g.children.filter(I=>I.type=="Production").map(I=>{let x=I.children.filter(j=>j.type=="NCName")[0].text;d(b,I,x)}),b}r.getRules=m;function v(h,$=r.defaultParser){return m(h.join(""),$)}r.Transform=v;class _ extends le.Parser{constructor($,g){const b=g&&g.debugRulesParser===!0?new le.Parser(r.RULES,{debug:!0}):r.defaultParser;super(m($,b),g)}emitSource(){return c(this)}}r.Parser=_})(ke||(ke={}));var Qn=Yr.default=ke;const Xn="[^?/{}*,()#]+",Yn=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${Xn}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,eo=new Qn.Parser(Yn),ro=r=>eo.getAST(r),T=0,oe=3,xe=(r,e)=>`${r}/${e}`,st=Object.prototype.toString,to=/Object|Array/,qe=r=>to.test(st.call(r)),no=r=>st.call(r).match(/\s([^\]]+)\]/).pop().toLowerCase();function lt(r){return new RegExp(r.text.replace(/(^{|}$)/g,""))}function oo(r,e){Array.isArray(r)?r.forEach(e):Object.prototype.toString.call(r)==="[object Object]"&&Object.keys(r).forEach(function(t){e(r[t],t,r)})}function $r(r){return Array.isArray(r)?r.map(function(e,t){return`${t}`}):Object.prototype.toString.call(r)==="[object Object]"?Object.keys(r):[]}const J={mem:[],get(r,e){const t=r[T][e];if(!J.mem.includes(t))return qe(t)&&J.mem.push(t),[t,e,r[T],xe(r[oe],e)]},reset(){J.mem.length=0}},He={any(r,e){const t=e[T];return $r(t).map(n=>[t[n],n,t,xe(e[oe],n)])},all(r,e){const t=[e];return oo(e[T],(n,o)=>{const i=J.get(e,o);i&&t.push(...He.all(r,i))}),t},regex(r,e){const t=lt(r),n=e[T];return $r(n).filter(o=>t.test(o)).map(o=>[n[o],o,n,xe(e[oe],o)])}},Se={escaped:(r,e)=>Se.property(r,e),property:(r,e)=>{const t=r.text;if(e[T]&&e[T][t]!==void 0)return[e[T][t],t,e[T],xe(e[oe],t)]},typecheck:(r,e)=>{const t=r.text.replace(/^\?:/,"");if(t==="value")return qe(e[T])?void 0:e;if(no(e[T])===t)return e},lookahead:(r,e)=>{let t=!0,n=!1;return r.children.forEach(o=>{if(o.type==="expression"){const i=Se.expression(o,e)!==void 0;t=n===!0?t||i:t&&i}else n=o.type==="orExpr"}),t?e:void 0},expression:(r,e)=>{const t=r.children[0].text,n=r.children[1],o=r.children[2],i=e[T];if(qe(i)!==!1)return io(i[t],n,o)?e:void 0}};function io(r,e,t){if(e===void 0)return r!==void 0;let n;const o=`${r}`;return t.type==="regex"?n=lt(t).test(o):n=o===t.text,e.type==="isnot"&&(n=n===!1&&r!==void 0),n}function so(r,e,t,n){const o=[];for(let i=0,s=e.length;i<s;i+=1)o.push(...r(t,e[i],t,n));return o}function lo(r,e,t,n){const o=[];for(let i=0,s=e.length;i<s;i+=1){const a=r(t,e[i],n);a&&o.push(a)}return o}function ao(r,e,t){let n=r;return e.children.forEach(o=>{if(He[o.type])n=so(He[o.type],n,o,t);else if(Se[o.type])n=lo(Se[o.type],n,o,t);else throw new Error(`Unknown filter ${o.type}`)}),n}function fo(r,e,t){const n=[];let o=r;return e.children.forEach(i=>{if(i.type==="orPattern"){n.push(...o),o=r;return}o=Ye(o,i,t)}),n.push(...o),n}function uo(r){if(r==null)return 1;if(r==="*"||r==="+")return 1/0;const e=parseInt(r);return isNaN(e)?1:e}function co(r,e,t){const n=[],o=e.children.find(c=>c.type==="quantifier"),i=uo(o&&o.text);let s=r;o&&o.text==="*"&&n.push(...s);let a=0;for(;s.length>0&&a<i;)s=fo(s,e,t),n.push(...s),a+=1;return n}function po(r,e,t){let n=r;return e.children.forEach(o=>n=Ye(n,o,t)),n}function Ye(r,e,t){let n;return e.type==="query"?n=ao(r,e,t):e.type==="pattern"?n=co(r,e,t):n=po(r,e,t),J.reset(),J.mem.push(r),n}function mo(r,e){return J.reset(),J.mem.push(r),Ye([[r,null,null,"#"]],e)}const Or={value:r=>r.map(e=>e[T]),pointer:r=>r.map(e=>e[oe]),all:r=>r,map:r=>{const e={};return r.forEach(t=>e[t[oe]]=t[T]),e}};var X;(function(r){r.POINTER="pointer",r.VALUE="value",r.ALL="all",r.MAP="map"})(X||(X={}));ye.POINTER=X.POINTER;ye.VALUE=X.VALUE;ye.ALL=X.ALL;ye.MAP=X.MAP;function ye(r,e,t=X.VALUE){if(e==null)return[];e=e.replace(/(\/$)/g,""),e===""&&(e="#");const n=ro(e);if(n==null)throw new Error(`empty ast for '${e}'`);if(n.rest!=="")throw new Error(`Failed parsing queryString from: '${n.rest}'`);const o=mo(r,n);return typeof t=="function"?o.map(i=>t(...i)):Or[t]?Or[t](o):o}var Ie;(function(r){r.REPLACE_ITEMS="replace",r.INSERT_ITEMS="insert"})(Ie||(Ie={}));Ie.REPLACE_ITEMS;Ie.INSERT_ITEMS;const H={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}},yo=Object.keys(H).filter(r=>H[r].type===!1),Er=Object.prototype.hasOwnProperty;function vr(r){if(G(r)===!1)return;if(r.enum)return"enum";const e=r.type;if(Array.isArray(e)||H[e])return e;const t=yo.filter(n=>r[n]);if(t.length===1)return t[0];if(t.length===0){for(let n=0,o=H.object.keywords.length;n<o;n+=1){const i=H.object.keywords[n];if(Er.call(r,i))return"object"}for(let n=0,o=H.array.keywords.length;n<o;n+=1){const i=H.array.keywords[n];if(Er.call(r,i))return"array"}return}throw new Error(`Mutiple typeIds [${t.join(", ")}] matched in ${JSON.stringify(r)}`)}function go(r){const e=[],t=vr(r);if(t==null)return e;let n;if(Array.isArray(t)){n={};for(let o=0,i=t.length;o<i;o+=1)Object.assign(n,H[t[o]])}else n=H[t];return n.definitions==null||n.definitions.forEach(o=>{ye(r,o,(i,s,a,c)=>{G(i)&&vr(i)&&e.push({pointer:de.join(de.split(c),!1),def:i})})}),e}function bo(r,e){if(this.callback(r,e)===!0)return;go(r).forEach(n=>this.nextTypeDefs(n.def,de.join(e,n.pointer,!1)))}function $e(r,e,t,n="definitions"){const o=e[n];Object.keys(o).forEach(i=>{if(o[i]===!1||G(o[i])){r.nextTypeDefs(o[i],de.join(t,n,i,!1));return}})}function ge(r,e,t="#"){const n={callback:e,nextTypeDefs:bo};n.nextTypeDefs(r,t),r.definitions!=null&&(n.callback=(o,i)=>{e(o,i),o.definitions!=null&&$e(n,o,i)},$e(n,r,t)),r.$defs!=null&&(n.callback=(o,i)=>{e(o,i),o.definitions!=null&&$e(n,o,i)},$e(n,r,t,"$defs"))}const ho=/(#|\/)+$/,Oe=/#$/,$o=/^[^:]+:\/\/[^/]+\//,Oo=/\/[^/]*$/,Eo=/#.*$/;function Ae(r,e){return r==null&&e==null?"#":e==null?r.replace(Oe,""):r==null?e.replace(Oe,""):e[0]==="#"?`${r.replace(Eo,"")}${e.replace(ho,"")}`:$o.test(e)?e.replace(Oe,""):`${r.replace(Oo,"")}/${e.replace(Oe,"")}`}const ae=/(#|\/)+$/g,vo=["",null,"#"];function Po(r){if(vo.includes(r))return[];if(r=r.replace(ae,""),r.indexOf("#")===-1)return[r.replace(ae,"")];if(r.indexOf("#")===0)return[r.replace(ae,"")];const e=r.split("#");return e[0]=e[0].replace(ae,""),e[1]=`#${e[1].replace(ae,"")}`,e}const _o=/(#|\/)+$/g,xo=r=>S(r)==="object";function q(r,e,t){if(xo(t)&&(t=t.__ref||t.$ref),t==null)return e;let n;const o=t.replace(_o,"");if(r.remotes[o])return n=r.remotes[o],n&&n.$ref?q(r,e,n.$ref):n;if(r.ids[t])return n=Q.get(e,r.ids[t]),n&&n.$ref?q(r,e,n.$ref):n;const i=Po(t);if(i.length===0)return e;if(i.length===1){if(t=i[0],r.remotes[t])return n=r.remotes[t],q(r,e,n.$ref);if(r.ids[t])return n=Q.get(e,r.ids[t]),n&&n.$ref?q(r,e,n.$ref):n}if(i.length===2){const s=i[0];if(t=i[1],r.remotes[s])return r.remotes[s].getRef?r.remotes[s].getRef(t):q(r,r.remotes[s],t);if(r.ids[s])return q(r,Q.get(e,r.ids[s]),t)}return n=Q.get(e,r.ids[t]||t),n&&n.$ref?q(r,e,n.$ref):n}const Pr="__compiled",_r="__ref",So="getRef",Io="getRoot",Ao=/(#|\/)+$/g;function Ro(r,e,t=e,n=!1){if(!e||e[Pr]!==void 0)return e;const o={ids:{},remotes:r.remotes},i=JSON.stringify(e),s=JSON.parse(i);if(Object.defineProperty(s,Pr,{enumerable:!1,value:!0}),Object.defineProperty(s,So,{enumerable:!1,value:q.bind(null,o,s)}),n===!1&&i.includes("$ref")===!1)return s;e!==t&&Object.defineProperty(s,"definitions",{enumerable:!1,value:Object.assign({},t.definitions,t.$defs,e.definitions,e.$defs)});const a={},c=()=>s;return ge(s,(l,f)=>{var u;if(l.id){if(l.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(f)){const _=f.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),h=Q.get(s,_);l.id=(u=h.id)!==null&&u!==void 0?u:l.id}o.ids[l.id.replace(Ao,"")]=f}f=`#${f}`.replace(/##+/,"#");const p=f.replace(/\/[^/]+$/,""),d=f.replace(/\/[^/]+\/[^/]+$/,""),m=a[p]||a[d],v=Ae(m,l.id);a[f]=v,o.ids[v]==null&&(o.ids[v]=f),l.$ref&&!l[_r]&&(Object.defineProperty(l,_r,{enumerable:!1,value:Ae(v,l.$ref)}),Object.defineProperty(l,Io,{enumerable:!1,value:c}))}),s}function er(r,e,t,n=r.rootSchema,o="#"){n=r.resolveRef(n),t(n,e,o);const i=S(e);i==="object"?Object.keys(e).forEach(s=>{const a=r.step(s,n,e,o),c=e[s];r.each(c,t,a,`${o}/${s}`)}):i==="array"&&e.forEach((s,a)=>{const c=r.step(a,n,e,o);r.each(s,t,c,`${o}/${a}`)})}const rr={additionalItemsError:O("AdditionalItemsError"),additionalPropertiesError:O("AdditionalPropertiesError"),anyOfError:O("AnyOfError"),allOfError:O("AllOfError"),constError:O("ConstError"),containsError:O("ContainsError"),containsArrayError:O("ContainsArrayError"),containsAnyError:O("ContainsAnyError"),enumError:O("EnumError"),forbiddenPropertyError:O("ForbiddenPropertyError"),formatURLError:O("FormatURLError"),formatURIError:O("FormatURIError"),formatURIReferenceError:O("FormatURIReferenceError"),formatURITemplateError:O("FormatURITemplateError"),formatDateError:O("FormatDateError"),formatDateTimeError:O("FormatDateTimeError"),formatEmailError:O("FormatEmailError"),formatHostnameError:O("FormatHostnameError"),formatIPV4Error:O("FormatIPV4Error"),formatIPV4LeadingZeroError:O("FormatIPV4LeadingZeroError"),formatIPV6Error:O("FormatIPV6Error"),formatIPV6LeadingZeroError:O("FormatIPV6LeadingZeroError"),formatJsonPointerError:O("FormatJsonPointerError"),formatRegExError:O("FormatRegExError"),formatTimeError:O("FormatTimeError"),invalidSchemaError:O("InvalidSchemaError"),invalidDataError:O("InvalidDataError"),invalidTypeError:O("InvalidTypeError"),invalidPropertyNameError:O("InvalidPropertyNameError"),maximumError:O("MaximumError"),maxItemsError:O("MaxItemsError"),maxLengthError:O("MaxLengthError"),maxPropertiesError:O("MaxPropertiesError"),minimumError:O("MinimumError"),minItemsError:O("MinItemsError"),minItemsOneError:O("MinItemsOneError"),minLengthError:O("MinLengthError"),minLengthOneError:O("MinLengthOneError"),minPropertiesError:O("MinPropertiesError"),missingDependencyError:O("MissingDependencyError"),missingOneOfPropertyError:O("MissingOneOfPropertyError"),multipleOfError:O("MultipleOfError"),multipleOneOfError:O("MultipleOneOfError"),noAdditionalPropertiesError:O("NoAdditionalPropertiesError"),notError:O("NotError"),oneOfError:O("OneOfError"),oneOfPropertyError:O("OneOfPropertyError"),patternError:O("PatternError"),patternPropertiesError:O("PatternPropertiesError"),requiredPropertyError:O("RequiredPropertyError"),schemaWarning:O("SchemaWarning"),typeError:O("TypeError"),undefinedValueError:O("UndefinedValueError"),uniqueItemsError:O("UniqueItemsError"),unknownPropertyError:O("UnknownPropertyError"),valueNotEmptyError:O("ValueNotEmptyError")};var at={exports:{}};(function(r){(function(e){e.exports.is_uri=n,e.exports.is_http_uri=o,e.exports.is_https_uri=i,e.exports.is_web_uri=s,e.exports.isUri=n,e.exports.isHttpUri=o,e.exports.isHttpsUri=i,e.exports.isWebUri=s;var t=function(a){var c=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return c};function n(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var c=[],l="",f="",u="",p="",d="",m="";if(c=t(a),l=c[1],f=c[2],u=c[3],p=c[4],d=c[5],!!(l&&l.length&&u.length>=0)){if(f&&f.length){if(!(u.length===0||/^\//.test(u)))return}else if(/^\/\//.test(u))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(l.toLowerCase()))return m+=l+":",f&&f.length&&(m+="//"+f),m+=u,p&&p.length&&(m+="?"+p),d&&d.length&&(m+="#"+d),m}}}function o(a,c){if(n(a)){var l=[],f="",u="",p="",d="",m="",v="",_="";if(l=t(a),f=l[1],u=l[2],p=l[3],m=l[4],v=l[5],!!f){if(c){if(f.toLowerCase()!="https")return}else if(f.toLowerCase()!="http")return;if(u)return/:(\d+)$/.test(u)&&(d=u.match(/:(\d+)$/)[0],u=u.replace(/:\d+$/,"")),_+=f+":",_+="//"+u,d&&(_+=d),_+=p,m&&m.length&&(_+="?"+m),v&&v.length&&(_+="#"+v),_}}}function i(a){return o(a,!0)}function s(a){return o(a)||i(a)}})(r)})(at);var wo=at.exports;const xr=Re(wo);var V={},ft={exports:{}};(function(r){(function(e,t){r.exports?r.exports=t():e.nearley=t()})(ve,function(){function e(l,f,u){return this.id=++e.highestId,this.name=l,this.symbols=f,this.postprocess=u,this}e.highestId=0,e.prototype.toString=function(l){var f=typeof l=="undefined"?this.symbols.map(c).join(" "):this.symbols.slice(0,l).map(c).join(" ")+" ● "+this.symbols.slice(l).map(c).join(" ");return this.name+" → "+f};function t(l,f,u,p){this.rule=l,this.dot=f,this.reference=u,this.data=[],this.wantedBy=p,this.isComplete=this.dot===l.symbols.length}t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(l){var f=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=l,f.isComplete&&(f.data=f.build(),f.right=void 0),f},t.prototype.build=function(){var l=[],f=this;do l.push(f.right.data),f=f.left;while(f.left);return l.reverse(),l},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function n(l,f){this.grammar=l,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(l){for(var f=this.states,u=this.wants,p=this.completed,d=0;d<f.length;d++){var m=f[d];if(m.isComplete){if(m.finish(),m.data!==s.fail){for(var v=m.wantedBy,_=v.length;_--;){var h=v[_];this.complete(h,m)}if(m.reference===this.index){var $=m.rule.name;(this.completed[$]=this.completed[$]||[]).push(m)}}}else{var $=m.rule.symbols[m.dot];if(typeof $!="string"){this.scannable.push(m);continue}if(u[$]){if(u[$].push(m),p.hasOwnProperty($))for(var g=p[$],_=0;_<g.length;_++){var b=g[_];this.complete(m,b)}}else u[$]=[m],this.predict($)}}},n.prototype.predict=function(l){for(var f=this.grammar.byName[l]||[],u=0;u<f.length;u++){var p=f[u],d=this.wants[l],m=new t(p,0,this.index,d);this.states.push(m)}},n.prototype.complete=function(l,f){var u=l.nextState(f);this.states.push(u)};function o(l,f){this.rules=l,this.start=f||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(p){u.hasOwnProperty(p.name)||(u[p.name]=[]),u[p.name].push(p)})}o.fromCompiled=function(p,f){var u=p.Lexer;p.ParserStart&&(f=p.ParserStart,p=p.ParserRules);var p=p.map(function(m){return new e(m.name,m.symbols,m.postprocess)}),d=new o(p,f);return d.lexer=u,d};function i(){this.reset("")}i.prototype.reset=function(l,f){this.buffer=l,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,f){var u=this.buffer;if(typeof u=="string"){var p=u.split(`
`).slice(Math.max(0,this.line-5),this.line),d=u.indexOf(`
`,this.index);d===-1&&(d=u.length);var m=this.index-this.lastLineBreak,v=String(this.line).length;return f+=" at line "+this.line+" col "+m+`:

`,f+=p.map(function(h,$){return _(this.line-p.length+$+1,v)+" "+h},this).join(`
`),f+=`
`+_("",v+m)+`^
`,f}else return f+" at index "+(this.index-1);function _(h,$){var g=String(h);return Array($-g.length+1).join(" ")+g}};function s(l,f,u){if(l instanceof o)var p=l,u=f;else var p=o.fromCompiled(l,f);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new i};for(var d in u||{})this.options[d]=u[d];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new n(p,0);this.table=[m],m.wants[p.start]=[],m.predict(p.start),m.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var f=this.lexer;f.reset(l,this.lexerState);for(var u;;){try{if(u=f.next(),!u)break}catch(j){var v=new n(this.grammar,this.current+1);this.table.push(v);var p=new Error(this.reportLexerError(j));throw p.offset=this.current,p.token=j.token,p}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var m=this.current+1,v=new n(this.grammar,m);this.table.push(v);for(var _=u.text!==void 0?u.text:u.value,h=f.constructor===i?u.value:u,$=d.scannable,g=$.length;g--;){var b=$[g],I=b.rule.symbols[b.dot];if(I.test?I.test(h):I.type?I.type===u.type:I.literal===_){var x=b.nextState({data:h,token:u,isToken:!0,reference:m-1});v.states.push(x)}}if(v.process(),v.states.length===0){var p=new Error(this.reportError(u));throw p.offset=this.current,p.token=u,p}this.options.keepHistory&&(d.lexerState=f.save()),this.current++}return d&&(this.lexerState=f.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var f,u,p=l.token;return p?(f="input "+JSON.stringify(p.text[0])+" (lexer error)",u=this.lexer.formatError(p,"Syntax error")):(f="input (lexer error)",u=l.message),this.reportErrorCommon(u,f)},s.prototype.reportError=function(l){var f=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,f)},s.prototype.reportErrorCommon=function(l,f){var u=[];u.push(l);var p=this.table.length-2,d=this.table[p],m=d.states.filter(function(_){var h=_.rule.symbols[_.dot];return h&&typeof h!="string"});if(m.length===0)u.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,u);else{u.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var v=m.map(function(_){return this.buildFirstStateStack(_,[])||[_]},this);v.forEach(function(_){var h=_[0],$=h.rule.symbols[h.dot],g=this.getSymbolDisplay($);u.push("A "+g+" based on:"),this.displayStateStack(_,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,f){for(var u,p=0,d=0;d<l.length;d++){var m=l[d],v=m.rule.toString(m.dot);v===u?p++:(p>0&&f.push("    ^ "+p+" more lines identical to this"),p=0,f.push("    "+v)),u=v}},s.prototype.getSymbolDisplay=function(l){return a(l)},s.prototype.buildFirstStateStack=function(l,f){if(f.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],p=[l].concat(f),d=this.buildFirstStateStack(u,p);return d===null?null:[l].concat(d)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var f=l.index;this.current=f,this.table[f]=l,this.table.splice(f+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],f=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(p){p.rule.name===f&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==s.fail&&l.push(p)}),l.map(function(p){return p.data})};function a(l){var f=typeof l;if(f==="string")return l;if(f==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function c(l){var f=typeof l;if(f==="string")return l;if(f==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:o,Rule:e}})})(ft);var jo=ft.exports,tr={};Object.defineProperty(tr,"__esModule",{value:!0});function R(r){return r[0]}const ut=r=>[].concat(...r.map(e=>Array.isArray(e)?ut(e):e));function re(r){return r?Array.isArray(r)?ut(r).join(""):r:""}const Lo={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:r=>r.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(r){return r.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(r){return r.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:R},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:r=>r[0].concat([r[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:r=>r[0].concat([r[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:R},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:r=>r[0].concat([r[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:R},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:r=>r[0].concat([r[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:R},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(r){return{DomainName:re(r[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(r){return{AddressLiteral:re(r[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(r){return{localPart:re(r[0]),domainPart:re(r[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(r){return{DotString:re(r[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(r){return{QuotedString:re(r[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:r=>r[0].concat([r[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:r=>r[0].concat([r[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:r=>r[0].concat([r[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:R},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(r){return r.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:r=>r[0].concat([r[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:R},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:R},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:r=>r.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:R},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:R},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:r=>r.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:R},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:R},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:R},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:R},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:R},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:R},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:R},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:R}],ParserStart:"Reverse_path"};tr.default=Lo;var Do=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(V,"__esModule",{value:!0});V.canonicalize=V.canonicalize_quoted_string=V.normalize=V.normalize_dot_string=dt=V.parse=void 0;const ct=jo,pt=Do(tr);pt.default.ParserStart="Mailbox";const To=ct.Grammar.fromCompiled(pt.default);function nr(r){const e=new ct.Parser(To);if(e.feed(r),e.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");return e.results[0]}var dt=V.parse=nr;function mt(r){return function(){const n=r.indexOf("+");return n===-1?r:r.substr(0,n)}().replace(/\./g,"").toLowerCase()}V.normalize_dot_string=mt;function Co(r){var e,t;const n=nr(r),o=(e=n.domainPart.AddressLiteral)!==null&&e!==void 0?e:n.domainPart.DomainName.toLowerCase();return`${(t=n.localPart.QuotedString)!==null&&t!==void 0?t:mt(n.localPart.DotString)}@${o}`}V.normalize=Co;function yt(r){return`"${r.substr(1).substr(0,r.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}V.canonicalize_quoted_string=yt;function No(r){var e;const t=nr(r),n=(e=t.domainPart.AddressLiteral)!==null&&e!==void 0?e:t.domainPart.DomainName.toLowerCase();return`${t.localPart.QuotedString?yt(t.localPart.QuotedString):t.localPart.DotString}@${n}`}V.canonicalize=No;const Uo=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),Mo=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Fo=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Vo=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,zo=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ko=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,qo=[0,31,28,31,30,31,30,31,31,30,31,30,31],Ho=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Ko=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Go=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Jo=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,or={date:(r,e,t,n)=>{if(typeof t!="string"||t==="")return;const o=t.match(zo);if(!o)return r.errors.formatDateTimeError({value:t,pointer:n,schema:e});const i=+o[1],s=+o[2],a=+o[3],c=i%4===0&&(i%100!==0||i%400===0);if(!(s>=1&&s<=12&&a>=1&&a<=(s==2&&c?29:qo[s])))return r.errors.formatDateError({value:t,pointer:n,schema:e})},"date-time":(r,e,t,n)=>{if(!(typeof t!="string"||t===""))return t===""||Uo.test(t)?new Date(t).toString()==="Invalid Date"?r.errors.formatDateTimeError({value:t,pointer:n,schema:e}):void 0:r.errors.formatDateTimeError({value:t,pointer:n,schema:e})},email:(r,e,t,n)=>{if(typeof t!="string"||t==="")return;if(t[0]==='"')return r.errors.formatEmailError({value:t,pointer:n,schema:e});const[o,i,...s]=t.split("@");if(!o||!i||s.length!==0||o.length>64||i.length>253)return r.errors.formatEmailError({value:t,pointer:n,schema:e});if(o[0]==="."||o.endsWith(".")||o.includes(".."))return r.errors.formatEmailError({value:t,pointer:n,schema:e});if(!/^[a-z0-9.-]+$/i.test(i)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(o))return r.errors.formatEmailError({value:t,pointer:n,schema:e});if(!i.split(".").every(a=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(a)))return r.errors.formatEmailError({value:t,pointer:n,schema:e})},"idn-email":(r,e,t,n)=>{if(!(typeof t!="string"||t===""))try{dt(t);return}catch(o){return r.errors.formatEmailError({value:t,pointer:n,schema:e})}},hostname:(r,e,t,n)=>{if(typeof t=="string"&&!(t===""||Vo.test(t)))return r.errors.formatHostnameError({value:t,pointer:n,schema:e})},ipv4:(r,e,t,n)=>{if(!(typeof t!="string"||t==="")){if(t&&t[0]==="0")return r.errors.formatIPV4LeadingZeroError({value:t,pointer:n,schema:e});if(!(t.length<=15&&Mo.test(t)))return r.errors.formatIPV4Error({value:t,pointer:n,schema:e})}},ipv6:(r,e,t,n)=>{if(!(typeof t!="string"||t==="")){if(t&&t[0]==="0")return r.errors.formatIPV6LeadingZeroError({value:t,pointer:n,schema:e});if(!(t.length<=45&&Fo.test(t)))return r.errors.formatIPV6Error({value:t,pointer:n,schema:e})}},"json-pointer":(r,e,t,n)=>{if(!(typeof t!="string"||t==="")&&!Ho.test(t))return r.errors.formatJsonPointerError({value:t,pointer:n,schema:e})},"relative-json-pointer":(r,e,t,n)=>{if(!(typeof t!="string"||t==="")&&!Ko.test(t))return r.errors.formatJsonPointerError({value:t,pointer:n,schema:e})},regex:(r,e,t,n)=>{if(typeof t=="string"&&/\\Z$/.test(t)===!1){try{new RegExp(t);return}catch(o){}return r.errors.formatRegExError({value:t,pointer:n,schema:e})}if(!(typeof t=="object"||typeof t=="number"||Array.isArray(t)))return r.errors.formatRegExError({value:t,pointer:n,schema:e})},time:(r,e,t,n)=>typeof t!="string"||t===""||t.match(ko)?void 0:r.errors.formatDateTimeError({value:t,pointer:n,schema:e}),uri:(r,e,t,n)=>{if(!(typeof t!="string"||t==="")&&!xr.isUri(t))return r.errors.formatURIError({value:t,pointer:n,schema:e})},"uri-reference":(r,e,t,n)=>{if(!(typeof t!="string"||t==="")&&!Go.test(t))return r.errors.formatURIReferenceError({value:t,pointer:n,schema:e})},"uri-template":(r,e,t,n)=>{if(!(typeof t!="string"||t==="")&&!Jo.test(t))return r.errors.formatURITemplateError({value:t,pointer:n,schema:e})},url:(r,e,t,n)=>{if(!(t===""||xr.isWebUri(t)))return r.errors.formatURLError({value:t,pointer:n,schema:e})}},gt={};function ir(r,e=gt){const{pointer:t="#",data:n,schema:o=r.rootSchema,withSchemaWarning:i=!1}=e,s=de.split(t),a=bt(r,r.resolveRef(o),s,"#",n);if(!(!i&&(a==null?void 0:a.code)==="schema-warning"))return a}function bt(r,e,t,n,o=gt){if(t.length===0)return r.resolveRef(e);const i=t.shift();return e=r.step(i,e,o,n),w(e)?e:(o=o[i],bt(r,e,t,`${n}/${i}`,o))}function Wo(r){switch(S(r)){case"string":case"array":return(r==null?void 0:r.length)===0;case"null":case"undefined":return!0;case"object":return Object.keys(r).length===0;default:return!1}}const Sr=Y.templateDefaultOptions;let K;function Me(r,e){const{$ref:t}=r;return t==null?!0:(K[e]==null||K[e][t]==null?0:K[e][t])<Y.GET_TEMPLATE_RECURSION_LIMIT}function Ir(r,e,t){const{$ref:n}=e;return n==null?e:(K[t]=K[t]||{},K[t][n]=K[t][n]||0,K[t][n]+=1,r.resolveRef(e))}function Zo(r,e){if(r==="string")return JSON.stringify(e);if(typeof e!="string")return null;try{if(e=JSON.parse(e),typeof e===r)return e}catch(t){}return null}function ht(r,e,t,n,o){if(S(e)!=="object")return Object.assign({pointer:n},e);if(Me(e,n)===!1&&t==null)return!1;let i=_e(Ir(r,e,n));if(Array.isArray(e.anyOf)&&e.anyOf.length>0){if(Me(e.anyOf[0],`${n}/anyOf/0`)){const s=Ir(r,e.anyOf[0],`${n}/anyOf/0`);i=me(i,s),i.pointer=e.anyOf[0].$ref||i.pointer}delete i.anyOf}if(Array.isArray(e.allOf)&&e.allOf.map((a,c)=>Me(a,`${n}/allOf/${c}`)).reduceRight((a,c)=>a&&c,!0)){const a=[];let c=_e(t);for(let f=0;f<e.allOf.length;f+=1)a.push(Wr(r,e.allOf[f],c)),c=F(r,c,M({type:e.type},a[f]),`${n}/allOf/${f}`,o);const l=Zr(r,{allOf:a});l&&(i=D(i,l))}return i.pointer=i.pointer||e.$ref||n,i}const Ar=r=>r&&typeof r=="object";function F(r,e,t,n,o){var i;if(t==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(e)}`);if(n==null)throw new Error("Missing pointer");let s=ht(r,t,e,n,o);if(!Ar(s))return;if(n=s.pointer,s!=null&&s.const)return s.const;if(Array.isArray(s.oneOf))if(Wo(e)){const f=s.oneOf[0].type||s.type||s.const&&typeof s.const||S(e);s=se(M({},s.oneOf[0]),{type:f})}else{const f=we(r,e,s);if(w(f)){if(e!=null&&o.removeInvalidData!==!0)return e;s=s.oneOf[0],e=void 0}else f.type=(i=f.type)!==null&&i!==void 0?i:s.type,s=f}if(!Ar(s)||s.type==null)return;if(e instanceof File)return e;const a=Array.isArray(s.type)?Bo(s.type,e,s.default):s.type,c=S(e);return e!=null&&c!==a&&!(c==="number"&&a==="integer")&&(e=Zo(a,e)),Rr[a]==null?o.removeInvalidData?void 0:e:Rr[a](r,s,e,n,o)}function Bo(r,e,t){if(e==null){if(t!=null){const o=S(t);if(r.includes(o))return o}return r[0]}const n=S(e);return r.includes(n)?n:r[0]}const Rr={null:(r,e,t)=>fe(e,t,null),string:(r,e,t)=>fe(e,t,""),number:(r,e,t)=>fe(e,t,0),integer:(r,e,t)=>fe(e,t,0),boolean:(r,e,t)=>fe(e,t,!1),object:(r,e,t,n,o)=>{var i;const s=e.default===void 0?{}:e.default,a={},c=o.extendDefaults===!1&&e.default!==void 0?[]:(i=e.required)!==null&&i!==void 0?i:[];e.properties&&Object.keys(e.properties).forEach(u=>{const p=t==null||t[u]==null?s[u]:t[u],d=c.includes(u);(p!=null||d||o.addOptionalProps)&&(a[u]=F(r,p,e.properties[u],`${n}/properties/${u}`,o))});let l=Br(r,e,a);if(l){l=D(e,l),delete l.dependencies;const u=F(r,t,l,`${n}/dependencies`,o);Object.assign(a,u)}t&&(o.removeInvalidData===!0&&(e.additionalProperties===!1||S(e.additionalProperties)==="object")?S(e.additionalProperties)==="object"&&Object.keys(t).forEach(u=>{a[u]==null&&r.isValid(t[u],e.additionalProperties)&&(a[u]=t[u])}):Object.keys(t).forEach(u=>a[u]==null&&(a[u]=t[u])));const f=Le(r,e,a);if(f){const u=F(r,a,M({type:"object"},f),n,o);Object.assign(a,u)}return a},array:(r,e,t,n,o)=>{var i,s;if(e.items==null)return t||[];const a=e.default===void 0?[]:e.default,c=t||a,l=o.extendDefaults===!1&&e.default!==void 0?0:e.minItems||0;if(Array.isArray(e.items)){for(let u=0,p=Math.max(l!=null?l:0,(s=(i=e.items)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0);u<p;u+=1)c[u]=F(r,c[u]==null?a[u]:c[u],e.items[u],`${n}/items/${u}`,o);return c}if(S(e.items)!=="object")return c;const f=ht(r,e.items,t,n,o);if(f===!1)return c;if(n=f.pointer||n,f.oneOf&&c.length===0){const u=f.oneOf[0];for(let p=0;p<l;p+=1)c[p]=F(r,c[p]==null?a[p]:c[p],u,`${n}/oneOf/0`,o);return c}if(f.oneOf&&c.length>0){const u=Math.max(l,c.length);for(let p=0;p<u;p+=1){let d=c[p]==null?a[p]:c[p],m=we(r,d,f);m==null||w(m)?d!=null&&o.removeInvalidData!==!0?c[p]=d:(d=void 0,m=f.oneOf[0],c[p]=F(r,d,m,`${n}/oneOf/${p}`,o)):c[p]=F(r,d,m,`${n}/oneOf/${p}`,o)}return c}if(f.type){for(let u=0,p=Math.max(l,c.length);u<p;u+=1)c[u]=F(r,c[u]==null?a[u]:c[u],f,`${n}/items`,o);return c}return c}};function fe(r,e,t){return e!=null?e:r.const?r.const:r.default===void 0&&Array.isArray(r.enum)?r.enum[0]:r.default===void 0?t:r.default}const sr=(r,e,t=r.rootSchema,n)=>(K={},n?F(r,e,t,"#",M(M({},Sr),n)):F(r,e,t,"#",Sr));function lr(r,e,t=r.rootSchema,n="#"){return r.validate(e,t,n).length===0}function wr(r){const e=[];let t=0;const n=r.length;for(;t<n;){const o=r.charCodeAt(t++);if(o>=55296&&o<=56319&&t<n){const i=r.charCodeAt(t++);(i&64512)==56320?e.push(((o&1023)<<10)+(i&1023)+65536):(e.push(o),t--)}else e.push(o)}return e}function jr(r){const e=`${r}`,t=e.indexOf(".");return t===-1?0:e.length-(t+1)}var Qo=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!r(e[s],t[s]))return!1}return!0}return e!==e&&t!==t};const $t=Re(Qo),Xo=Object.prototype.hasOwnProperty,Lr=(r,e)=>!(r[e]===void 0||!Xo.call(r,e)),Ot={additionalProperties:(r,e,t,n)=>{if(e.additionalProperties===!0||e.additionalProperties==null||S(e.patternProperties)==="object"&&e.additionalProperties===!1)return;const o=[];let i=Object.keys(t).filter(a=>Y.propertyBlacklist.includes(a)===!1);const s=Object.keys(e.properties||{});if(S(e.patternProperties)==="object"){const a=Object.keys(e.patternProperties).map(c=>new RegExp(c));i=i.filter(c=>{for(let l=0;l<a.length;l+=1)if(a[l].test(c))return!1;return!0})}for(let a=0,c=i.length;a<c;a+=1){const l=i[a];if(s.indexOf(l)===-1){const f=G(e.additionalProperties);if(f&&Array.isArray(e.additionalProperties.oneOf)){const u=r.resolveOneOf(t[l],e.additionalProperties,`${n}/${l}`);w(u)?o.push(r.errors.additionalPropertiesError({pointer:n,schema:e.additionalProperties,value:t,property:i[a],properties:s,errors:u.data.errors})):o.push(...r.validate(t[l],u,n))}else f?o.push(...r.validate(t[l],e.additionalProperties,`${n}/${l}`)):o.push(r.errors.noAdditionalPropertiesError({pointer:n,schema:e,value:t,property:i[a],properties:s}))}}return o},allOf:Vn,anyOf:Kn,dependencies:Hn,enum:(r,e,t,n)=>{const o=S(t);if(o==="object"||o==="array"){const i=JSON.stringify(t);for(let s=0;s<e.enum.length;s+=1)if(JSON.stringify(e.enum[s])===i)return}else if(e.enum.includes(t))return;return r.errors.enumError({pointer:n,schema:e,value:t,values:e.enum})},format:(r,e,t,n)=>{if(r.validateFormat[e.format])return r.validateFormat[e.format](r,e,t,n)},items:(r,e,t,n)=>{if(e.items===!1)return Array.isArray(t)&&t.length===0?void 0:r.errors.invalidDataError({pointer:n,value:t,schema:e});const o=[];for(let i=0;i<t.length;i+=1){const s=t[i],a=r.step(i,e,t,n);if(w(a))return[a];const c=r.validate(s,a,`${n}/${i}`);o.push(...c)}return o},maximum:(r,e,t,n)=>{if(!isNaN(e.maximum)){if(e.maximum&&e.maximum<t)return r.errors.maximumError({maximum:e.maximum,length:t,value:t,pointer:n,schema:e});if(e.maximum&&e.exclusiveMaximum===!0&&e.maximum===t)return r.errors.maximumError({maximum:e.maximum,length:t,pointer:n,schema:e,value:t})}},maxItems:(r,e,t,n)=>{if(!isNaN(e.maxItems)&&e.maxItems<t.length)return r.errors.maxItemsError({maximum:e.maxItems,length:t.length,schema:e,value:t,pointer:n})},maxLength:(r,e,t,n)=>{if(isNaN(e.maxLength))return;const o=wr(t).length;if(e.maxLength<o)return r.errors.maxLengthError({maxLength:e.maxLength,length:o,pointer:n,schema:e,value:t})},maxProperties:(r,e,t,n)=>{const o=Object.keys(t).length;if(isNaN(e.maxProperties)===!1&&e.maxProperties<o)return r.errors.maxPropertiesError({maxProperties:e.maxProperties,length:o,pointer:n,schema:e,value:t})},minLength:(r,e,t,n)=>{if(isNaN(e.minLength))return;const o=wr(t).length;if(e.minLength>o)return e.minLength===1?r.errors.minLengthOneError({minLength:e.minLength,length:o,pointer:n,schema:e,value:t}):r.errors.minLengthError({minLength:e.minLength,length:o,pointer:n,schema:e,value:t})},minimum:(r,e,t,n)=>{if(!isNaN(e.minimum)){if(e.minimum>t)return r.errors.minimumError({minimum:e.minimum,length:t,pointer:n,schema:e,value:t});if(e.exclusiveMinimum===!0&&e.minimum===t)return r.errors.minimumError({minimum:e.minimum,length:t,pointer:n,schema:e,value:t})}},minItems:(r,e,t,n)=>{if(!isNaN(e.minItems)&&e.minItems>t.length)return e.minItems===1?r.errors.minItemsOneError({minItems:e.minItems,length:t.length,pointer:n,schema:e,value:t}):r.errors.minItemsError({minItems:e.minItems,length:t.length,pointer:n,schema:e,value:t})},minProperties:(r,e,t,n)=>{if(isNaN(e.minProperties))return;const o=Object.keys(t).length;if(e.minProperties>o)return r.errors.minPropertiesError({minProperties:e.minProperties,length:o,pointer:n,schema:e,value:t})},multipleOf:(r,e,t,n)=>{if(isNaN(e.multipleOf)||typeof t!="number")return;const o=jr(t),i=jr(e.multipleOf);if(o>i)return r.errors.multipleOfError({multipleOf:e.multipleOf,value:t,pointer:n,schema:e});const s=Math.pow(10,i),a=Math.round(t*s),c=Math.round(e.multipleOf*s);if(a%c/s!==0)return r.errors.multipleOfError({multipleOf:e.multipleOf,value:t,pointer:n,schema:e})},not:(r,e,t,n)=>{const o=[];return r.validate(t,e.not,n).length===0&&o.push(r.errors.notError({value:t,not:e.not,pointer:n,schema:e})),o},oneOf:zt,pattern:(r,e,t,n)=>{if(new RegExp(e.pattern,"u").test(t)===!1)return r.errors.patternError({pattern:e.pattern,description:e.patternExample||e.pattern,received:t,schema:e,value:t,pointer:n})},patternProperties:(r,e,t,n)=>{const o=e.properties||{},i=e.patternProperties;if(S(i)!=="object")return;const s=[],a=Object.keys(t),c=Object.keys(i).map(l=>({regex:new RegExp(l),patternSchema:i[l]}));return a.forEach(l=>{let f=!1;for(let u=0,p=c.length;u<p;u+=1)if(c[u].regex.test(l)){f=!0;const d=r.validate(t[l],c[u].patternSchema,`${n}/${l}`);d&&d.length>0&&s.push(...d)}o[l]||f===!1&&e.additionalProperties===!1&&s.push(r.errors.patternPropertiesError({key:l,pointer:n,schema:e,value:t,patterns:Object.keys(i).join(",")}))}),s},properties:(r,e,t,n)=>{const o=[],i=Object.keys(e.properties||{});for(let s=0;s<i.length;s+=1){const a=i[s];if(Lr(t,a)){const c=r.step(a,e,t,n),l=r.validate(t[a],c,`${n}/${a}`);o.push(...l)}}return o},propertiesRequired:(r,e,t,n)=>{const o=[],i=Object.keys(e.properties||{});for(let s=0;s<i.length;s+=1){const a=i[s];if(t[a]===void 0)o.push(r.errors.requiredPropertyError({key:a,pointer:n,schema:e,value:t}));else{const c=r.step(a,e,t,n),l=r.validate(t[a],c,`${n}/${a}`);o.push(...l)}}return o},required:(r,e,t,n)=>{if(Array.isArray(e.required)!==!1)return e.required.map(o=>{if(!Lr(t,o))return r.errors.requiredPropertyError({key:o,pointer:n,schema:e,value:t})})},requiredNotEmpty:(r,e,t,n)=>{if(Array.isArray(e.required)!==!1)return e.required.map(o=>{if(t[o]==null||t[o]==="")return r.errors.valueNotEmptyError({property:o,pointer:`${n}/${o}`,schema:e,value:t})})},uniqueItems:(r,e,t,n)=>{if((Array.isArray(t)&&e.uniqueItems)===!1)return;const o=[],i=[];return t.forEach((s,a)=>{for(let c=a+1;c<t.length;c+=1)$t(s,t[c])&&!o.includes(c)&&(i.push(r.errors.uniqueItemsError({pointer:`${n}/${c}`,duplicatePointer:`${n}/${a}`,arrayPointer:n,value:JSON.stringify(s),schema:e})),o.push(c))}),i}};function z(r){if(r===void 0)return;const e={type:S(r)};return e.type==="object"&&G(r)&&(e.properties={},Object.keys(r).forEach(t=>e.properties[t]=z(r[t]))),e.type==="array"&&Array.isArray(r)&&(r.length===1?e.items=z(r[0]):e.items=r.map(z)),e}const Yo={array:(r,e,t,n,o)=>{const i=n==null?void 0:n[e],s=S(t.items);if(s==="object")return yr(r,t.items,i,`${o}/${e}`)||r.resolveRef(t.items);if(s==="array"){if(t.items[e]===!0)return z(i);if(t.items[e]===!1)return r.errors.invalidDataError({key:e,value:i,pointer:o,schema:t});if(t.items[e])return r.resolveRef(t.items[e]);if(t.additionalItems===!1)return r.errors.additionalItemsError({key:e,value:i,pointer:o,schema:t});if(t.additionalItems===!0||t.additionalItems===void 0)return z(i);if(S(t.additionalItems)==="object")return t.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(t,null,2)} for ${JSON.stringify(n,null,2)}`)}return t.additionalItems!==!1&&i?z(i):new Error(`Invalid array schema for ${e} at ${o}`)},object:(r,e,t,n,o)=>{var i;t=yr(r,t,n,o);const s=(i=t==null?void 0:t.properties)===null||i===void 0?void 0:i[e];if(s!==void 0){if(s===!1)return r.errors.forbiddenPropertyError({property:e,value:n,pointer:o,schema:t});if(s===!0)return z(n==null?void 0:n[e]);const l=r.resolveRef(s);if(w(l))return l;if(l&&Array.isArray(l.oneOf)){const f=r.resolveOneOf(n[e],l,`${o}/${e}`);for(const u in l)u!=="oneOf"&&f[u]===void 0&&(f[u]=l[u]);return f}if(l)return l}const{patternProperties:a}=t;if(S(a)==="object"){let l;const f=Object.keys(a);for(let u=0,p=f.length;u<p;u+=1)if(l=new RegExp(f[u]),l.test(e))return a[f[u]]}const{additionalProperties:c}=t;return S(c)==="object"?t.additionalProperties:n&&(c===void 0||c===!0)?z(n[e]):r.errors.unknownPropertyError({property:e,value:n,pointer:`${o}`,schema:t})}};function ar(r,e,t,n,o="#"){var i;const s=S(n);let a=(i=t.type)!==null&&i!==void 0?i:s;if(Array.isArray(a)){if(!a.includes(s))return r.errors.typeError({value:n,pointer:o,expected:t.type,received:s,schema:t});a=s}const c=Yo[a];if(c){const l=c(r,`${e}`,t,n,o);return l===void 0?r.errors.schemaWarning({pointer:o,value:n,schema:t,key:e}):l}return new Error(`Unsupported schema type ${t.type} for key ${e}`)}function fr(r,e,t=r.rootSchema){var n;if(t.oneOf)return t.oneOf.map(i=>r.resolveRef(i));if(!((n=t.items)===null||n===void 0)&&n.oneOf)return t.items.oneOf.map(i=>r.resolveRef(i));const o=r.step(e,t,{},"#");return w(o)?o:[o]}const ei={array:(r,e,t,n)=>r.typeKeywords.array.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),object:(r,e,t,n)=>r.typeKeywords.object.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),string:(r,e,t,n)=>r.typeKeywords.string.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),integer:(r,e,t,n)=>r.typeKeywords.number.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),number:(r,e,t,n)=>r.typeKeywords.number.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),boolean:(r,e,t,n)=>r.typeKeywords.boolean.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),null:(r,e,t,n)=>r.typeKeywords.null.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n))};function ri(r,e){const t=S(r);return t==="number"&&(e==="integer"||Array.isArray(e)&&e.includes("integer"))?Number.isInteger(r)||isNaN(r)?"integer":"number":t}function ur(r,e,t=r.rootSchema,n="#"){if(t=r.resolveRef(t),S(t)==="boolean")return t?[]:[r.errors.invalidDataError({pointer:n,schema:t,value:e})];if(w(t))return[t];if(t.const!==void 0)return $t(t.const,e)?[]:[r.errors.constError({pointer:n,schema:t,value:e,expected:t.const})];const o=ri(e,t.type),i=t.type||o;return o!==i&&(!Array.isArray(i)||!i.includes(o))?[r.errors.typeError({pointer:n,schema:t,value:e,received:o,expected:i})]:r.validateType[o]==null?[r.errors.invalidTypeError({pointer:n,schema:t,value:e,receivedType:o})]:W(r.validateType[o](r,t,e,n)).filter(Pe)}const ti={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Ot,validateType:ei,validateFormat:or,errors:rr,addRemoteSchema:Xe,compileSchema:Ro,createSchemaOf:z,each:er,eachSchema:ge,getChildSchemaSelection:fr,getSchema:ir,getTemplate:sr,isValid:lr,resolveAllOf:Ze,resolveAnyOf:Qe,resolveOneOf:Ke,resolveRef:Be,step:ar,validate:ur,templateDefaultOptions:Y.templateDefaultOptions};class ci extends De{constructor(e,t={}){super(me(ti,t),e)}}const Dr="__compiled",Tr="__ref",ni="getRef",oi="getRoot",ii=/(#|\/)+$/g;function Et(r,e,t=e,n=!1){if(e===!0||e===!1||e===void 0||e[Dr]!==void 0)return e;const o={ids:{},remotes:r.remotes},i=JSON.stringify(e),s=JSON.parse(i);if(Object.defineProperty(s,Dr,{enumerable:!1,value:!0}),Object.defineProperty(s,ni,{enumerable:!1,value:q.bind(null,o,s)}),n===!1&&i.includes("$ref")===!1)return s;s!==t&&Object.defineProperty(s,"$defs",{enumerable:!0,value:Object.assign({},t.definitions,t.$defs,s.definitions,s.$defs)});const a={},c=()=>s;return ge(s,(l,f)=>{var u;if(l.$id){if(l.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(f)){const _=f.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),h=Q.get(s,_);l.$id=(u=h.$id)!==null&&u!==void 0?u:l.$id}o.ids[l.$id.replace(ii,"")]=f}f=`#${f}`.replace(/##+/,"#");const p=f.replace(/\/[^/]+$/,""),d=f.replace(/\/[^/]+\/[^/]+$/,""),m=a[p]||a[d],v=Ae(m,l.$id);a[f]=v,o.ids[v]==null&&(o.ids[v]=f),l.$ref&&!l[Tr]&&(Object.defineProperty(l,Tr,{enumerable:!1,value:Ae(v,l.$ref)}),Object.defineProperty(l,oi,{enumerable:!1,value:c}))}),s}const vt=se(M({},Ot),{contains:(r,e,t,n)=>{if(e.contains===!1)return r.errors.containsArrayError({pointer:n,value:t,schema:e});if(e.contains===!0)return Array.isArray(t)&&t.length===0?r.errors.containsAnyError({pointer:n,value:t,schema:e}):void 0;if(S(e.contains)==="object"){for(let o=0;o<t.length;o+=1)if(r.isValid(t[o],e.contains))return;return r.errors.containsError({pointer:n,schema:e,value:t})}},exclusiveMaximum:(r,e,t,n)=>{if(!isNaN(e.exclusiveMaximum)&&e.exclusiveMaximum<=t)return r.errors.maximumError({maximum:e.exclusiveMaximum,length:t,pointer:n,schema:e,value:t})},exclusiveMinimum:(r,e,t,n)=>{if(!isNaN(e.exclusiveMinimum)&&e.exclusiveMinimum>=t)return r.errors.minimumError({minimum:e.exclusiveMinimum,length:t,pointer:n,schema:e,value:t})},if:Fn,maximum:(r,e,t,n)=>{if(!isNaN(e.maximum)&&e.maximum&&e.maximum<t)return r.errors.maximumError({maximum:e.maximum,length:t,pointer:n,schema:e,value:t})},minimum:(r,e,t,n)=>{if(!isNaN(e.minimum)&&e.minimum>t)return r.errors.minimumError({minimum:e.minimum,length:t,pointer:n,schema:e,value:t})},patternProperties:(r,e,t,n)=>{const o=e.properties||{},i=e.patternProperties;if(S(i)!=="object")return;const s=[],a=Object.keys(t),c=Object.keys(i).map(l=>({regex:new RegExp(l),patternSchema:i[l]}));return a.forEach(l=>{let f=!1;for(let u=0,p=c.length;u<p;u+=1)if(c[u].regex.test(l)){if(f=!0,c[u].patternSchema===!1){s.push(r.errors.patternPropertiesError({key:l,pointer:n,patterns:Object.keys(i).join(","),schema:e,value:t}));return}const d=r.validate(t[l],c[u].patternSchema,`${n}/${l}`);d&&d.length>0&&s.push(...d)}o[l]||f===!1&&e.additionalProperties===!1&&s.push(r.errors.patternPropertiesError({key:l,pointer:n,patterns:Object.keys(i).join(","),schema:e,value:t}))}),s},propertyNames:(r,e,t,n)=>{if(e.propertyNames===!1)return Object.keys(t).length===0?void 0:r.errors.invalidPropertyNameError({property:Object.keys(t),pointer:n,value:t,schema:e});if(e.propertyNames===!0||S(e.propertyNames)!=="object")return;const o=[],i=Object.keys(t),s=se(M({},e.propertyNames),{type:"string"});return i.forEach(a=>{const c=r.validate(a,s,`${n}/${a}`);c.length>0&&o.push(r.errors.invalidPropertyNameError({property:a,pointer:n,validationError:c[0],value:t[a],schema:e}))}),o}}),Pt={array:(r,e,t,n)=>r.typeKeywords.array.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),object:(r,e,t,n)=>r.typeKeywords.object.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),string:(r,e,t,n)=>r.typeKeywords.string.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),integer:(r,e,t,n)=>r.typeKeywords.number.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),number:(r,e,t,n)=>r.typeKeywords.number.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),boolean:(r,e,t,n)=>r.typeKeywords.boolean.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n)),null:(r,e,t,n)=>r.typeKeywords.null.filter(o=>e&&e[o]!=null).map(o=>r.validateKeyword[o](r,e,t,n))},si={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["enum","exclusiveMaximum","exclusiveMinimum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf","if"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:vt,validateType:Pt,validateFormat:or,errors:rr,addRemoteSchema:Xe,compileSchema:Et,createSchemaOf:z,each:er,eachSchema:ge,getChildSchemaSelection:fr,getSchema:ir,getTemplate:sr,isValid:lr,resolveAllOf:Ze,resolveAnyOf:Qe,resolveOneOf:Ke,resolveRef:Be,step:ar,validate:ur,templateDefaultOptions:Y.templateDefaultOptions};class pi extends De{constructor(e,t={}){super(me(si,t),e)}}const _t={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:vt,validateType:Pt,validateFormat:or,errors:rr,addRemoteSchema:Xe,compileSchema:Et,createSchemaOf:z,each:er,eachSchema:ge,getChildSchemaSelection:fr,getSchema:ir,getTemplate:sr,isValid:lr,resolveAllOf:Ze,resolveAnyOf:Qe,resolveOneOf:Ke,resolveRef:Be,step:ar,validate:ur,templateDefaultOptions:Y.templateDefaultOptions};class di extends De{constructor(e,t={}){super(me(_t,t),e)}}const li=se(M({},_t),{resolveOneOf:we,resolveRef:zn});class mi extends De{constructor(e,t={}){super(me(li,t),e)}}const yi={strings:Cr};export{De as Draft,ci as Draft04,pi as Draft06,di as Draft07,mi as JsonEditor,yi as config,O as createCustomError,Ut as createError,ti as draft04Config,si as draft06Config,_t as draft07Config,li as draftJsonEditorConfig,S as getTypeOf,Jn as isDynamicSchema,w as isJsonError,D as mergeSchema,yr as reduceSchema,Tt as render,Ze as resolveAllOf,Fe as resolveDynamicSchema,Ke as resolveOneOf,we as resolveOneOfFuzzy,Be as resolveRef,zn as resolveRefMerge,Y as settings,ui as validateAsync};
