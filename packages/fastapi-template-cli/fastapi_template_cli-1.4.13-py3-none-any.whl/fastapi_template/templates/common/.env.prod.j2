# Environment Configuration
ENVIRONMENT=production
DEBUG=False

# General
APP_IMAGE=mydockerhubuser/fastapi-app:latest
DOMAIN=yourdomain.com
LETSENCRYPT_EMAIL=you@example.com

# API Configuration
{% if project_type == "api" %}
API_V1_STR=/api/v1
{% endif %}
PROJECT_NAME={{ project_name }}
{% if description %}
PROJECT_DESCRIPTION={{ description }}
{% endif %}

# Security
SECRET_KEY=your-secret-key-here-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

{% if orm_type == "sqlalchemy" %}
# Database
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgrespassword
POSTGRES_DB={{ project_name|replace("-", "_") }}
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}
SYNC_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

{% elif orm_type == "beanie" %}
# MongoDB Configuration
MONGO_USER=root
MONGO_PASSWORD=secret
MONGO_DB={{ project_name|replace("-", "_") }}
MONGODB_URL=mongodb://${MONGO_USER}:${MONGO_PASSWORD}@mongo:27017/${MONGO_DB}?authSource=admin
{% endif %}

# Email Configuration (for user registration)
SMTP_TLS=True
SMTP_PORT=587
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_EMAIL=noreply@example.com
EMAILS_FROM_NAME={{ project_name }}

{% if project_type == "fullstack" %}
# Redis (Celery broker + backend)
REDIS_URL=redis://:redis_strong_password@redis:6379
REDIS_PASSWORD=redis_strong_password
CELERY_BROKER_URL=redis://:redis_strong_password@redis:6379/0
CELERY_RESULT_BACKEND=redis://:redis_strong_password@redis:6379/0
{% endif %}

# Web Server (Web WEB_CONCURRENCY based on CPU cores = 2 x NUM OF CORES + 1)
# Adjust according to your server resources (e.g. If you have 2 CPU core, set to 5)
WEB_CONCURRENCY=5
WEB_TIMEOUT=120
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=100

# Traefik Dashboard (generate with: htpasswd -nb admin MySecret123)
TRAEFIK_DASHBOARD_CREDENTIALS="admin:$2y$05$oBRNwn21n4kYB955UjK1feIfo/u7NSxGF3WioKOhrHzQBizx8xqxm"

# CORS
BACKEND_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
