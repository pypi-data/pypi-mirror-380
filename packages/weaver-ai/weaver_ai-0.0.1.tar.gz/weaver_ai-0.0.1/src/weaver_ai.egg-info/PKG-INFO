Metadata-Version: 2.4
Name: weaver-ai
Version: 0.0.1
Summary: A native framework for building collaborative AI.
Author: REN Yifan
License-Expression: Apache-2.0
Project-URL: Homepage, https://github.com/fanrenaz/Weaver
Project-URL: Documentation, https://github.com/fanrenaz/Weaver#readme
Project-URL: Source, https://github.com/fanrenaz/Weaver
Project-URL: Issues, https://github.com/fanrenaz/Weaver/issues
Keywords: agents,ai,collaboration,mediation,langchain,framework
Classifier: Development Status :: 2 - Pre-Alpha
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries
Requires-Python: >=3.12
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: langchain
Requires-Dist: langgraph
Requires-Dist: langchain-openai
Requires-Dist: pydantic
Requires-Dist: python-dotenv
Requires-Dist: langchain-community
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: ruff; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: ipykernel; extra == "dev"
Requires-Dist: mkdocs; extra == "dev"
Requires-Dist: mkdocs-material; extra == "dev"
Requires-Dist: mkdocstrings[python]; extra == "dev"
Requires-Dist: mkdocs-gen-files; extra == "dev"
Requires-Dist: mkdocs-literate-nav; extra == "dev"
Dynamic: license-file

<div align="center">

# Weaver

_A native framework for building collaborative / mediation-oriented AI agents_

[![CI](https://github.com/fanrenaz/Weaver/actions/workflows/ci.yml/badge.svg)](https://github.com/fanrenaz/Weaver/actions/workflows/ci.yml)
[![Docs Deploy](https://github.com/fanrenaz/Weaver/actions/workflows/pages.yml/badge.svg)](https://github.com/fanrenaz/Weaver/actions/workflows/pages.yml)
[![PyPI](https://img.shields.io/pypi/v/weaver-ai.svg)](https://pypi.org/project/weaver-ai/)
[![Python Versions](https://img.shields.io/pypi/pyversions/weaver-ai.svg)](https://pypi.org/project/weaver-ai/)
[![License](https://img.shields.io/badge/license-Apache%202.0-lightgrey)](LICENSE)
[![Lint](https://img.shields.io/badge/lint-ruff-informational)](https://github.com/astral-sh/ruff)
[![Code Style](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![Coverage](https://img.shields.io/badge/coverage-TBD-lightgrey)](./)
[![Issues](https://img.shields.io/github/issues/fanrenaz/Weaver)](https://github.com/fanrenaz/Weaver/issues)
[![Last Commit](https://img.shields.io/github/last-commit/fanrenaz/Weaver)](https://github.com/fanrenaz/Weaver/commits/main)

</div>

Weaver è®©ä½ çš„æ™ºèƒ½ä½“ä»â€œå›ç­”å·¥å…·â€å‡çº§ä¸ºâ€œåä½œè°å’Œè€…â€ï¼šå®ƒé€šè¿‡æ˜¾å¼çš„ Policyã€ç»“æ„åŒ–è®°å¿†ä¸å¯ç»„åˆçš„å¯¹è¯æ‰§è¡Œå›¾ï¼Œå¼•å¯¼å¤šä¸ªå‚ä¸è€…é€æ­¥èµ°å‘å…±è¯†ï¼Œè€Œä¸æ˜¯ç›´æ¥æ›¿ä»–ä»¬ç»™ç­”æ¡ˆã€‚

---

## ğŸ” ä¸ºä»€ä¹ˆéœ€è¦ Weaver

å½“ AI è¿›å…¥å¤šäººåä½œï¼ˆå›¢é˜Ÿå¯¹é½ã€è´¢åŠ¡è®¨è®ºã€å†²çªè°ƒè§£ç­‰ï¼‰åœºæ™¯ï¼Œä¼ ç»Ÿâ€œå•è½®é—®ç­” + æŒ‡ä»¤å¼ Promptâ€èŒƒå¼ä¼šé‡åˆ°ï¼š

| å…¸å‹ç—›ç‚¹ | è¡¨ç° | Weaver çš„è§£å†³æ–¹å‘ |
| -------- | ---- | ----------------- |
| ä¿¡æ¯å…¬å¼€ / éšç§äºŒå…ƒåŒ– | è¦ä¹ˆæ‰€æœ‰æ¶ˆæ¯å¹¿æ’­ï¼Œè¦ä¹ˆå®Œå…¨å‰²è£‚ | è§„åˆ’å¤šè§†è§’è®°å¿† (public / scoped / derived) |
| Prompt éš¾ç»´æŠ¤ | ç³»ç»Ÿæç¤ºä¸æ–­æ‹¼è´´æ‰©å±• | `Policy` æŠ½è±¡è§’è‰² + åŸåˆ™ | 
| åä½œæµç¨‹ä¸å¯è§ | ReAct/Tool é“¾æ¡éšäºè°ƒç”¨ | LangGraph å¯è§†çŠ¶æ€å›¾ | 
| æµ‹è¯•å›°éš¾ | éš¾ä»¥å¯¹â€œè¯­æ°”/åŸåˆ™ä¸€è‡´æ€§â€åšéªŒè¯ | Policy å¯åºåˆ—åŒ– + Prompt formatter å¯æµ‹è¯• |
---

## ğŸ—ºï¸ è·¯çº¿å›¾ï¼ˆæ‘˜å½•ï¼‰

* Policy é©±åŠ¨ï¼š`MediationPolicy` ç¤ºä¾‹å±•ç¤ºå¦‚ä½•å°†â€œè§’è‰² + åŸåˆ™â€è½¬ä¸ºç³»ç»Ÿæç¤º
* ç»Ÿä¸€è¿è¡Œæ—¶ï¼š`WeaverRuntime` è´Ÿè´£ç»„è£… Policyã€è®°å¿†ã€æ‰§è¡Œå›¾ï¼ˆLangGraphï¼‰
* å·¥å…·ç¼–æ’ï¼šç¤ºä¾‹å·¥å…· `reply_privately` / `post_to_shared` å±•ç¤ºç§åŸŸä¸å…±äº«è¾“å‡ºæ¨¡å¼
* å¯æ›¿æ¢ LLMï¼šæœªé…ç½®çœŸå® API æ—¶å¯ä½¿ç”¨ Fake / æœ¬åœ°æ¨¡å‹ï¼ˆå‚è§æµ‹è¯•ï¼‰
* å¯æµ‹è¯•æ€§ï¼šPolicyã€Graphã€å·¥å…·å‡æœ‰ç‹¬ç«‹å•æµ‹
* æ¸è¿›å¼è®°å¿†åè°ƒï¼š`MemoryCoordinator` è´Ÿè´£ä¸ºæ¯æ¬¡è°ƒç”¨å‡†å¤‡ä¸Šä¸‹æ–‡ï¼ˆæœªæ¥æ‰©å±•ç²’åº¦ / è¿‡æ»¤ç­–ç•¥ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1. å®‰è£…ï¼ˆæœ¬åœ°å¼€å‘ï¼‰

```bash
git clone https://github.com/your-org/weaver.git
python -m venv .venv && source .venv/bin/activate
pip install -e .[dev]
``` 

### 2. æœ€å°ç¤ºä¾‹

```python
from weaver.runtime.policy import MediationPolicy
from weaver.runtime.runtime import WeaverRuntime
from weaver.models.events import UserMessageEvent

runtime = WeaverRuntime(MediationPolicy.default())
result = runtime.invoke(
    space_id="demo_space",
    event=UserMessageEvent(user_id="alice", content="æˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¢„ç®—è®¡åˆ’")
)
print(result["response"])  # AI å›å¤æ–‡æœ¬
```

### 3. è¿è¡Œ CLI ç¤ºä¾‹

```bash
python examples/cli_demo/financial_counseling.py
```

### 4. ï¼ˆå¯é€‰ï¼‰çœŸå® LLM æ¥å…¥

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env`ï¼š

```
OPENAI_API_KEY=sk-xxx
```

ç„¶åè¿è¡Œï¼š

```bash
python examples/hello_graph.py
```

---

## ğŸ§  æ ¸å¿ƒæŠ½è±¡

| æŠ½è±¡ | ä½œç”¨ | ç°çŠ¶ | æœªæ¥æ–¹å‘ |
| ---- | ---- | ---- | -------- |
| Policy | ç”Ÿæˆç³»ç»Ÿæç¤ºï¼ˆè§’è‰² + åŸåˆ™ï¼‰ | `MediationPolicy` | ç­–ç•¥ç”Ÿæ€ / åŠ¨æ€æƒé‡ |
| WeaverRuntime | ç»Ÿä¸€å…¥å£ï¼šå‡†å¤‡ä¸Šä¸‹æ–‡ -> æ‰§è¡Œå›¾ -> è®°å¿†å›å†™ | å·²å®ç° | æ’ä»¶åŒ– Pipeline Hook |
| MemoryCoordinator | èšåˆ / æä¾›å†å²æ¶ˆæ¯ | ç®€å• in-memory | å¤šå±‚è§†è§’ + éšç§è¿‡æ»¤ |
| WeaverGraph | LangGraph ä¸Šçš„å¯¹è¯æ‰§è¡Œ (ReAct Loop) | åŸºç¡€èŠ‚ç‚¹ | å¯è§†åŒ– UI / èŠ‚ç‚¹å¸‚åœº |
| Tools | è¡Œä¸ºèƒ½åŠ›ï¼ˆç§èŠ / å…¬å…±å¹¿æ’­ï¼‰ | ä¸¤ä¸ªç¤ºä¾‹ | æƒé™éš”ç¦» / ç­–ç•¥ç»‘å®š |

---

## ğŸ§ª æµ‹è¯•

é¡¹ç›®è‡ªå¸¦åŸºç¡€å•æµ‹ï¼š

```bash
pytest -q
```

é‡ç‚¹ç¤ºä¾‹ï¼š
* `tests/runtime/test_policy.py` éªŒè¯ç³»ç»Ÿæç¤ºæ ¼å¼
* `tests/core/test_graph.py` ä½¿ç”¨ Fake LLM æ£€éªŒ graph è¡Œä¸º
* `tests/building_blocks/test_tools.py` å·¥å…·å›æ˜¾é€»è¾‘

---

## ï¿½ï¸ è·¯çº¿å›¾ï¼ˆæ‘˜å½•ï¼‰

çŸ­æœŸ (0.x)ï¼š
* å¤šè§†è§’è®°å¿†ï¼šç§åŸŸ / å…¬åŸŸ / ä¸»é¢˜æŠ•å½±
* Policy æ’ä»¶æ³¨å†Œä¸å¤åˆ
* FastAPI / WebSocket å‚è€ƒæœåŠ¡

ä¸­æœŸ (1.x)ï¼š
* è°ƒè§£æ¨¡å¼æ¨¡æ¿åº“ï¼ˆå›¢é˜Ÿå†²çª / é¢„ç®—è§„åˆ’ / å†³ç­–ååŒï¼‰
* è®°å¿†è£å‰ªä¸è¯­ä¹‰å‹ç¼©
* è¯„ä¼°æŒ‡æ ‡ï¼ˆä»‹å…¥èŠ‚å¥ã€æƒ…ç»ªç¼“å†²ã€å…±è¯†è´¨é‡ï¼‰

é•¿æœŸï¼š
* è®¡ç®—è°ƒè§£ï¼ˆComputational Mediationï¼‰ç ”ç©¶æ¥å£
* ç­–ç•¥å­¦ä¹ ä¸è‡ªé€‚åº”å¾®è°ƒ

å®Œæ•´èƒŒæ™¯ã€ç†å¿µåŠè®¾è®¡ï¼šå‚è§ `docs/whitepaper_v1.md` ä¸ `docs/design/whitepaper_v1.md`ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork & åˆ›å»ºåˆ†æ”¯ï¼š`feat/xxx` / `fix/yyy`
2. ç¡®ä¿æœ¬åœ° `pytest` å…¨ç»¿ï¼Œå¿…è¦æ—¶è¡¥å……æµ‹è¯•
3. éµå¾ªä»£ç é£æ ¼ï¼š
   ```bash
   ruff check . && ruff format .
   ```
4. æäº¤ PR æ—¶æè¿°åŠ¨æœº + å˜æ›´å½±å“

æ¬¢è¿æäº¤ï¼š
* æ–°ç­–ç•¥ (Policy)
* æ–°å·¥å…· (Tool) ç¤ºä¾‹
* è®°å¿†è¿‡æ»¤ / å‹ç¼©ç®—æ³•å®éªŒ

---

## ğŸ“„ è®¸å¯

Apache 2.0ï¼Œè¯¦è§ `LICENSE`ã€‚

---

## ğŸ’¬ FAQï¼ˆç®€è¦ï¼‰

**Q: è¿™æ˜¯ LangChain çš„æ›¿ä»£å—ï¼Ÿ** ä¸æ˜¯ã€‚Weaver èšç„¦â€œç¤¾ä¼šåä½œç»“æ„â€ï¼Œä¸ LangChain / LangGraph ååŒå·¥ä½œã€‚

**Q: æ”¯æŒå¤šæ¨¡å‹å—ï¼Ÿ** è¿è¡Œæ—¶åªä¾èµ–æŠ½è±¡æ¶ˆæ¯æ¥å£ï¼Œå¯æ³¨å…¥ä»»æ„å…¼å®¹ LLMï¼ˆå« Fake for testï¼‰ã€‚

**Q: ç”Ÿäº§å¯ç”¨å—ï¼Ÿ** å½“å‰ä¸ºæ—©æœŸå®éªŒ (0.0.x)ã€‚æ¥å£å¯èƒ½å˜åŠ¨ï¼Œè¯·å…³æ³¨ Roadmapã€‚

---

Â© 2025 Weaver Project. Amplifying human collaborative intelligence.
