{"parents": [], "prev": {"link": "../diffs/", "title": "YANG Diffs"}, "next": null, "title": "Mapping SNMP OIDs to YANG XPaths", "meta": {}, "body": "<section id=\"mapping-snmp-oids-to-yang-xpaths\">\n<h1>Mapping SNMP OIDs to YANG XPaths<a class=\"headerlink\" href=\"#mapping-snmp-oids-to-yang-xpaths\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p>Network telemetry is traditionally accessed by management tooling that\nconsumes SNMP MIBs.  YANG models are definitions of network management\nAPIs that can also be consumed by tooling to achieve the same telemetry\ngoals.  Many network management systems based off of SNMP MIBS are\ncurrently in place.  In order to smoothly transition from a MIB based\nmanagement system to a YANG model-based system requires knowledge of\nwhere the two intersect.  This has proven to be a tedious endeavor\nwhich involves manually mapping individual MIB OIDs to its YANG model\nequivalency.  This YANG Suite plugin will provide a layer between the\nMIB and YANG data that presents mapping to the user.</p>\n<section id=\"before-using-the-plugin\">\n<h2>Before Using the Plugin<a class=\"headerlink\" href=\"#before-using-the-plugin\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<ol class=\"arabic simple\">\n<li><p>Set up device to accept SNMP requests from the yangsuite-coverage plugin\n(please refer to your device configuration manual for details). Two ways to allow\nyangsuite to communicate with device/snmp-server:</p></li>\n</ol>\n<blockquote>\n<div><ol class=\"arabic simple\">\n<li><p>Add a community string with \u201cro\u201d option (read-only mode, most secure):</p></li>\n</ol>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>yangsuite-coverage does not need write access.</p></li>\n</ul>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"2\">\n<li><p>Add a new user with password:</p></li>\n</ol>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>Create a new SNMP user group with security level \u201cv3\u201d.</p></li>\n<li><p>Create a new user:</p>\n<ol class=\"arabic simple\">\n<li><p>Username must be the same as the device\u2019s ssh username.</p></li>\n<li><p>Make sure SNMP\u2019s user authentication method is \u201cMD5\u201d.</p></li>\n</ol>\n</li>\n<li><p>Add user to the newly created SNMP user group with security level \u201cv3\u201d.</p></li>\n</ul>\n</div></blockquote>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"2\">\n<li><p>Set up device to accept incoming NETCONF requests from yangsuite-coverage plugin.</p></li>\n</ol>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>Note: please use default ports for NETCONF communication.</p></li>\n</ul>\n</div></blockquote>\n</section>\n<section id=\"selecting-device-and-specifying-access\">\n<h2>Selecting Device and Specifying Access<a class=\"headerlink\" href=\"#selecting-device-and-specifying-access\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Before using other functionalities in the plugin, device and device access mode must be selected. Please follow these steps:</p>\n<ol class=\"arabic simple\">\n<li><p>Select device you have set up before using the plugin</p></li>\n<li><p>Select device access mode from two options:</p></li>\n</ol>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>Community:</p>\n<ul>\n<li><p>Choose this option if you set up community string with \u201cro\u201d mode in the device.</p></li>\n<li><p>Fill in the text input box</p></li>\n</ul>\n</li>\n<li><p>SNMPv3 Password:</p>\n<ul>\n<li><p>Choose this option if you set up a user with a \u201cmd5\u201d password in the device.</p></li>\n<li><p>Fill in the text input box</p></li>\n</ul>\n</li>\n</ul>\n</div></blockquote>\n<img alt=\"Select a device.\" src=\"../_images/selectdevice.png\" />\n</section>\n<section id=\"match-oids-to-xpaths\">\n<h2>Match OIDs to XPaths<a class=\"headerlink\" href=\"#match-oids-to-xpaths\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>This functionality will acquire all the existing OIDs on the device, attempt to match OIDs to one XPath\nthat exists in the selected YANG module. If an OID cannot be matched to an XPath, the YANG path field under\nthe OID field will be blank. Match OIDs to XPaths is designed to save user time from manually doing the mapping\nwork. To use the functionality, click on \u201cMatch OIDs to XPaths\u201d and follow these steps:</p>\n<ol class=\"arabic simple\">\n<li><p>Select the \u201cMatch OIDs to XPaths\u201d tab.</p></li>\n<li><p>Please provide inputs for all the required fields (labeled by red boxes):</p></li>\n</ol>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>Choose a YANG set from \u201cSelect a YANG set\u201d dropdown.</p></li>\n<li><p>Choose a YANG module from the selected YANG set using the \u201cSelect YANG module\u201d dropdown.</p></li>\n<li><p>Choose OID to start matching from</p>\n<ul>\n<li><p>Please find a subsection of the MIB tree that you would like to focus your workflow on.</p></li>\n<li><p>By choosing a starting OID in the MIB tree, the plugin will allow you to match and map all the starting OID\u2019s children. Note: you can specify multiple starting OIDs using a comma as a separator in the text input.</p></li>\n<li><p>You can find a starting OID using MIB browsers available online or use MIB Browser (<a class=\"reference external\" href=\"https://www.ireasoning.com/mibbrowser.shtml\">https://www.ireasoning.com/mibbrowser.shtml</a>).</p></li>\n<li><p>Choosing a starting OID closer to the indexes will allow you to match OIDs to XPaths faster.</p></li>\n</ul>\n</li>\n</ul>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"3\">\n<li><p>Review and fill in these non-required fields if needed (labeled by blue boxes):</p></li>\n</ol>\n<blockquote>\n<div><ul class=\"simple\">\n<li><p>Choose a file from \u201cSelect a mapping file\u201d dropdown if you wish to append new OIDs to XPath matches\nto that selected mapping file. Plugin stores OIDs to XPath matches in a new CSV file by default.</p></li>\n<li><p>Click on \u201cForce SNMP Walk\u201d if you wish to get a fresh list of OIDs from the device for matching.\nPlugin uses a cached list of OIDs from the last \u201cMatch OIDs to XPaths\u201d run(s) by default.</p></li>\n</ul>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"4\">\n<li><p>Click on \u201cMatch\u201d button, and wait for the list of OIDs and XPaths to populate below\nthe form.</p></li>\n</ol>\n<img alt=\"Match OIDs to XPaths.\" src=\"../_images/matchoidstoxpaths.png\" />\n</section>\n<section id=\"run-oid\">\n<h2>Run OID<a class=\"headerlink\" href=\"#run-oid\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>This functionality is to query the device for the resource using the specified OI- If the OID has children,\nthe children of the OID will be queried for values and all the values will be displayed in a dialog box.\nSteps outlined below will be needed to run OID and get results from device:</p>\n<ul class=\"simple\">\n<li><p>Select the \u201cRun OID\u201d tab.</p></li>\n<li><p>Enter an OID in the \u201cEnter OID\u201d field.</p>\n<ul>\n<li><p>Important: please make sure OID is entered in correctly or value(s) will not be displayed.</p></li>\n</ul>\n</li>\n<li><p>Click Run OID and wait for dialog box with results to come up.</p></li>\n</ul>\n<img alt=\"Run OID\" src=\"../_images/runoid.png\" />\n</section>\n<section id=\"import-mappings\">\n<h2>Import Mappings<a class=\"headerlink\" href=\"#import-mappings\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>This feature can be used to import existing mappings in a .csv file to help you quickly bring up\nmappings and start working again. To import mappings, follow the steps below:</p>\n<ul class=\"simple\">\n<li><p>Select the \u201cImport/Export Mappings\u201d tab.</p></li>\n<li><p>Choose \u201cImport Mappings\u201d button.</p></li>\n<li><p>Select the desired .csv file, click \u201cLoad\u201d and wait for the mappings to populate.</p></li>\n<li><p>Go to \u201cShow Mappings\u201d tab.</p></li>\n<li><p>Select a mapping file and click on \u201cShow Mappings\u201d to load the mappings in the CSV file.</p></li>\n</ul>\n<img alt=\"Import Mappings\" src=\"../_images/importmappings.png\" />\n</section>\n<section id=\"show-mappings\">\n<h2>Show Mappings<a class=\"headerlink\" href=\"#show-mappings\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>This functionality will quickly bring up mappings saved in a .csv file. To show mappings, follow\nthe steps below:</p>\n<ul class=\"simple\">\n<li><p>Select the \u201cShow Mappings\u201d tab.</p></li>\n<li><p>Select a file from \u201cSelect mapping file\u201d dropdown.</p></li>\n<li><p>Select the desired file, click \u201cShow Mappings\u201d and wait for the mappings to populate.</p></li>\n</ul>\n<img alt=\"Show Mappings\" src=\"../_images/showmappings.png\" />\n</section>\n<section id=\"export-mappings\">\n<h2>Export Mappings<a class=\"headerlink\" href=\"#export-mappings\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>This functionality will allow you to get a copy of the mapped file saved in the\nYANG Suite data directory. Please follow the steps below:</p>\n<ul class=\"simple\">\n<li><p>Select the \u201cImport/Export Mappings\u201d tab.</p></li>\n<li><p>Select a file from \u201cSelect a mapping file\u201d dropdown.</p></li>\n<li><p>Choose \u201cExport Mappings\u201d button.</p></li>\n<li><p>A copy of the mapped .csv file following the format will be exported to your\nbrowser\u2019s configured downloads directory.</p></li>\n</ul>\n<img alt=\"Export Mappings\" src=\"../_images/exportmappings.png\" />\n</section>\n<section id=\"results\">\n<h2>Results<a class=\"headerlink\" href=\"#results\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>When the mapping process is done, the mappings (Readable OID and XPaths) will populate on the page. The populated\nmappings are based on the live device as well as the mappings from the plugin\u2019s local repository of mapppings. The\nOIDs that do not have a YANG XPath matched to them are not \u201cmapped\u201d by the results gathered from the device or from\nprevious manual mapping work, therefore the OIDs need manual mapping.</p>\n<p>Note: mapped files are saved in &lt;YANG Suite data directory&gt;/users/&lt;username&gt;/mibyang_mappings.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["diffs", "YANG Diffs", "P", "previous"]], "sourcename": "snmp.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Mapping SNMP OIDs to YANG XPaths</a><ul>\n<li><a class=\"reference internal\" href=\"#before-using-the-plugin\">Before Using the Plugin</a></li>\n<li><a class=\"reference internal\" href=\"#selecting-device-and-specifying-access\">Selecting Device and Specifying Access</a></li>\n<li><a class=\"reference internal\" href=\"#match-oids-to-xpaths\">Match OIDs to XPaths</a></li>\n<li><a class=\"reference internal\" href=\"#run-oid\">Run OID</a></li>\n<li><a class=\"reference internal\" href=\"#import-mappings\">Import Mappings</a></li>\n<li><a class=\"reference internal\" href=\"#show-mappings\">Show Mappings</a></li>\n<li><a class=\"reference internal\" href=\"#export-mappings\">Export Mappings</a></li>\n<li><a class=\"reference internal\" href=\"#results\">Results</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "snmp", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}