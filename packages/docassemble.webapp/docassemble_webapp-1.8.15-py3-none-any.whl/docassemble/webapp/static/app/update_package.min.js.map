{"version":3,"sources":["docassemble_webapp/docassemble/webapp/static/app/update_package.js"],"sourcesContent":["var default_branch;\nfunction get_branches() {\n  var elem = $(\"#gitbranch\");\n  elem.empty();\n  var opt = $(\"<option></option>\");\n  opt.attr(\"value\", \"\").text(\"Not applicable\");\n  elem.append(opt);\n  var github_url = $(\"#giturl\").val();\n  if (!github_url) {\n    return;\n  }\n  $.get(daGetGitBranches, { url: github_url }, \"json\").done(function (data) {\n    //console.log(data);\n    if (data.success) {\n      var n = data.result.length;\n      if (n > 0) {\n        var default_to_use = default_branch;\n        var to_try = [default_branch, daGithubBranch, \"master\", \"main\"];\n        outer: for (var j = 0; j < 4; j++) {\n          for (var i = 0; i < n; i++) {\n            if (data.result[i].name == to_try[j]) {\n              default_to_use = to_try[j];\n              break outer;\n            }\n          }\n        }\n        elem.empty();\n        for (var i = 0; i < n; i++) {\n          opt = $(\"<option></option>\");\n          opt.attr(\"value\", data.result[i].name).text(data.result[i].name);\n          if (data.result[i].name == default_to_use) {\n            opt.prop(\"selected\", true);\n          }\n          $(elem).append(opt);\n        }\n      }\n    }\n  });\n}\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  $(document).ready(function () {\n    default_branch = daDefaultBranch;\n    get_branches();\n    $(\"#giturl\").on(\"change\", get_branches);\n    $(\"#zipfile\").on(\"change\", function () {\n      var fileName = $(this).val();\n      fileName = fileName.replace(/.*\\\\/, \"\");\n      fileName = fileName.replace(/.*\\//, \"\");\n      $(this).next(\".custom-file-label\").html(fileName);\n    });\n  });\n});\n"],"names":["default_branch","get_branches","elem","$","empty","opt","attr","text","append","github_url","val","get","daGetGitBranches","url","done","data","success","n","result","length","default_to_use","to_try","daGithubBranch","outer","j","i","name","prop","document","addEventListener","ready","daDefaultBranch","on","fileName","this","replace","next","html"],"mappings":"AAAA,IAAIA,eACJ,SAASC,eACP,IAAIC,KAAOC,EAAE,YAAY,EACzBD,KAAKE,MAAM,EACX,IAAIC,IAAMF,EAAE,mBAAmB,EAC/BE,IAAIC,KAAK,QAAS,EAAE,EAAEC,KAAK,gBAAgB,EAC3CL,KAAKM,OAAOH,GAAG,EACf,IAAII,WAAaN,EAAE,SAAS,EAAEO,IAAI,EAClC,GAAI,CAACD,WAAY,CACf,MACF,CACAN,EAAEQ,IAAIC,iBAAkB,CAAEC,IAAKJ,UAAW,EAAG,MAAM,EAAEK,KAAK,SAAUC,MAElE,GAAIA,KAAKC,QAAS,CAChB,IAAIC,EAAIF,KAAKG,OAAOC,OACpB,GAAIF,EAAI,EAAG,CACT,IAAIG,eAAiBpB,eACrB,IAAIqB,OAAS,CAACrB,eAAgBsB,eAAgB,SAAU,QACxDC,MAAO,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,CAAC,GAAI,CACjC,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAGQ,CAAC,GAAI,CAC1B,GAAIV,KAAKG,OAAOO,GAAGC,MAAQL,OAAOG,GAAI,CACpCJ,eAAiBC,OAAOG,GACxB,MAAMD,KACR,CACF,CACF,CACArB,KAAKE,MAAM,EACX,IAAK,IAAIqB,EAAI,EAAGA,EAAIR,EAAGQ,CAAC,GAAI,CAC1BpB,IAAMF,EAAE,mBAAmB,EAC3BE,IAAIC,KAAK,QAASS,KAAKG,OAAOO,GAAGC,IAAI,EAAEnB,KAAKQ,KAAKG,OAAOO,GAAGC,IAAI,EAC/D,GAAIX,KAAKG,OAAOO,GAAGC,MAAQN,eAAgB,CACzCf,IAAIsB,KAAK,WAAY,IAAI,CAC3B,CACAxB,EAAED,IAAI,EAAEM,OAAOH,GAAG,CACpB,CACF,CACF,CACF,CAAC,CACH,CACAuB,SAASC,iBAAiB,mBAAoB,WAC5C1B,EAAEyB,QAAQ,EAAEE,MAAM,WAChB9B,eAAiB+B,gBACjB9B,aAAa,EACbE,EAAE,SAAS,EAAE6B,GAAG,SAAU/B,YAAY,EACtCE,EAAE,UAAU,EAAE6B,GAAG,SAAU,WACzB,IAAIC,SAAW9B,EAAE+B,IAAI,EAAExB,IAAI,EAC3BuB,SAAWA,SAASE,QAAQ,OAAQ,EAAE,EACtCF,SAAWA,SAASE,QAAQ,OAAQ,EAAE,EACtChC,EAAE+B,IAAI,EAAEE,KAAK,oBAAoB,EAAEC,KAAKJ,QAAQ,CAClD,CAAC,CACH,CAAC,CACH,CAAC"}