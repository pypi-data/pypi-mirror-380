{"version":3,"sources":["docassemble_webapp/docassemble/webapp/static/labelauty/source/jquery-labelauty.js"],"sourcesContent":["/*!\n * LABELAUTY jQuery Plugin\n *\n * @file: jquery-labelauty.js\n * @author: Francisco Neves (@fntneves)\n * @site: www.francisconeves.com\n * @license: MIT License\n */\n\n// Edited by Jonathan Pyle, 2018-2019\n\n(function ($) {\n  $.fn.labelauty = function (options) {\n    /*\n     * Our default settings\n     * Hope you don't need to change anything, with these settings\n     */\n    var settings = $.extend(\n      {\n        // Development Mode\n        // This will activate console debug messages\n        development: false,\n\n        // Trigger Class\n        // This class will be used to apply styles\n        class: \"labelauty\",\n\n        // Use icon?\n        // If false, then only a text label represents the input\n        icon: true,\n\n        // Use text label ?\n        // If false, then only an icon represents the input\n        label: true,\n\n        // Separator between labels' messages\n        // If you use this separator for anything, choose a new one\n        separator: \"|\",\n\n        // Default Checked Message\n        // This message will be visible when input is checked\n        checked_label: \"Checked\",\n\n        // Default UnChecked Message\n        // This message will be visible when input is unchecked\n        unchecked_label: \"Unchecked\",\n\n        // Force random ID's\n        // Replace original ID's with random ID's,\n        force_random_id: false,\n\n        // Minimum Label Width\n        // This value will be used to apply a minimum width to the text labels\n        minimum_width: false,\n\n        // Use the greatest width between two text labels ?\n        // If this has a true value, then label width will be the greatest between labels\n        same_width: false,\n      },\n      options,\n    );\n\n    /*\n     * Let's create the core function\n     * It will try to cover all settings and mistakes of using\n     */\n    return this.each(function () {\n      var $object = $(this);\n      var selected = $object.is(\":checked\");\n      var type = $object.attr(\"type\");\n      var use_icons = true;\n      var use_labels = true;\n      var labels;\n      var labels_object;\n      var color;\n      var classes;\n      var input_id;\n\n      //Get the aria label from the input element\n      var aria_label = $object.attr(\"aria-label\");\n\n      // Hide the object form screen readers\n      $object.attr(\"aria-hidden\", true);\n\n      // Test if object is a check input\n      // Don't mess me up, come on\n      if ($object.is(\":checkbox\") === false && $object.is(\":radio\") === false)\n        return this;\n\n      classes = $object\n        .attr(\"class\")\n        .split(/\\s+/)\n        .filter(function (value, index, arr) {\n          return value != \"da-to-labelauty\";\n        });\n      // Add \"labelauty\" class to all checkboxes\n      // So you can apply some custom styles\n      $object.addClass(settings.class);\n\n      // Get the value of \"data-labelauty\" attribute\n      // Then, we have the labels for each case (or not, as we will see)\n      labels = $object.attr(\"data-labelauty\");\n      color = $object.attr(\"data-color\");\n\n      use_labels = settings.label;\n      use_icons = settings.icon;\n\n      // It's time to check if it's going to the right way\n      // Null values, more labels than expected or no labels will be handled here\n      if (use_labels === true) {\n        if (labels == null || labels.length === 0) {\n          // If attribute has no label and we want to use, then use the default labels\n          labels_object = [settings.unchecked_label, settings.checked_label];\n        } else {\n          // Ok, ok, it's time to split Checked and Unchecked labels\n          // We split, by the \"settings.separator\" option\n          labels_object = labels.split(settings.separator);\n\n          // Now, let's check if exist _only_ two labels\n          // If there's more than two, then we do not use labels :(\n          // Else, do some additional tests\n          if (labels_object.length > 2) {\n            use_labels = false;\n            debug(\n              settings.development,\n              \"There's more than two labels. LABELAUTY will not use labels.\",\n            );\n          } else {\n            // If there's just one label (no split by \"settings.separator\"), it will be used for both cases\n            // Here, we have the possibility of use the same label for both cases\n            if (labels_object.length === 1)\n              debug(\n                settings.development,\n                \"There's just one label. LABELAUTY will use this one for both cases.\",\n              );\n          }\n        }\n      }\n\n      /*\n       * Let's begin the beauty\n       */\n\n      // Start hiding ugly checkboxes\n      // Obviously, we don't need native checkboxes :O\n      $object.css({ display: \"none\" });\n\n      // We don't need more data-labelauty attributes!\n      // Ok, ok, it's just for beauty improvement\n      $object.removeAttr(\"data-labelauty\");\n\n      // Now, grab checkbox ID Attribute for \"label\" tag use\n      // If there's no ID Attribute, then generate a new one\n      input_id = $object.attr(\"id\");\n\n      if (\n        settings.force_random_id ||\n        input_id == null ||\n        input_id.trim() === \"\"\n      ) {\n        var input_id_number = 1 + Math.floor(Math.random() * 1024000);\n        input_id = \"labelauty-\" + input_id_number;\n\n        // Is there any element with this random ID ?\n        // If exists, then increment until get an unused ID\n        while ($(input_id).length !== 0) {\n          input_id_number++;\n          input_id = \"labelauty-\" + input_id_number;\n          debug(\n            settings.development,\n            \"Holy crap, between 1024 thousand numbers, one raised a conflict. Trying again.\",\n          );\n        }\n\n        $object.attr(\"id\", input_id);\n      }\n\n      // Now, add necessary tags to make this work\n      // Here, we're going to test some control variables and act properly\n\n      var element = jQuery(\n        create(\n          input_id,\n          aria_label,\n          selected,\n          type,\n          labels_object,\n          use_labels,\n          use_icons,\n        ),\n      );\n\n      for (var idx = 0; idx < classes.length; idx++) {\n        $(element).addClass(classes[idx]);\n      }\n      if ($object.is(\":checked\")) {\n        $(element).addClass(\"btn-\" + color);\n        $(element).removeClass(\n          \"btn-light bg-secondary-subtle text-light-emphasis\",\n        );\n        $(element).attr(\"aria-checked\", true);\n      } else {\n        $(element).removeClass(\"btn-\" + color);\n        $(element).addClass(\n          \"btn-light bg-secondary-subtle text-light-emphasis\",\n        );\n        $(element).attr(\"aria-checked\", false);\n      }\n      var the_name = $object.attr(\"name\");\n      if (type == \"radio\") {\n        $object.on(\"change\", function () {\n          $object\n            .parents(\".da-fieldset\")\n            .first()\n            .find(\".da-has-error\")\n            .remove();\n          var anyChecked = false;\n          $('input.labelauty[name=\"' + the_name + '\"]:enabled').each(\n            function () {\n              if ($(this).is(\":checked\")) {\n                $(this)\n                  .next()\n                  .addClass(\"btn-\" + color);\n                $(this)\n                  .next()\n                  .removeClass(\n                    \"btn-light bg-secondary-subtle text-light-emphasis\",\n                  );\n                $(this).next().attr(\"aria-checked\", true);\n                anyChecked = true;\n              } else {\n                $(this)\n                  .next()\n                  .removeClass(\"btn-\" + color);\n                $(this)\n                  .next()\n                  .addClass(\n                    \"btn-light bg-secondary-subtle text-light-emphasis\",\n                  );\n                $(this).next().attr(\"aria-checked\", false);\n              }\n            },\n          );\n          if (anyChecked) {\n            $('input.labelauty[name=\"' + the_name + '\"]:enabled').each(\n              function () {\n                if ($(this).is(\":checked\")) {\n                  $(this).next().attr(\"tabindex\", 0);\n                } else {\n                  $(this).next().attr(\"tabindex\", -1);\n                }\n              },\n            );\n          }\n        });\n      } else {\n        $object.on(\"change\", function () {\n          $object\n            .parents(\".da-fieldset\")\n            .first()\n            .find(\".da-has-error\")\n            .remove();\n          if ($(this).is(\":checked\")) {\n            $(this)\n              .next()\n              .addClass(\"btn-\" + color);\n            $(this)\n              .next()\n              .removeClass(\"btn-light bg-secondary-subtle text-light-emphasis\");\n            $(this).next().attr(\"aria-checked\", true);\n          } else {\n            $(this)\n              .next()\n              .removeClass(\"btn-\" + color);\n            $(this)\n              .next()\n              .addClass(\"btn-light bg-secondary-subtle text-light-emphasis\");\n            $(this).next().attr(\"aria-checked\", false);\n          }\n        });\n      }\n\n      element.keydown(function (event) {\n        $object.parents(\".da-fieldset\").first().find(\".da-has-error\").remove();\n        var theCode = event.which || event.keyCode;\n        if ($object.closest(\".dachoicewithhelp\").length > 0) {\n          if (theCode === 40) {\n            event.preventDefault();\n            var nextElement = $object\n              .closest(\".dachoicewithhelp\")\n              .next(\"div\")\n              .find(\"label\");\n            if (nextElement.length) {\n              nextElement.focus();\n              nextElement.click();\n            }\n            return false;\n          }\n          if (theCode === 38) {\n            event.preventDefault();\n            var prevElement = $object\n              .closest(\".dachoicewithhelp\")\n              .prev(\"div\")\n              .find(\"label\");\n            if (prevElement.length) {\n              prevElement.focus();\n              prevElement.click();\n            }\n            return false;\n          }\n        } else {\n          if (theCode === 40) {\n            event.preventDefault();\n            var nextElement = $object.next(\"label\").next(\"input\").next(\"label\");\n            if (nextElement.length) {\n              nextElement.focus();\n              nextElement.click();\n            }\n            return false;\n          }\n          if (theCode === 38) {\n            event.preventDefault();\n            var prevElement = $object.prev(\"label\");\n            if (prevElement.length) {\n              prevElement.focus();\n              prevElement.click();\n            }\n            return false;\n          }\n        }\n        if (theCode === 32 || theCode === 13) {\n          event.preventDefault();\n          if ($object.is(\":checked\")) {\n            $(this).addClass(\"btn-\" + color);\n            $(this).removeClass(\n              \"btn-light bg-secondary-subtle text-light-emphasis\",\n            );\n            $object.prop(\"checked\", false);\n            $(this).attr(\"aria-checked\", true);\n          } else {\n            $(this).addClass(\"btn-\" + color);\n            $(this).removeClass(\n              \"btn-light bg-secondary-subtle text-light-emphasis\",\n            );\n            $object.prop(\"checked\", true);\n            $(this).attr(\"aria-checked\", false);\n          }\n          $object.trigger(\"change\");\n        }\n      });\n\n      $object.after(element);\n\n      // Now, add \"min-width\" to label\n      // Let's say the truth, a fixed width is more beautiful than a variable width\n      if (settings.minimum_width !== false)\n        $object\n          .next(\"label[for='\" + input_id + \"']\")\n          .css({ \"min-width\": settings.minimum_width });\n\n      // Now, add \"min-width\" to label\n      // Let's say the truth, a fixed width is more beautiful than a variable width\n      if (settings.same_width != false && settings.label == true) {\n        var label_object = $object.next(\"label[for='\" + input_id + \"']\");\n        var unchecked_width = getRealWidth(\n          label_object.find(\"span.labelauty-unchecked\"),\n        );\n        var checked_width = getRealWidth(\n          label_object.find(\"span.labelauty-checked\"),\n        );\n\n        if (unchecked_width > checked_width)\n          label_object.find(\"span.labelauty-checked\").width(unchecked_width);\n        else label_object.find(\"span.labelauty-unchecked\").width(checked_width);\n      }\n    });\n  };\n\n  /*\n   * Tricky code to work with hidden elements, like tabs.\n   * Note: This code is based on jquery.actual plugin.\n   * https://github.com/dreamerslab/jquery.actual\n   */\n  function getRealWidth(element) {\n    var width = 0;\n    var $target = element;\n    var css_class = \"hiddenelement\";\n\n    $target = $target.clone().attr(\"class\", css_class).appendTo(\"body\");\n    width = $target.width(true);\n    $target.remove();\n\n    return width;\n  }\n\n  function debug(debug, message) {\n    if (debug && window.console && window.console.log)\n      window.console.log(\"jQuery-LABELAUTY: \" + message);\n  }\n\n  function decode_html(text) {\n    text = text.replace(/&amp;/g, \"&\");\n    text = text.replace(/&lt;/g, \"<\");\n    text = text.replace(/&gt;/g, \">\");\n    text = text.replace(/&quot;/g, '\"');\n    return text;\n  }\n  function create(\n    input_id,\n    aria_label,\n    selected,\n    type,\n    messages_object,\n    label,\n    icon,\n  ) {\n    var block;\n    var unchecked_message;\n    var checked_message;\n    var aria = \"\";\n\n    if (messages_object == null) unchecked_message = checked_message = \"\";\n    else {\n      unchecked_message = messages_object[0];\n\n      // If checked message is null, then put the same text of unchecked message\n      if (messages_object[1] == null) checked_message = unchecked_message;\n      else checked_message = messages_object[1];\n    }\n    var uncheck_icon;\n    if (type == \"checkbox\") {\n      uncheck_icon = '<i class=\"fa-regular fa-square fa-fw\"></i>';\n    } else {\n      uncheck_icon = '<i class=\"fa-regular fa-circle fa-fw\"></i>';\n    }\n    var check_icon;\n    if (type == \"checkbox\") {\n      check_icon = '<i class=\"fa-solid fa-check fa-fw\"></i>';\n    } else {\n      check_icon = '<i class=\"fa-solid fa-check-circle fa-fw\"></i>';\n    }\n\n    if (aria_label == null) aria = \"\";\n    else\n      aria =\n        'tabindex=\"0\" role=\"' +\n        type +\n        '\" aria-checked=\"' +\n        selected +\n        '\" aria-label=\"' +\n        aria_label +\n        '\"';\n\n    if (label == true && icon == true) {\n      block =\n        '<label class=\"text-start btn btn-light bg-secondary-subtle text-light-emphasis dalabelauty\" for=\"' +\n        input_id +\n        '\" ' +\n        aria +\n        \">\" +\n        '<span class=\"labelauty-unchecked-image text-body-secondary\">' +\n        uncheck_icon +\n        \"</span>\" +\n        '<span class=\"labelauty-unchecked\">' +\n        decode_html(unchecked_message) +\n        \"</span>\" +\n        '<span class=\"labelauty-checked-image\">' +\n        check_icon +\n        \"</span>\" +\n        '<span class=\"labelauty-checked\">' +\n        decode_html(checked_message) +\n        \"</span>\" +\n        \"</label>\";\n    } else if (label == true) {\n      block =\n        '<label class=\"text-start btn btn-light bg-secondary-subtle text-light-emphasis dalabelauty\" for=\"' +\n        input_id +\n        '\" ' +\n        aria +\n        \">\" +\n        '<span class=\"labelauty-unchecked\">' +\n        decode_html(unchecked_message) +\n        \"</span>\" +\n        '<span class=\"labelauty-checked\">' +\n        decode_html(checked_message) +\n        \"</span>\" +\n        \"</label>\";\n    } else {\n      block =\n        '<label class=\"text-start btn btn-light bg-secondary-subtle text-light-emphasis dalabelauty\" for=\"' +\n        input_id +\n        '\" ' +\n        aria +\n        \">\" +\n        '<span class=\"labelauty-unchecked-image text-body-secondary\">' +\n        uncheck_icon +\n        \"</span>\" +\n        '<span class=\"labelauty-checked-image\">' +\n        check_icon +\n        \"</span>\" +\n        \"</label>\";\n    }\n\n    return block;\n  }\n})(window.jQuery);\n"],"names":["$","fn","labelauty","options","settings","extend","development","class","icon","label","separator","checked_label","unchecked_label","force_random_id","minimum_width","same_width","this","each","$object","selected","is","type","attr","use_icons","use_labels","labels","labels_object","color","classes","input_id","aria_label","split","filter","value","index","arr","addClass","length","debug","css","display","removeAttr","trim","input_id_number","Math","floor","random","element","jQuery","create","idx","removeClass","the_name","on","parents","first","find","remove","anyChecked","next","keydown","event","theCode","which","keyCode","closest","preventDefault","nextElement","focus","click","prevElement","prev","prop","trigger","after","min-width","label_object","unchecked_width","getRealWidth","checked_width","width","$target","css_class","clone","appendTo","message","window","console","log","decode_html","text","replace","messages_object","block","unchecked_message","checked_message","aria","uncheck_icon","check_icon"],"mappings":"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"}