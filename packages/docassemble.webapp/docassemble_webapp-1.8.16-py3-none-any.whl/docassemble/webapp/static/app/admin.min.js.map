{"version":3,"sources":["docassemble_webapp/docassemble/webapp/static/app/admin.js"],"sourcesContent":["var daWhichButton = null;\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  if (daAutoColorScheme) {\n    var daDesiredColorScheme;\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      daDesiredColorScheme = 1;\n    } else {\n      daDesiredColorScheme = 0;\n    }\n    if (daCurrentColorScheme != daDesiredColorScheme) {\n      document.documentElement.setAttribute(\n        \"data-bs-theme\",\n        daDesiredColorScheme ? \"dark\" : \"light\",\n      );\n      $.ajax({\n        type: \"PATCH\",\n        url: daUrlChangeColorScheme,\n        xhrFields: {\n          withCredentials: true,\n        },\n        data: \"scheme=\" + daDesiredColorScheme,\n        success: function (data) {\n          daCurrentColorScheme = data.scheme;\n        },\n        error: function (xhr, status, error) {\n          console.log(\"Unable to change desired color scheme.\");\n        },\n        dataType: \"json\",\n      });\n    }\n  }\n  $(document).ready(function () {\n    if (daRequestPath == \"/utilities\") {\n      $(\"#pdfdocxfile\").on(\"change\", function () {\n        var fileName = $(this).val();\n        fileName = fileName.replace(/.*\\\\/, \"\");\n        fileName = fileName.replace(/.*\\//, \"\");\n        $(this).next(\".custom-file-label\").html(fileName);\n      });\n    }\n    if (\n      [\"/user/sign-in\", \"/user/register\", \"/user/forgot-password\"].includes(\n        daRequestPath,\n      )\n    ) {\n      $(\".da-form-group input\").first().focus();\n    } else if (daRequestPath != \"/playgroundfiles\") {\n      $(\".form\")\n        .find(\"input[type=text],textarea,select\")\n        .filter(\":visible:first\")\n        .focus();\n    }\n    setTimeout(function () {\n      window.scrollTo(0, 1);\n    }, 10);\n    setTimeout(function () {\n      $(\"#flash .alert-success\").hide(300, function () {\n        $(self).remove();\n      });\n    }, 3000);\n    $(\".btn-da\").click(function () {\n      daWhichButton = this;\n    });\n    $(\".form\").on(\"submit\", function () {\n      $(this)\n        .find(\".btn-da\")\n        .each(function () {\n          var the_button = this;\n          var disable_button = $(the_button).data(\"disable-button\");\n          if (typeof disable_button != \"undefined\" && !disable_button) {\n            return;\n          }\n          setTimeout(function () {\n            $(the_button).prop(\"disabled\", true);\n          }, 1);\n          if (this != daWhichButton) {\n            $(this).removeClass(\n              daButtonStyle +\n                \"primary \" +\n                daButtonStyle +\n                \"info \" +\n                daButtonStyle +\n                \"warning \" +\n                daButtonStyle +\n                \"error \" +\n                daButtonStyle +\n                \"success\",\n            );\n            $(this).addClass(daButtonStyle + \"secondary\");\n          } else {\n            $(daWhichButton).removeClass(\n              daButtonStyle +\n                \"primary \" +\n                daButtonStyle +\n                \"info \" +\n                daButtonStyle +\n                \"warning \" +\n                daButtonStyle +\n                \"error \" +\n                daButtonStyle +\n                \"secondary\",\n            );\n            $(daWhichButton).addClass(daButtonStyle + \"success\");\n          }\n        });\n    });\n    if (daRequestPath == \"/interviews\") {\n      $(\".dadeletebutton\").on(\"click\", function (event) {\n        console.log(\"Doing click\");\n        var yamlFilename = $(\"<input>\")\n          .attr(\"type\", \"hidden\")\n          .attr(\"name\", \"i\")\n          .val($(this).data(\"i\"));\n        $(\"#daform\").append($(yamlFilename));\n        var session = $(\"<input>\")\n          .attr(\"type\", \"hidden\")\n          .attr(\"name\", \"session\")\n          .val($(this).data(\"session\"));\n        $(\"#daform\").append($(session));\n        return true;\n      });\n      $(\"#delete_all\").on(\"click\", function (event) {\n        if (confirm(daAreYouSureDelete)) {\n          return true;\n        }\n        event.preventDefault();\n        return false;\n      });\n    }\n  });\n});\n"],"names":["daWhichButton","document","addEventListener","daAutoColorScheme","daDesiredColorScheme","window","matchMedia","matches","daCurrentColorScheme","documentElement","setAttribute","$","ajax","type","url","daUrlChangeColorScheme","xhrFields","withCredentials","data","success","scheme","error","xhr","status","console","log","dataType","ready","daRequestPath","on","fileName","this","val","replace","next","html","includes","first","focus","find","filter","setTimeout","scrollTo","hide","self","remove","click","each","the_button","disable_button","prop","removeClass","daButtonStyle","addClass","event","yamlFilename","attr","append","session","confirm","daAreYouSureDelete","preventDefault"],"mappings":"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"}