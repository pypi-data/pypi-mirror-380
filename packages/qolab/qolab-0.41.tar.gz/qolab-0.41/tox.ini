[tox]
toxworkdir={env:HOME}/tmp/.tox
envlist = qolab_pytest

[testenv]
basepython = python3

[testenv:black]
description = auto formatter with black
skip_install = true
deps = black
commands = black .

[testenv:ruff]
description = lint with ruff
skip_install = true
deps = ruff
commands = ruff check --exclude tmp

[testenv:flake8]
description = lint with flake8
skip_install = true
deps = flake8
commands = flake8 --max-line-length=88 --exclude tmp

[testenv:qolab_pytest]
description = test cases
package = editable
deps = pytest
commands = pytest

[testenv:style]
description = formatter and linter checks
skip_install = true
extras =
	black
	ruff
allowlist_externals = black, ruff
commands =
	{[testenv:black]commands}
	{[testenv:ruff]commands}

