# Generated by Django 5.2.4 on 2025-09-28 00:01

from django.db import migrations
import uuid


def gen_uuid(apps, schema_editor):
    DataSource = apps.get_model("reportcraft", "DataSource")
    DataModel = apps.get_model("reportcraft", "DataModel")
    DataField = apps.get_model("reportcraft", "DataField")
    Entry = apps.get_model("reportcraft", "Entry")
    Report = apps.get_model("reportcraft", "Report")

    for _class in [DataSource, DataModel, DataField, Entry, Report]:
        for row in _class.objects.all():
            row.code = str(uuid.uuid4())
            row.save(update_fields=['code'])


class Migration(migrations.Migration):

    dependencies = [
        ('reportcraft', '0014_add_uuid_fields'),
    ]

    operations = [
        migrations.RunPython(gen_uuid, reverse_code=migrations.RunPython.noop),
    ]
