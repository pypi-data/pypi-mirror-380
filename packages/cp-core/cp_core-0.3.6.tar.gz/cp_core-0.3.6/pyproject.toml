[project]
name = "cp_core"
description = "cathodic protection core problem"
dynamic = []
authors = [
    { name = "svtter", email = "svtter@qq.com" },
]
requires-python = ">=3.11,<3.12"
dependencies = [
    "numpy>=2.1.3",
    "pandas>=2.2.3",
    "setuptools>=75.0.0",
    "loguru>=0.7.2",
    "openpyxl>=3.1.0",
    "pyinstaller>=6.16.0",
    "pydantic>=2.10.2",
]
version = "0.3.6"

[project.license]
text = "not open"

[build-system]
requires = [
    "pdm-backend",
]
build-backend = "pdm.backend"

[tool.pdm.version]
source = "file"
path = "./src/cp_core/__init__.py"

[tool.pdm.scripts]
start = "streamlit run src/webapp/app.py"
test = "pytest"
serve_test = "allure serve ./tmp/allure"

[tool.mypy]
exclude = [
    ".venv",
]

[tool.pytest.ini_options]
addopts = "-m 'not python_knowledge' -v -n auto"
markers = [
    "v3: mark test as v3",
    "python_knowledge: mark test as python knowledge",
]

[dependency-groups]
dev = [
    "black>=22.10.0",
    "imageio>=2.16.1",
    "invoke>=2.2.0",
    "ipykernel>=6.30.0",
    "mypy>=1.18.0",
    "notebook>=7.4.0",
    "pandas-stubs>=2.3.0",
    "pillow>=11.2.0",
    "pytest>=8.4.0",
    "pytest-xdist>=3.8.0",
    "ruff>=0.13.0",
    "streamlit>=1.46.0",
    "tinydb>=4.8.0",
]
