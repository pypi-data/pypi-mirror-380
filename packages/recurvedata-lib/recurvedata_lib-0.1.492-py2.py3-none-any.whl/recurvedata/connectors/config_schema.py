from recurvedata.connectors.const import SSH_TUNNEL_CONFIG_SCHEMA, get_module_name
from recurvedata.connectors.proxy import HTTP_PROXY_CONFIG_SCHEMA
from recurvedata.core.translation import _l


def get_complex_config_schema(connection_name: str):
    module_name = get_module_name(connection_name)
    if module_name:
        return ALL_CONFIG_SCHEMA_DCT[module_name]


# auto generated by scripts/connector_schema_generator.py
ALL_CONFIG_SCHEMA_DCT = {
    "recurvedata.connectors.connectors.aliyun_access_key": {
        "type": "aliyun_access_key",
        "ui_type": "Aliyun Access Key",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "endpoint": {"type": "string", "title": _l("Endpoint")},
                "access_key_id": {"type": "string", "title": _l("Access Key ID")},
                "access_key_secret": {"type": "string", "title": _l("Access Key Secret")},
            },
            "order": ["endpoint", "access_key_id", "access_key_secret"],
            "required": ["endpoint", "access_key_id", "access_key_secret"],
            "secret": ["access_key_secret"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": False,
    },
    "recurvedata.connectors.connectors.auth": {
        "type": "auth",
        "ui_type": "Auth",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": _l("Host Address")},
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "port": {"type": "number", "title": _l("Port Number")},
                "extra": {
                    "type": "string",
                    "title": _l("Additional Configuration"),
                    "description": _l("Additional configuration parameters in JSON format"),
                    "ui:options": {"type": "textarea"},
                },
            },
            "order": ["host", "user", "password", "port", "extra"],
            "required": ["host"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": [],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.azure_blob": {
        "type": "azure_blob",
        "ui_type": "Azure Blob Storage",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "connection_string": {
                    "type": "string",
                    "title": _l("Connection String"),
                    "description": _l("Azure Storage connection string containing authentication details"),
                },
                "account_name": {"type": "string", "title": _l("Storage Account Name")},
                "account_key": {"type": "string", "title": _l("Account Access Key")},
                "sas_token": {"type": "string", "title": _l("SAS Token")},
                "container": {"type": "string", "title": _l("Container Name")},
                "endpoint_suffix": {
                    "type": "string",
                    "title": _l("Endpoint Suffix"),
                    "description": _l("Storage endpoint suffix (e.g. core.windows.net)"),
                },
            },
            "order": ["connection_string", "account_name", "account_key", "sas_token", "container", "endpoint_suffix"],
            "required": [],
            "secret": ["account_key", "sas_token"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.azure_synapse": {
        "type": "azure_synapse",
        "ui_type": "Azure Synapse",
        "category": ["warehouse"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": _l("Host Address")},
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 1433,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {"type": "string", "title": _l("Database Name")},
                "odbc_driver": {
                    "type": "string",
                    "title": _l("ODBC Driver"),
                    "default": "ODBC Driver 17 for SQL Server",
                },
                "blob_options": {
                    "type": "object",
                    "title": _l("Azure Blob Storage Options"),
                    "properties": {
                        "account_name": {"type": "string", "title": _l("Storage Account Name")},
                        "sas_token": {"type": "string", "title": _l("SAS Token")},
                    },
                    "order": ["account_name", "sas_token"],
                },
            },
            "order": ["host", "port", "user", "password", "database", "odbc_driver", "blob_options"],
            "required": ["host", "port"],
            "secret": ["password", "blob_options.sas_token"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.bigquery": {
        "type": "bigquery",
        "ui_type": "Google BigQuery",
        "category": ["warehouse", "database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "title": _l("Account Type"),
                    "default": "service_account",
                },
                "project_id": {"type": "string", "title": _l("Google Cloud Project ID")},
                "private_key_id": {"type": "string", "title": _l("Google Auth Private Key ID")},
                "private_key": {"type": "string", "title": _l("Google Auth Private Key")},
                "client_id": {"type": "string", "title": _l("Google OAuth Client ID")},
                "client_email": {"type": "string", "title": _l("Service Account Email")},
                "token_uri": {
                    "type": "string",
                    "title": _l("Google OAuth Token URI"),
                    "default": "https://oauth2.googleapis.com/token",
                },
                "proxies": HTTP_PROXY_CONFIG_SCHEMA["proxies"],
            },
            "order": [
                "type",
                "project_id",
                "private_key_id",
                "private_key",
                "client_id",
                "client_email",
                "token_uri",
                "proxies",
            ],
            "required": ["type", "project_id", "private_key", "private_key_id", "client_email", "token_uri"],
            "secret": ["private_key"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.clickhouse": {
        "type": "clickhouse",
        "ui_type": "ClickHouse",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "description": _l(
                        "Native Protocol port number for the ClickHouse server connection. "
                        "Normally, default is 9000 for native protocol, use 9440 if secure SSL/TLS is enabled."
                    ),
                    "default": 9000,
                },
                "secure": {
                    "type": "boolean",
                    "title": _l("Use Secure Connection"),
                    "description": _l("Enable secure SSL/TLS connection to ClickHouse"),
                    "default": False,
                },
            },
            "order": ["host", "port", "user", "password", "database", "secure"],
            "required": [
                "host",
            ],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.tencent_cos": {
        "type": "cos",
        "ui_type": "Tencent COS",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "secret_id": {"type": "string", "title": _l("Tencent Cloud API Secret ID")},
                "secret_key": {"type": "string", "title": _l("Tencent Cloud API Secret Key")},
                "region": {"type": "string", "title": _l("COS Region"), "default": "ap-guangzhou"},
                "bucket": {"type": "string", "title": _l("Bucket Name")},
            },
            "order": ["secret_id", "secret_key", "region", "bucket"],
            "required": ["secret_id", "secret_key", "region", "bucket"],
            "secret": ["secret_key"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.dingtalk": {
        "type": "dingtalk",
        "ui_type": "Ding Talk",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "app_key": {"type": "string", "title": _l("DingTalk App Key")},
                "app_secret": {"type": "string", "title": _l("DingTalk App Secret")},
                "phone": {
                    "type": "string",
                    "title": _l("Phone Number"),
                    "description": _l("Phone number associated with the DingTalk account"),
                },
            },
            "order": ["app_key", "app_secret", "phone"],
            "required": ["app_key", "app_secret"],
            "secret": ["app_secret"],
        },
        "enabled": False,
        "group": ["integration"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.doris": {
        "type": "doris",
        "ui_type": "SelectDB(Doris)",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
                "port": {
                    "type": "number",
                    "title": _l("SelectDB(Doris) Port Number"),
                    "description": _l("The port number for connecting to SelectDB(Doris) server on FE"),
                    "default": 9030,
                },
                "http_port": {
                    "type": "number",
                    "title": _l("FE HTTP Port"),
                    "description": _l("The HTTP port number for the Doris Frontend (FE) service"),
                    "default": 8030,
                },
                "ssh_tunnel": SSH_TUNNEL_CONFIG_SCHEMA,
            },
            "order": ["host", "port", "http_port", "user", "password", "database", "ssh_tunnel"],
            "required": ["host", "http_port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.es": {
        "type": "elasticsearch",
        "ui_type": "Elasticsearch",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 9200,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
            ],
            "required": [
                "host",
            ],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.feishu": {
        "type": "feishu_bot",
        "ui_type": "Feishu",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "app_id": {"type": "string", "title": _l("Feishu Bot App ID")},
                "app_secret": {"type": "string", "title": _l("Feishu Bot App Secret")},
            },
            "order": [
                "app_id",
                "app_secret",
            ],
            "required": [
                "app_id",
                "app_secret",
            ],
            "secret": [
                "app_secret",
            ],
        },
        "enabled": True,
        "group": ["integration"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.ftp": {
        "type": "ftp",
        "ui_type": "FTP",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 21,
                },
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
            ],
            "required": ["host", "port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.generic": {
        "type": "generic",
        "ui_type": "Generic",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": _l("Host")},
                "port": {"type": "integer", "title": _l("Port")},
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "timeout": {"type": "integer", "title": _l("Timeout (seconds)"), "default": 30},
                "custom": {
                    "type": "string",
                    "title": _l("Custom Configuration"),
                    "description": _l("Custom configuration parameters in JSON format"),
                    "ui:field": "CodeEditorWithReferencesField",
                    "ui:options": {"type": "code", "lang": "json"},
                },
            },
            "order": ["host", "port", "user", "password", "timeout", "custom"],
            "required": ["host", "port", "user", "password"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": False,
    },
    "recurvedata.connectors.connectors.google_cloud_storage": {
        "type": "google_cloud_storage",
        "ui_type": "Google Cloud Storage",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "key_dict": {
                    "type": "object",
                    "title": _l("Service Account Key"),
                    "description": _l("Google Cloud service account key credentials"),
                    "properties": {
                        "type": {
                            "type": "string",
                            "title": _l("Account Type"),
                            "default": "service_account",
                        },
                        "project_id": {"type": "string", "title": _l("Google Cloud Project ID")},
                        "private_key_id": {"type": "string", "title": _l("Google Auth Private Key ID")},
                        "private_key": {
                            "type": "string",
                            "title": _l("Google Auth Private Key"),
                            "ui:options": {"type": "textarea"},
                        },
                        "client_email": {"type": "string", "title": _l("Service Account Email")},
                        "client_id": {"type": "string", "title": _l("Google OAuth Client ID")},
                        "auth_uri": {
                            "type": "string",
                            "title": _l("Google OAuth Auth URI"),
                            "default": "https://accounts.google.com/o/oauth2/auth",
                        },
                        "token_uri": {
                            "type": "string",
                            "title": _l("Google OAuth Token URI"),
                            "default": "https://oauth2.googleapis.com/token",
                        },
                        "auth_provider_x509_cert_url": {
                            "type": "string",
                            "title": _l("Google OAuth Certificate URL (Auth Provider)"),
                            "default": "https://www.googleapis.com/oauth2/v1/certs",
                        },
                        "client_x509_cert_url": {
                            "type": "string",
                            "title": _l("Google OAuth Certificate URL (Client)"),
                            "default": "https://www.googleapis.com/robot/v1/metadata/x509/recurvedata-gcs%40brand-portal-prod.iam.gserviceaccount.com",
                        },
                    },
                    "order": [
                        "type",
                        "project_id",
                        "private_key_id",
                        "private_key",
                        "client_email",
                        "client_id",
                        "auth_uri",
                        "token_uri",
                        "auth_provider_x509_cert_url",
                        "client_x509_cert_url",
                    ],
                    "required": [
                        "type",
                        "project_id",
                        "private_key_id",
                        "private_key",
                        "client_id",
                    ],
                    "secret": [
                        "private_key",
                    ],
                },
                "bucket": {
                    "type": "string",
                    "title": _l("Bucket Name"),
                    "description": _l("Name of the Google Cloud Storage bucket"),
                },
                "proxies": HTTP_PROXY_CONFIG_SCHEMA["proxies"],
            },
            "order": [
                "key_dict",
                "bucket",
                "proxies",
            ],
            "required": [
                "key_dict",
            ],
            "secret": [
                "key_dict.private_key",
            ],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": False,
    },
    "recurvedata.connectors.connectors.google_service_account": {
        "type": "google_service_account",
        "ui_type": "Google Service Account",
        "category": ["service"],
        "config_schema": {
            "type": "object",
            "properties": {
                "project_id": {"type": "string", "title": _l("Google Cloud Project ID")},
                "private_key_id": {"type": "string", "title": _l("Google Auth Private Key ID")},
                "private_key": {
                    "type": "string",
                    "title": _l("Google Auth Private Key"),
                    "ui:options": {"type": "textarea"},
                },
                "client_email": {"type": "string", "title": _l("Service Account Email")},
                "client_id": {"type": "string", "title": _l("Google OAuth Client ID")},
                "auth_uri": {
                    "type": "string",
                    "title": _l("Google OAuth Auth URI"),
                    "default": "https://accounts.google.com/o/oauth2/auth",
                },
                "token_uri": {
                    "type": "string",
                    "title": _l("Google OAuth Token URI"),
                    "default": "https://oauth2.googleapis.com/token",
                },
                "auth_provider_x509_cert_url": {
                    "type": "string",
                    "title": _l("Google OAuth Certificate URL (Auth Provider)"),
                    "default": "https://www.googleapis.com/oauth2/v1/certs",
                },
                "client_x509_cert_url": {
                    "type": "string",
                    "title": _l("Google OAuth Certificate URL (Client)"),
                    "default": "https://www.googleapis.com/robot/v1/metadata/x509/recurvedata-gcs%40brand-portal-prod.iam.gserviceaccount.com",
                },
                "universe_domain": {
                    "type": "string",
                    "title": _l("Universe Domain"),
                    "default": "googleapis.com",
                },
                "proxies": HTTP_PROXY_CONFIG_SCHEMA["proxies"],
            },
            "order": [
                "project_id",
                "private_key_id",
                "private_key",
                "client_email",
                "client_id",
                "auth_uri",
                "token_uri",
                "auth_provider_x509_cert_url",
                "client_x509_cert_url",
                "universe_domain",
                "proxies",
            ],
            "required": [
                "project_id",
                "private_key_id",
                "private_key",
                "client_email",
            ],
            "secret": [
                "private_key",
            ],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.hive": {
        "type": "hive",
        "ui_type": "Apache Hive",
        "category": ["warehouse"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 10000,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                    "default": "default",
                },
                "hdfs_options": {
                    "type": "object",
                    "title": _l("HDFS Options"),
                    "description": _l("Configuration options for HDFS connection"),
                    "properties": {
                        "host": {
                            "type": "string",
                            "title": _l("Host Address"),
                            "description": _l("HDFS namenode hostname or IP address"),
                        },
                        "port": {
                            "type": "number",
                            "title": _l("Port Number"),
                            "description": _l("HDFS namenode port number"),
                            "default": 50070,
                        },
                        "user": {"type": "string", "title": _l("Username")},
                        "staging_folder": {
                            "type": "string",
                            "title": _l("Transfer Staging Folder"),
                            "description": _l("Temporary HDFS directory path for data transfer staging"),
                            "default": "/tmp/recurve",
                        },
                    },
                    "order": ["host", "port", "user", "staging_folder"],
                },
                "auth": {
                    "type": "string",
                    "title": _l("Authentication Type"),
                    "default": "LDAP",
                },
                "hive_conf": {
                    "type": "object",
                    "title": _l("Hive Execute Configurations"),
                    "description": _l("Additional Hive execution parameters"),
                    "properties": {
                        "spark.yarn.queue": {
                            "type": "string",
                            "title": _l("Hive On Spark Queue"),
                            "description": _l("YARN queue name for Spark execution"),
                        },
                        "tez.queue.name": {
                            "type": "string",
                            "title": _l("Hive On Tez Queue"),
                            "description": _l("YARN queue name for Tez execution"),
                        },
                    },
                    "order": ["spark.yarn.queue", "tez.queue.name"],
                },
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
                "database",
                "hdfs_options",
                "auth",
                "hive_conf",
            ],
            "required": ["host", "port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.impala": {
        "type": "impala",
        "ui_type": "Apache Impala",
        "category": ["warehouse"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 21050,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database"),
                    "description": _l("The name of the database to connect to"),
                    "default": "default",
                },
                "hdfs_options": {
                    "type": "object",
                    "title": _l("HDFS Configuration"),
                    "description": _l("Configuration options for HDFS connection"),
                    "properties": {
                        "host": {
                            "type": "string",
                            "title": _l("Host"),
                            "description": _l("HDFS namenode hostname or IP address"),
                        },
                        "port": {
                            "type": "number",
                            "title": _l("Port Number"),
                            "description": _l("HDFS namenode port number"),
                            "default": 50070,
                        },
                        "user": {"type": "string", "title": _l("Username")},
                    },
                    "order": ["host", "port", "user"],
                },
                "auth_mechanism": {
                    "type": "string",
                    "title": _l("Authentication Mechanism"),
                    "description": _l("Impala authentication mechanism (e.g. PLAIN, GSSAPI, LDAP)"),
                    "default": "PLAIN",
                },
                "auth": {
                    "type": "string",
                    "title": _l("Authentication Type"),
                    "default": "LDAP",
                },
                "use_http_transport": {
                    "type": "boolean",
                    "title": _l("Use HTTP Transport"),
                    "default": True,
                },
                "use_ssl": {
                    "type": "boolean",
                    "title": _l("Use SSL"),
                    "default": True,
                },
                "http_path": {
                    "type": "string",
                    "title": _l("HTTP Path"),
                    "default": "",
                },
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
                "database",
                "hdfs_options",
                "auth",
                "auth_mechanism",
                "use_http_transport",
                "use_ssl",
                "http_path",
            ],
            "required": ["host", "port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.jenkins": {
        "type": "jenkins",
        "ui_type": "Jenkins",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "url": {"type": "string", "title": "url"},
                "user": {"type": "string", "title": "Username"},
                "password": {"type": "string", "title": "Password"},
            },
            "order": [
                "url",
                "user",
                "password",
            ],
            "required": [
                "url",
                "user",
                "password",
            ],
            "secret": ["password"],
        },
        "enabled": True,
        "group": [],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.mail": {
        "type": "mail",
        "ui_type": "Mail",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": _l("SMTP Server Address")},
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 465,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "reply_to": {
                    "type": "string",
                    "title": _l("Reply-To Address"),
                    "description": _l("Email address that recipients will reply to"),
                },
                "mail_from": {
                    "type": "string",
                    "title": _l("From Address"),
                    "description": _l("Email address that appears in the From field"),
                },
                "ssl": {
                    "type": "boolean",
                    "title": _l("Use SSL/TLS"),
                    "description": _l("Enable SSL/TLS encryption for secure email transmission"),
                    "default": True,
                },
                "timeout": {
                    "type": "number",
                    "title": _l("Connection Timeout"),
                    "description": _l("Maximum time in seconds to wait for server connection"),
                    "default": 180,
                },
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
                "reply_to",
                "mail_from",
                "ssl",
                "timeout",
            ],
            "required": ["host", "port", "user", "password"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": [],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.microsoft_fabric": {
        "type": "microsoft_fabric",
        "ui_type": "Microsoft Fabric",
        "category": ["warehouse"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 1433,
                },
                "authentication": {
                    "type": "string",
                    "title": _l("Authentication Method"),
                    "default": "ActiveDirectoryServicePrincipal",
                    "ui:options": {
                        "disabled": True,
                    },
                },
                "tenant_id": {
                    "type": "string",
                    "title": _l("Tenant ID"),
                },
                "client_id": {
                    "type": "string",
                    "title": _l("Client ID"),
                },
                "client_secret": {
                    "type": "string",
                    "title": _l("Client Secret"),
                },
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                },
                "odbc_driver": {
                    "type": "string",
                    "title": _l("ODBC Driver"),
                    "default": "ODBC Driver 18 for SQL Server",
                    "ui:options": {
                        "disabled": True,
                    },
                },
                "encrypt": {
                    "type": "boolean",
                    "title": _l("Encrypt Connection"),
                    "description": _l("Whether to encrypt the connection"),
                    "default": True,
                },
                "trust_server_certificate": {
                    "type": "boolean",
                    "title": _l("Trust Server Certificate"),
                    "default": True,
                },
                "blob_options": {
                    "type": "object",
                    "title": _l("Azure Blob Storage Options"),
                    "properties": {
                        "account_name": {"type": "string", "title": _l("Storage Account Name")},
                        "endpoint_suffix": {"type": "string", "title": _l("Endpoint Suffix")},
                        "container_name": {"type": "string", "title": _l("Container Name")},
                        "sas_token": {"type": "string", "title": _l("SAS Token")},
                    },
                    "order": ["account_name", "endpoint_suffix", "container_name", "sas_token"],
                },
            },
            "order": [
                "host",
                "port",
                "authentication",
                "tenant_id",
                "client_id",
                "client_secret",
                "database",
                "odbc_driver",
                "encrypt",
                "trust_server_certificate",
                "blob_options",
            ],
            "required": ["host", "port", "tenant_id", "client_id", "client_secret", "database"],
            "secret": ["client_secret", "blob_options.sas_token"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.mongo": {
        "type": "mongodb",
        "ui_type": "MongoDB",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 27017,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "authSource": {
                    "type": "string",
                    "title": _l("Authentication Database"),
                    "default": "admin",
                },
            },
            "order": ["host", "port", "user", "password", "authSource"],
            "required": ["host", "port", "user", "password"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.mssql": {
        "type": "mssql",
        "ui_type": "Microsoft SQL Server",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 1433,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                    "default": "default",
                },
                "odbc_driver": {
                    "type": "string",
                    "title": _l("ODBC Driver"),
                    "default": "ODBC Driver 18 for SQL Server",
                },
                "encrypt": {
                    "type": "boolean",
                    "title": _l("Encrypt Connection"),
                    "description": _l("Whether to encrypt the connection"),
                    "default": True,
                },
                "trust_server_certificate": {
                    "type": "boolean",
                    "title": _l("Trust Server Certificate"),
                    "default": True,
                },
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
                "database",
                "odbc_driver",
                "encrypt",
                "trust_server_certificate",
            ],
            "required": [
                "host",
            ],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.mysql": {
        "type": "mysql",
        "ui_type": "MySQL",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 3306,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
            },
            "order": [
                "host",
                "port",
                "user",
                "password",
                "database",
            ],
            "required": [
                "host",
            ],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.n8n": {
        "type": "n8n",
        "ui_type": "n8n",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "url": {
                    "type": "string",
                    "title": _l("API Address"),
                    "description": _l("The URL of the n8n API, e.g. https://localhost:5678/api/v1"),
                },
                "api_key": {"type": "string", "title": _l("API KEY")},
                "timeout": {
                    "type": "number",
                    "title": _l("Timeout"),
                    "description": _l("The timeout of the n8n API, e.g. 60"),
                    "default": 60,
                },
                "webhook_credential": {
                    "type": "object",
                    "title": _l("Webhook Trigger Node Credential"),
                    "description": _l("The credential of the n8n webhook trigger node"),
                    "properties": {
                        "credential_type": {
                            "type": "string",
                            "title": _l("Credential Type"),
                            "enum": ["Basic Auth", "Header Auth", "JWT Auth", "None"],
                            "enumNames": ["Basic Auth", "Header Auth", "JWT Auth", "None"],
                            "default": "None",
                        },
                        "basic_auth": {
                            "ui:hidden": '{{parentFormData.credential_type !== "Basic Auth"}}',
                            "type": "object",
                            "title": _l("Basic Auth"),
                            "description": _l("The basic auth of the n8n webhook trigger node"),
                            "properties": {
                                "username": {"type": "string", "title": _l("Username")},
                                "password": {"type": "string", "title": _l("Password")},
                            },
                        },
                        "header_auth": {
                            "ui:hidden": '{{parentFormData.credential_type !== "Header Auth"}}',
                            "type": "object",
                            "title": _l("Header Auth"),
                            "description": _l("The header auth of the n8n webhook trigger node"),
                            "properties": {
                                "header_name": {"type": "string", "title": _l("Header Name")},
                                "header_value": {"type": "string", "title": _l("Header Value")},
                            },
                        },
                        "jwt_auth": {
                            "ui:hidden": '{{parentFormData.credential_type !== "JWT Auth"}}',
                            "type": "object",
                            "title": _l("JWT Auth"),
                            "description": _l("The jwt auth of the n8n webhook trigger node"),
                            "properties": {
                                "jwt_token": {"type": "string", "title": _l("JWT Token")},
                            },
                        },
                    },
                    "order": ["credential_type", "basic_auth", "header_auth", "jwt_auth"],
                },
                "proxies": HTTP_PROXY_CONFIG_SCHEMA["proxies"],
            },
            "order": ["url", "api_key", "timeout", "webhook_credential", "proxies"],
            "required": ["url", "api_key"],
            "secret": [
                "api_key",
                "webhook_credential.basic_auth.password",
                "webhook_credential.header_auth.header_value",
                "webhook_credential.jwt_auth.jwt_token",
            ],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.oss": {
        "type": "oss",
        "ui_type": "Aliyun OSS",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "access_key_id": {
                    "type": "string",
                    "title": _l("Aliyun Access Key ID"),
                    "description": _l("The AccessKey ID for authenticating with Aliyun OSS"),
                },
                "secret_access_key": {
                    "type": "string",
                    "title": _l("Aliyun Secret Access Key"),
                    "description": _l("The AccessKey Secret for authenticating with Aliyun OSS"),
                },
                "endpoint": {
                    "type": "string",
                    "title": _l("OSS Endpoint"),
                    "description": _l("The endpoint URL for your OSS bucket region"),
                    "default": "oss-cn-hangzhou.aliyuncs.com",
                },
                "bucket": {"type": "string", "title": _l("Bucket Name")},
                "proxies": HTTP_PROXY_CONFIG_SCHEMA["proxies"],
            },
            "order": [
                "access_key_id",
                "secret_access_key",
                "endpoint",
                "bucket",
                "proxies",
            ],
            "required": ["access_key_id", "secret_access_key", "endpoint", "bucket"],
            "secret": ["secret_access_key"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.owncloud": {
        "type": "owncloud",
        "ui_type": "OwnCloud",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "url": {"type": "string", "title": _l("Host URL")},
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "dav_endpoint_version": {
                    "type": "number",
                    "title": _l("WebDAV Endpoint Version"),
                    "default": 1,
                },
            },
            "order": ["url", "user", "password", "dav_endpoint_version"],
            "required": ["url", "user", "password"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.phoenix": {
        "type": "phoenix",
        "ui_type": "HBase Phoenix",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": "Host Address"},
                "port": {
                    "type": "number",
                    "title": "Port Number",
                    "default": 8765,
                },
            },
            "order": ["host", "port"],
            "required": ["host", "port"],
            "secret": [],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.postgres": {
        "type": "postgres",
        "ui_type": "PostgreSQL",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 5432,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
            },
            "order": ["host", "port", "user", "password", "database"],
            "required": [
                "host",
                "user",
                "password",
            ],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.python": {
        "type": "python",
        "ui_type": "Python",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "python_version": {
                    "type": "string",
                    "title": _l("Python Version"),
                    "enum": ["3.11.9", "3.10.14"],
                    "enumNames": ["3.11.9", "3.10.14"],
                    "default": "3.11.9",
                },
                "pyenv": {
                    "type": "string",
                    "title": _l("Python Virtual Environment Name"),
                    "default": "recurve_executor",
                },
                "requirements": {
                    "type": "string",
                    "title": _l("Python Package Requirements"),
                    "description": _l(
                        "List of Python packages and versions to install, the same format as requirements.txt"
                    ),
                    "ui:options": {
                        "type": "textarea",
                        "rows": 10,
                    },
                },
            },
            "order": ["python_version", "pyenv", "requirements"],
            "required": ["python_version", "pyenv"],
            "secret": [],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": False,
    },
    "recurvedata.connectors.connectors.redshift": {
        "type": "redshift",
        "ui_type": "Redshift",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": _l("Host Address")},
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 5439,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
                "s3_options": {
                    "type": "object",
                    "title": _l("S3 Configuration"),
                    "description": _l("AWS S3 credentials for data loading and unloading"),
                    "properties": {
                        "access_key_id": {"type": "string", "title": _l("AWS Access Key ID")},
                        "secret_access_key": {"type": "string", "title": _l("AWS Secret Access Key")},
                        "region": {"type": "string", "title": _l("AWS Region")},
                    },
                    "order": ["access_key_id", "secret_access_key", "region"],
                },
            },
            "order": ["host", "port", "user", "password", "database", "s3_options"],
            "required": ["host", "port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.s3": {
        "type": "s3",
        "ui_type": "AWS S3",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "access_key_id": {"type": "string", "title": _l("AWS Access Key ID")},
                "secret_access_key": {"type": "string", "title": _l("AWS Secret Access Key")},
                "region": {"type": "string", "title": _l("AWS Region")},
                "bucket": {"type": "string", "title": _l("Bucket Name")},
                "proxies": HTTP_PROXY_CONFIG_SCHEMA["proxies"],
            },
            "order": ["access_key_id", "secret_access_key", "region", "bucket", "proxies"],
            "required": ["access_key_id", "secret_access_key"],
            "secret": ["secret_access_key"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.sftp": {
        "type": "sftp",
        "ui_type": "SFTP",
        "category": ["storage"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 22,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "private_key_path": {"type": "string", "title": _l("Private Key File Path")},
            },
            "order": ["host", "port", "user", "password", "private_key_path"],
            "required": ["host", "port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.slack": {
        "type": "slack",
        "ui_type": "Slack",
        "category": ["others"],
        "config_schema": {
            "type": "object",
            "properties": {
                "app_token": {
                    "type": "string",
                    "title": _l("Slack App Token"),
                    "description": _l("The token used to authenticate with Slack API"),
                },
            },
            "required": [
                "app_token",
            ],
            "secret": [
                "app_token",
            ],
        },
        "enabled": True,
        "group": ["integration"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.spark": {
        "type": "spark",
        "ui_type": "Spark",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "submitter": {
                    "type": "string",
                    "title": _l("Spark Submit Command"),
                    "description": _l("Path to spark-submit executable"),
                    "default": "spark-submit",
                },
                "env": {
                    "type": "object",
                    "title": _l("Environment Variables"),
                    "description": _l("Environment variables required for Spark execution"),
                    "properties": {
                        "JAVA_HOME": {"type": "string", "title": "JAVA_HOME"},
                        "PYSPARK_PYTHON": {"type": "string", "title": "PYSPARK_PYTHON"},
                        "PYSPARK_DRIVER_PYTHON": {"type": "string", "title": "PYSPARK_DRIVER_PYTHON"},
                        "HADOOP_USER_NAME": {"type": "string", "title": "HADOOP_USER_NAME"},
                        "PIGEON_SECRET_KEY": {"type": "string", "title": "PIGEON_SECRET_KEY"},
                        "PATH": {"type": "string", "title": "PATH"},
                        "SPARK_CONF_DIR": {"type": "string", "title": "SPARK_CONF_DIR"},
                        "HADOOP_CONF_DIR": {"type": "string", "title": "HADOOP_CONF_DIR"},
                        "HIVE_CONF_DIR": {"type": "string", "title": "HIVE_CONF_DIR"},
                        "HIVE_HOME": {"type": "string", "title": "HIVE_HOME"},
                    },
                    "order": [
                        "JAVA_HOME",
                        "PYSPARK_PYTHON",
                        "PYSPARK_DRIVER_PYTHON",
                        "HADOOP_USER_NAME",
                        "PIGEON_SECRET_KEY",
                        "PATH",
                        "HIVE_CONF_DIR",
                        "HADOOP_CONF_DIR",
                        "SPARK_CONF_DIR",
                        "HIVE_HOME",
                    ],
                },
                "execution_config": {
                    "type": "object",
                    "title": _l("Execution Configuration"),
                    "description": _l("Spark execution settings"),
                    "properties": {
                        "queue": {
                            "type": "string",
                            "title": _l("Queue Name"),
                            "description": _l("Name of the queue to submit Spark job"),
                            "default": "recurve",
                        },
                        "conf": {
                            "type": "string",
                            "title": _l("Additional Configuration"),
                            "description": _l("Additional Spark configuration in JSON format"),
                            "ui:options": {"type": "textarea"},
                        },
                    },
                    "order": ["queue", "conf"],
                },
            },
            "order": ["submitter", "env", "execution_config"],
            "required": [
                "submitter",
            ],
            "secret": [],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.starrocks": {
        "type": "starrocks",
        "ui_type": "StarRocks",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {
                    "type": "string",
                    "title": _l("Host Address"),
                    "default": "127.0.0.1",
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
                "port": {
                    "type": "number",
                    "title": _l("MySQL Port Number"),
                    "description": _l("The port number for connecting to MySQL server on FE"),
                    "default": 9030,
                },
                "http_port": {
                    "type": "number",
                    "title": _l("FE HTTP Port"),
                    "description": _l("The HTTP port number for the Doris Frontend (FE) service"),
                    "default": 8030,
                },
                "ssh_tunnel": SSH_TUNNEL_CONFIG_SCHEMA,
            },
            "order": ["host", "port", "http_port", "user", "password", "database", "ssh_tunnel"],
            "required": ["host", "http_port"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
    "recurvedata.connectors.connectors.tidb": {
        "type": "tidb",
        "ui_type": "TiDB",
        "category": ["database"],
        "config_schema": {
            "type": "object",
            "properties": {
                "host": {"type": "string", "title": _l("Host Address"), "default": "127.0.0.1"},
                "port": {
                    "type": "number",
                    "title": _l("Port Number"),
                    "default": 4000,
                },
                "user": {"type": "string", "title": _l("Username")},
                "password": {"type": "string", "title": _l("Password")},
                "database": {
                    "type": "string",
                    "title": _l("Database Name"),
                    "description": _l("The name of the database to connect to"),
                },
            },
            "order": ["host", "port", "user", "password", "database"],
            "required": ["host"],
            "secret": ["password"],
        },
        "enabled": True,
        "group": ["destination"],
        "test_required": True,
    },
}

# auto generated finish
