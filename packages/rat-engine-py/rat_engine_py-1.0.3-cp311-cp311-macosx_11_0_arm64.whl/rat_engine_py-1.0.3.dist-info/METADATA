Metadata-Version: 2.4
Name: rat-engine-py
Version: 1.0.3
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
Classifier: Programming Language :: Rust
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
Classifier: Operating System :: OS Independent
Summary: Python bindings for RAT Engine - é«˜æ€§èƒ½HTTPæœåŠ¡å™¨å¼•æ“ï¼Œæä¾›Flaské£æ ¼çš„APIå’Œè‡ªåŠ¨ç¡¬ä»¶ä¼˜åŒ–åŠŸèƒ½
Keywords: http,server,web,async,performance,flask,grpc,rust,high-performance
Author-email: 0ldm0s <oldmos@gmail.com>
Requires-Python: >=3.11
Description-Content-Type: text/markdown; charset=UTF-8; variant=GFM
Project-URL: Homepage, https://github.com/0ldm0s/rat_engine
Project-URL: Repository, https://github.com/0ldm0s/rat_engine
Project-URL: Documentation, https://docs.rs/rat_engine/latest/rat_engine/
Project-URL: Bug Tracker, https://github.com/0ldm0s/rat_engine/issues

# RAT Engine Python

**é«˜æ€§èƒ½ Rust + Python Web æ¡†æ¶**

RAT Engine æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„ Web æ¡†æ¶ï¼Œå°† Rust çš„æè‡´æ€§èƒ½ä¸ Python çš„å¼€å‘ä¾¿åˆ©æ€§å®Œç¾ç»“åˆã€‚é€šè¿‡å·¥ä½œçªƒå–è°ƒåº¦å™¨ã€é›¶æ‹·è´ç½‘ç»œ I/O å’Œå†…å­˜æ± ç®¡ç†ï¼Œå®ç°äº†å‰æ‰€æœªæœ‰çš„æ€§èƒ½è¡¨ç°ã€‚

## âœ¨ ç‰¹æ€§

### ğŸŒ HTTP æ¡†æ¶
- ğŸš€ **æè‡´æ€§èƒ½**: åŸºäºRustçš„é›¶æˆæœ¬æŠ½è±¡å’Œå†…å­˜å®‰å…¨
- ğŸ **Webåº”ç”¨å…¼å®¹**: 100%å…¼å®¹Webåº”ç”¨APIï¼Œæ— ç¼è¿ç§»
- âš¡ **å¼‚æ­¥æ”¯æŒ**: å†…ç½®é«˜æ€§èƒ½å¼‚æ­¥å¤„ç†
- ğŸ”§ **æ˜“äºä½¿ç”¨**: ç†Ÿæ‚‰çš„Python APIï¼Œå­¦ä¹ æˆæœ¬ä½
- ğŸ›¡ï¸ **å†…å­˜å®‰å…¨**: Rustä¿è¯çš„å†…å­˜å®‰å…¨å’Œå¹¶å‘å®‰å…¨
- ğŸ“¡ **SSE æµå¼å“åº”**: å®Œæ•´çš„ Server-Sent Events æ”¯æŒ
- ğŸ“¦ **åˆ†å—ä¼ è¾“**: é«˜æ•ˆçš„å¤§æ–‡ä»¶å’Œå®æ—¶æ•°æ®ä¼ è¾“

### âš¡ QuickMem ç¼–è§£ç  (æ–°é›†æˆ)
- ğŸƒ **è¶…é«˜æ€§èƒ½**: æ¯” JSON å¿« 2-10xï¼Œä½“ç§¯å‡å°‘ 20-50%
- ğŸ”’ **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ Python ç±»å‹æ”¯æŒ
- ğŸ“¦ **æ‰¹é‡æ“ä½œ**: é«˜æ•ˆçš„æ‰¹é‡ç¼–è§£ç å¤„ç†
- ğŸ§  **å†…å­˜ä¼˜åŒ–**: æ™ºèƒ½å†…å­˜æ± ç®¡ç†
- ğŸš€ **SIMD åŠ é€Ÿ**: ç¡¬ä»¶çº§æ€§èƒ½ä¼˜åŒ–
- ğŸ”„ **æ— ç¼é›†æˆ**: ä¸ HTTP æ¡†æ¶å®Œç¾ç»“åˆ

### ğŸ¯ æ€§èƒ½ä¼˜åŒ–
- ğŸ§  **mimalloc**: Microsoft é«˜æ€§èƒ½å†…å­˜åˆ†é…å™¨
- ğŸ”— **CPU äº²å’Œæ€§**: è‡ªåŠ¨ç»‘å®š CPU æ ¸å¿ƒä¼˜åŒ–
- ğŸ“Š **å¤šçº¿ç¨‹**: åŸºäº CPU æ ¸å¿ƒæ•°è‡ªåŠ¨é…ç½®å·¥ä½œçº¿ç¨‹
- ğŸ’¾ **å†…å­˜æ± **: æ™ºèƒ½å†…å­˜ç®¡ç†å’Œå¤ç”¨

## ğŸ“¦ å®‰è£…

### å¼€å‘æ¨¡å¼å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/rat-engine/rat-engine.git
cd rat-engine/rat_engine/python

# å¼€å‘æ¨¡å¼å®‰è£…ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
make dev
```

### ç”Ÿäº§ç¯å¢ƒå®‰è£…

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
make build

# å®‰è£…æ„å»ºçš„ wheel åŒ…
pip install dist/rat_engine_py-*.whl
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ Web æœåŠ¡å™¨

```python
from rat_engine import WebApp

app = WebApp()

@app.route("/")
def hello():
    return "Hello, RAT Engine!"

@app.route("/api/data")
def get_data():
    return {"message": "Hello from RAT Engine", "status": "success"}

if __name__ == "__main__":
    app.run("127.0.0.1", 3000)
```

### ğŸ“¡ SSE æµå¼å“åº” (æ–°åŠŸèƒ½)

#### æ–‡æœ¬æµå“åº”

```python
from rat_engine import WebApp

app = WebApp()

# æ”¯æŒå­—ç¬¦ä¸²è¿”å›
@app.sse_text
def text_stream_string():
    return "ç¬¬ä¸€è¡Œ\nç¬¬äºŒè¡Œ\nç¬¬ä¸‰è¡Œ"

# æ”¯æŒåˆ—è¡¨è¿”å›ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰
@app.sse_text
def text_stream_list():
    return [
        "ç¬¬ä¸€è¡Œæ–‡æœ¬",
        "ç¬¬äºŒè¡Œæ–‡æœ¬",
        "ç¬¬ä¸‰è¡Œæ–‡æœ¬",
        "æœ€åä¸€è¡Œæ–‡æœ¬"
    ]

app.run("127.0.0.1", 3000)
```

#### JSON æµå“åº”

```python
import time

@app.sse_json
def json_stream():
    for i in range(5):
        yield {"count": i, "timestamp": time.time(), "message": f"æ•°æ® {i}"}
        time.sleep(1)
```

#### é€šç”¨ SSE å“åº”

```python
@app.sse
def custom_stream():
    for i in range(10):
        yield f"data: è‡ªå®šä¹‰æ¶ˆæ¯ {i}\n\n"
        time.sleep(0.5)
```

### ğŸ“¦ åˆ†å—ä¼ è¾“

```python
@app.chunk
def large_data():
    # é€‚ç”¨äºå¤§æ–‡ä»¶æˆ–å®æ—¶æ•°æ®ä¼ è¾“
    for chunk in generate_large_data():
        yield chunk
```

### ğŸ”§ é«˜çº§ç”¨æ³•

#### è¯·æ±‚å¤„ç†

```python
@app.route("/api/user", methods=["POST"])
def create_user(request):
    # è·å–è¯·æ±‚æ•°æ®
    data = request.json()  # JSON æ•°æ®
    form_data = request.form()  # è¡¨å•æ•°æ®
    query = request.query()  # æŸ¥è¯¢å‚æ•°
    headers = request.headers()  # è¯·æ±‚å¤´
    
    return {"status": "created", "data": data}
```

#### å“åº”ç±»å‹

```python
from rat_engine import HttpResponse

@app.route("/custom")
def custom_response():
    # æ–‡æœ¬å“åº”
    return HttpResponse.text("Hello World")
    
    # JSON å“åº”
    return HttpResponse.json({"key": "value"})
    
    # HTML å“åº”
    return HttpResponse.html("<h1>Hello</h1>")
    
    # SSE å“åº”
    return HttpResponse.sse_text("å®æ—¶æ–‡æœ¬æ•°æ®")
    
    # é‡å®šå‘
    return HttpResponse.redirect("/new-path")
    
    # é”™è¯¯å“åº”
    return HttpResponse.error(404, "Not Found")
```

## ğŸ”§ å¼€å‘å·¥å…·

### Makefile å‘½ä»¤

```bash
# å¼€å‘ç¯å¢ƒå®‰è£…
make dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
make build

# è¿è¡Œæµ‹è¯•
make test

# æ¸…ç†æ„å»ºæ–‡ä»¶
make clean

# æ ¼å¼åŒ–ä»£ç 
make format

# ä»£ç æ£€æŸ¥
make lint
```

### è°ƒè¯•å’Œæ—¥å¿—

```python
# å¯ç”¨è¯¦ç»†æ—¥å¿—
app.run("127.0.0.1", 3000, debug=True)

# æ€§èƒ½ç›‘æ§
app.run("127.0.0.1", 3000, metrics=True)
```

## ğŸ§ª å®Œæ•´ç¤ºä¾‹

æŸ¥çœ‹ `examples/streaming_demo.py` è·å–å®Œæ•´çš„åŠŸèƒ½æ¼”ç¤ºï¼š

```bash
cd examples
python streaming_demo.py
```

æ¼”ç¤ºåŒ…å«ï¼š
- ğŸ“¡ SSE æ–‡æœ¬æµå’Œ JSON æµ
- ğŸ“¦ åˆ†å—ä¼ è¾“
- ğŸ” è¯·æ±‚å¤´ä¿¡æ¯æµ‹è¯•
- ğŸ“Š æ€§èƒ½ç›‘æ§
- ğŸ§ª è‡ªåŠ¨åŒ–æµ‹è¯•

è®¿é—® http://127.0.0.1:3000 æŸ¥çœ‹äº¤äº’å¼æ¼”ç¤ºé¡µé¢ã€‚

## ğŸ“Š æ€§èƒ½åŸºå‡†

### å†…å­˜ä¼˜åŒ–
- **mimalloc**: Microsoft é«˜æ€§èƒ½å†…å­˜åˆ†é…å™¨
- **é›¶æ‹·è´**: ä¸ RAT QuickMem é›†æˆ
- **CPU äº²å’Œæ€§**: è‡ªåŠ¨ç»‘å®š CPU æ ¸å¿ƒ
- **å†…å­˜æ± **: æ™ºèƒ½å†…å­˜ç®¡ç†å’Œå¤ç”¨

### å¹¶å‘å¤„ç†
- **å¤šçº¿ç¨‹**: åŸºäº CPU æ ¸å¿ƒæ•°è‡ªåŠ¨é…ç½®å·¥ä½œçº¿ç¨‹
- **å¼‚æ­¥ I/O**: Tokio å¼‚æ­¥è¿è¡Œæ—¶
- **è¿æ¥æ± **: è‡ªåŠ¨ç®¡ç†è¿æ¥èµ„æº
- **å·¥ä½œçªƒå–**: é«˜æ•ˆçš„ä»»åŠ¡è°ƒåº¦

## ğŸ”— ç”Ÿæ€ç³»ç»Ÿ

RAT Engine æ˜¯ RAT ç”Ÿæ€ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼š

- **RAT QuickMem**: é«˜æ€§èƒ½å†…å­˜ç®¡ç†å’Œé›¶æ‹·è´ä¼ è¾“
- **RAT PM**: è¿›ç¨‹ç®¡ç†å’Œç›‘æ§
- **Zerg Creep**: ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿ
- **Zerg Hive**: åˆ†å¸ƒå¼æœåŠ¡ç½‘æ ¼

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.2.1 (æœ€æ–°)
- âœ… **SSE å¢å¼º**: `@sse_text` è£…é¥°å™¨æ”¯æŒåˆ—è¡¨å’Œå­—ç¬¦ä¸²è¿”å›å€¼
- âœ… **ç±»å‹å¤„ç†**: ä¼˜åŒ– SSE å“åº”ç±»å‹è‡ªåŠ¨è½¬æ¢
- âœ… **æ€§èƒ½ä¼˜åŒ–**: æ”¹è¿›å†…å­˜åˆ†é…å’Œ CPU äº²å’Œæ€§
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- âœ… **å¼€å‘ä½“éªŒ**: å¢å¼ºè°ƒè¯•ä¿¡æ¯å’Œè‡ªåŠ¨æµ‹è¯•

### v0.2.0
- ğŸ‰ é¦–ä¸ªç¨³å®šç‰ˆæœ¬å‘å¸ƒ
- ğŸš€ å®Œæ•´çš„ SSE å’Œåˆ†å—ä¼ è¾“æ”¯æŒ
- ğŸ”§ å¼€å‘å·¥å…·é“¾å®Œå–„
- ğŸ“¦ QuickMem é›†æˆ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd rat_engine/python

# è®¾ç½®å¼€å‘ç¯å¢ƒ
make dev

# è¿è¡Œæµ‹è¯•
make test
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

**RAT Engine** - è®© Python Web å¼€å‘æ‹¥æœ‰ Rust çš„æ€§èƒ½ ğŸš€

*"Performance meets Productivity"*
