<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="report_shipment_tag" model="ir.actions.report">
        <field name="name">Shipment Tag</field>
        <field name="model">contract.line</field>
        <field name="report_name">ladirecta.shipment_tag_template</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_file">ladirecta.shipment_tag_template</field>
        <field name="print_report_name">'Shipment Tag'</field>
        <field name="paperformat_id" ref="product.paperformat_label_sheet" />
    </record>

    <template id="shipment_tag_template">
        <t t-call="web.basic_layout">
            <div
                class="page"
                style="display: flex; flex-wrap: wrap; page-break-inside: avoid;"
            >
                <t t-foreach="docs" t-as="line">
                    <t
                        t-value="line.contract_id.get_delivery_partner_id()"
                        t-set="partner"
                    />
                    <div
                        class="label"
                        style="width:100mm; height:74mm; margin:0mm; border:0px solid #ddd; box-sizing:border-box; display:inline-block; vertical-align:top;"
                    >
                        <div style="padding:25px;">
                            <p style="margin:3; font-size:12px;">
                                <strong><span t-esc="partner.name" /></strong><br />
                                <span t-esc="partner.street" /><br />
                                <span t-esc="partner.zip" />, <span
                                    t-esc="partner.city"
                                /><br />
                                <span t-esc="partner.state_id.name" />
                                <span
                                    t-if="partner.country_id and partner.state_id"
                                >, </span>
                                <span t-esc="partner.country_id.name" />
                            </p>
                            <img
                                t-att-src="image_data_uri(partner.get_correos_image())"
                                style="width:auto; height:auto; max-height:20mm;"
                            />
                        </div>
                    </div>
                </t>
            </div>
        </t>
    </template>
</odoo>
