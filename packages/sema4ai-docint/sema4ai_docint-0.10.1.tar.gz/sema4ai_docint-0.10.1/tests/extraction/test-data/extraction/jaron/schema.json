{
  "type": "object",
  "properties": {
    "invoice_info": {
      "type": "object",
      "properties": {
        "invoice_number": {
          "type": "string"
        },
        "invoice_date": {
          "type": "string",
          "format": "date"
        },
        "payment_due_date": {
          "type": "string",
          "format": "date"
        },
        "payee": {
          "type": "string"
        },
        "payer": {
          "type": "string"
        }
      }
    },
    "bank_info": {
      "type": "object",
      "properties": {
        "bank_name": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "routing_number": {
          "type": "string"
        },
        "account_name": {
          "type": "string"
        },
        "account_number": {
          "type": "string"
        }
      }
    },
    "line_items": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "deal_number": {
            "type": "string",
            "description": "Unique identifier of the transaction, it is present before each transaction line item (e.g. from 'Our Trade ID : SDBB4QN33344S3HDRL.0.0.0-2-1-1' extract 'SDBB4QN33344S3HDRL.0.0.0-2-1-1')"
          },
          "gas_day": {
            "type": "string",
            "format": "date",
            "description": "Gas day is present before each transaction line item (e.g. from 'Trade Date : 23 JAN 2025' extract '2025-01-23')"
          },
          "pipeline": {
            "type": "string",
            "description": "The pipeline name of the transaction. Present in the Pipeline column. Extract only the pipeline name excluding the suffix (e.g., from 'ANR US Pipe', extract 'ANR US')"
          },
          "location": {
            "type": "string",
            "description": "The location of the transaction. It is present in Location column, it may span multiple lines with hyphens; extract the complete location string including full names"
          },
          "volume": {
            "type": "number",
            "description": "The volume of the transaction. It is present in Quantity column"
          },
          "price": {
            "type": "number",
            "description": "The price per unit involved in the transaction. Mentioned in the 'Price' column"
          },
          "tax": {
            "type": "number",
            "description": "The tax amount of the transaction. It is present in Tax column"
          },
          "type": {
            "type": "string",
            "description": "It is present in Type column, e.g Firm"
          },
          "amount": {
            "type": "number",
            "description": "The monetary amount involved in the transaction. Take this amount as negative if enclosed within parentheses."
          }
        },
        "required": [
          "deal_number",
          "gas_day",
          "pipeline",
          "location",
          "volume",
          "amount",
          "price",
          "tax",
          "type"
        ]
      },
      "description": "be sure to process all rows, especially those split across page breaks"
    },
    "invoice_total": {
      "type": "number",
      "description": "Total amount of the invoice, it is in the bottom of the document. If followed by something like 'THEREFORE, WE PAY TO YOU USD', take the value as negative. If followed by something like 'THEREFORE, YOU PAY TO US USD', take the value as positive."
    }
  },
  "required": [
    "line_items",
    "invoice_total"
  ]
}
