Metadata-Version: 2.4
Name: core-system-grpc
Version: 0.8.2
Summary: Core System gRPC Package - Python Proto Specifications and Client Libraries
Project-URL: Repository, https://github.com/SaladLabInc/core-system-grpc
Project-URL: Issues, https://github.com/SaladLabInc/core-system-grpc/issues
Author-email: Core System Team <info@alph.kr>
License: Closed Source
Requires-Python: >=3.11
Requires-Dist: grpcio>=1.74.0
Requires-Dist: protobuf>=4.21.0
Provides-Extra: dev
Requires-Dist: grpcio-tools>=1.74.0; extra == 'dev'
Requires-Dist: mypy-protobuf>=3.4.0; extra == 'dev'
Description-Content-Type: text/markdown

# Core System gRPC Package

ì´ íŒ¨í‚¤ì§€ëŠ” Saladlab Core Systemì˜ gRPC í”„ë¡œí†  íŒŒì¼ë¡œ ìƒì„±ëœ ì„œë²„ì™€ ìŠ¤í…ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜ (grpcio-tools í¬í•¨)
make install-deps

# ê¸°ì¡´ íŒŒì¼ ì •ë¦¬ (ì¤‘ìš”!)
make clean

# proto íŒŒì¼ ì»´íŒŒì¼ (ë¡œì»¬ì—ì„œ ìˆ˜ë™ ì‹¤í–‰)
make compile-proto

# íŒ¨í‚¤ì§€ ë¹Œë“œ
make build-package

# ë¡œì»¬ í…ŒìŠ¤íŠ¸
make test-local
```

## ğŸ“‹ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Python 3.11+
- uv (Python íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €)
- Protocol Buffer ì»´íŒŒì¼ëŸ¬ (grpcio-tools)

## ğŸ› ï¸ ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
make install-deps
```

ì´ ëª…ë ¹ì–´ëŠ” ë‹¤ìŒì„ ì„¤ì¹˜í•©ë‹ˆë‹¤:
- `grpcio-tools`: Protocol Buffer ì»´íŒŒì¼ëŸ¬
- `hatch`: Python íŒ¨í‚¤ì§€ ë¹Œë“œ ë„êµ¬
- ê¸°íƒ€ ê°œë°œ ì˜ì¡´ì„±

### 2. ë¡œì»¬ ê°œë°œ
```bash
# proto íŒŒì¼ ìˆ˜ì • í›„
make compile-proto    # proto â†’ Python ì»´íŒŒì¼ (import ìˆ˜ì • í¬í•¨)
make build-package    # íŒ¨í‚¤ì§€ ë¹Œë“œ
```

## ğŸ“¦ ë¹Œë“œ ì‹œìŠ¤í…œ

### ì£¼ìš” Makefile íƒ€ê²Ÿ

| íƒ€ê²Ÿ | ì„¤ëª… |
|------|------|
| `help` | ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  íƒ€ê²Ÿ í‘œì‹œ |
| `install-deps` | ì˜ì¡´ì„± ì„¤ì¹˜ (grpcio-tools í¬í•¨) |
| `compile-proto` | proto íŒŒì¼ì„ Pythonìœ¼ë¡œ ì»´íŒŒì¼ (import ìˆ˜ì • í¬í•¨) |
| `build-package` | hatchë¡œ íŒ¨í‚¤ì§€ ë¹Œë“œ |
| `publish-pypi` | PyPIì— ë°°í¬ |
| `clean` | ë¹Œë“œ ì•„í‹°íŒ©íŠ¸ ì •ë¦¬ |
| `clean-all` | ë¹Œë“œ ì•„í‹°íŒ©íŠ¸ ë° ì»´íŒŒì¼ëœ íŒŒì¼ ì •ë¦¬ |

### ë¹Œë“œ í”„ë¡œì„¸ìŠ¤

```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
make install-deps

# 2. ê¸°ì¡´ íŒŒì¼ ì •ë¦¬
make clean

# 3. proto íŒŒì¼ ì»´íŒŒì¼ (ë¡œì»¬ì—ì„œ ìˆ˜ë™ ì‹¤í–‰)
make compile-proto

# 4. íŒ¨í‚¤ì§€ ë¹Œë“œ
make build-package
```

**ì¤‘ìš”**: `compile-proto`ëŠ” ë‹¤ìŒì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤:
1. proto íŒŒì¼ì„ Pythonìœ¼ë¡œ ì»´íŒŒì¼
2. `__init__.py` íŒŒì¼ ìƒì„±
3. import ê²½ë¡œ ìë™ ìˆ˜ì •

## ğŸ§ª ë¡œì»¬ í…ŒìŠ¤íŠ¸

### íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° í…ŒìŠ¤íŠ¸
```bash
# ê°œë°œ ëª¨ë“œë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
make test-local

# ìˆ˜ë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
python -c "import core_system_grpc; print('Import successful!')"
```

### ê°œë³„ ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸
```bash
# proto ì»´íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸
make compile-proto

# íŒ¨í‚¤ì§€ ë¹Œë“œë§Œ í…ŒìŠ¤íŠ¸
make build-package
```

## ğŸš€ ë°°í¬

### ë¡œì»¬ì—ì„œ ë°°í¬ ì¤€ë¹„
```bash
# 1. ê¸°ì¡´ ì»´íŒŒì¼ëœ íŒŒì¼ ì •ë¦¬ (ì¤‘ìš”!)
make clean

# 2. proto íŒŒì¼ ì»´íŒŒì¼ (ë¡œì»¬ì—ì„œ ìˆ˜ë™ ì‹¤í–‰)
make compile-proto

# 3. íŒ¨í‚¤ì§€ ë¹Œë“œ
make build-package

# 4. ì»¤ë°‹ ë° í‘¸ì‹œ
git add .
git commit -m "feat: commit message"
git push origin main

# 5. ë²„ì „ íƒœê·¸ ìƒì„± ë° í‘¸ì‹œ
git tag v1.0.0
git push origin v1.0.0
```

> **ğŸ§¹ ì¤‘ìš”**: `make clean`ì€ ê¸°ì¡´ì— ì»´íŒŒì¼ëœ Python íŒŒì¼ë“¤ì„ ëª¨ë‘ ì‚­ì œí•©ë‹ˆë‹¤.
> ì´ëŠ” ì´ì „ ë¹Œë“œì˜ ì”ì—¬ íŒŒì¼ë¡œ ì¸í•œ import ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.

### CI/CD ë°°í¬
GitHub Actionsê°€ ìë™ìœ¼ë¡œ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
1. **Makefile ê²€ì¦**: Makefile ì¡´ì¬ í™•ì¸
2. **íŒ¨í‚¤ì§€ ë¹Œë“œ**: `make build-package`ë¡œ ìµœì¢… íŒ¨í‚¤ì§€ ë¹Œë“œ
3. **PyPI ë°°í¬**: ê²€ì¦ëœ íŒ¨í‚¤ì§€ë¥¼ PyPIì— ì—…ë¡œë“œ
4. **ë°°í¬ ê²€ì¦**: PyPIì—ì„œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ê°€ëŠ¥ì„± í™•ì¸

**íŠ¸ë¦¬ê±° ì¡°ê±´**:
- `v*` íƒœê·¸ í‘¸ì‹œ ì‹œ ìë™ ë°°í¬
- GitHub Actions ì›Œí¬í”Œë¡œìš° ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥

**CI/CD ì›Œí¬í”Œë¡œìš° ë‹¨ê³„**:
1. **í™˜ê²½ ì„¤ì •**: Python 3.11, pip ì—…ê·¸ë ˆì´ë“œ
2. **ì˜ì¡´ì„± ì„¤ì¹˜**: hatch, twine, wheel ì„¤ì¹˜
3. **Makefile ê²€ì¦**: Makefile ì¡´ì¬ í™•ì¸
4. **íŒ¨í‚¤ì§€ ë¹Œë“œ**: `make build-package` ì‹¤í–‰
5. **PyPI ë°°í¬**: twineìœ¼ë¡œ íŒ¨í‚¤ì§€ ì—…ë¡œë“œ
6. **ë°°í¬ ê²€ì¦**: PyPIì—ì„œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ í…ŒìŠ¤íŠ¸

> **âš ï¸ ì¤‘ìš”**: CI/CDì—ì„œëŠ” proto ì»´íŒŒì¼ì„ ìˆ˜í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
> ë°˜ë“œì‹œ ë¡œì»¬ì—ì„œ `make compile-proto`ë¥¼ ì‹¤í–‰í•œ í›„ ì»¤ë°‹í•´ì•¼ í•©ë‹ˆë‹¤.

## ğŸ”§ ë¬¸ì œ í•´ê²°

### Import ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°
```bash
# proto ì»´íŒŒì¼ ì¬ì‹¤í–‰ (import ìˆ˜ì • í¬í•¨)
make compile-proto

# ì „ì²´ ì¬ë¹Œë“œ
make clean
make compile-proto
make build-package
```

### proto íŒŒì¼ ìˆ˜ì • í›„
```bash
# proto íŒŒì¼ì´ ìˆ˜ì •ëœ ê²½ìš° ë°˜ë“œì‹œ ì‹¤í–‰
make clean
make compile-proto
make build-package
```

### ë¹Œë“œ ì‹¤íŒ¨ ì‹œ
```bash
# ì™„ì „ ì •ë¦¬ í›„ ì¬ì‹œë„
make clean
make compile-proto
make build-package
```

### ê¸°ì¡´ íŒŒì¼ë¡œ ì¸í•œ import ì¶©ëŒ ì‹œ
```bash
# ê¸°ì¡´ ì»´íŒŒì¼ëœ íŒŒì¼ë“¤ì„ ì™„ì „íˆ ì •ë¦¬
make clean-all

# core_system_grpc ë””ë ‰í† ë¦¬ í™•ì¸
ls -la core_system_grpc/

# í•„ìš”ì‹œ ìˆ˜ë™ìœ¼ë¡œ Python íŒŒì¼ë“¤ ì‚­ì œ
rm -rf core_system_grpc/messages/*.py
rm -rf core_system_grpc/services/*.py

# ì „ì²´ ì¬ë¹Œë“œ
make compile-proto
make build-package
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
core-system-grpc/
â”œâ”€â”€ proto/                    # Protocol Buffer ì •ì˜ íŒŒì¼
â”‚   â”œâ”€â”€ messages/            # ë©”ì‹œì§€ ì •ì˜
â”‚   â””â”€â”€ services/            # ì„œë¹„ìŠ¤ ì •ì˜
â”œâ”€â”€ core_system_grpc/        # ìƒì„±ëœ Python ì½”ë“œ
â”œâ”€â”€ functions/               # python ì†ŒìŠ¤ì½”ë“œ
â”œâ”€â”€ scripts/                 # ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .github/workflows/       # CI/CD ì›Œí¬í”Œë¡œìš°
â”œâ”€â”€ Makefile                 # ë¹Œë“œ ì‹œìŠ¤í…œ
â”œâ”€â”€ pyproject.toml          # í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ README.md               # ì´ íŒŒì¼
```

## ğŸ“ ë²„ì „ ê´€ë¦¬

ì´ íŒ¨í‚¤ì§€ëŠ” ì‹œë©˜í‹± ë²„ì €ë‹ì„ ë”°ë¦…ë‹ˆë‹¤:
- **Major**: Breaking changes
- **Minor**: ìƒˆë¡œìš´ ì„œë¹„ìŠ¤/ë©”ì‹œì§€ ì¶”ê°€
- **Patch**: ë²„ê·¸ ìˆ˜ì •, ë¬¸ì„œ ì—…ë°ì´íŠ¸

## ğŸ”’ ë¼ì´ì„ ìŠ¤

Closed Source - ì‚¬ë‚´ ì „ìš© ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

## ğŸ“‹ ì›Œí¬í”Œë¡œìš° ìš”ì•½

### ê°œë°œì ì›Œí¬í”Œë¡œìš°
1. **proto íŒŒì¼ ìˆ˜ì •** â†’ ë¡œì»¬ì—ì„œ `make compile-proto` ì‹¤í–‰
2. **ì»¤ë°‹ ë° í‘¸ì‹œ** â†’ ì»´íŒŒì¼ëœ Python íŒŒì¼ í¬í•¨í•˜ì—¬ ì»¤ë°‹
3. **íƒœê·¸ ìƒì„±** â†’ `git tag v1.0.0 && git push origin v1.0.0`
4. **ìë™ ë°°í¬** â†’ GitHub Actionsê°€ PyPIì— ìë™ ë°°í¬

### í•µì‹¬ í¬ì¸íŠ¸
- âœ… **ë¡œì»¬ ì»´íŒŒì¼**: proto â†’ Python ë³€í™˜ì€ ë¡œì»¬ì—ì„œë§Œ ìˆ˜í–‰
- âœ… **CI/CD ë¹Œë“œ**: GitHub ActionsëŠ” íŒ¨í‚¤ì§€ ë¹Œë“œë§Œ ìˆ˜í–‰
- âœ… **ìë™ ë°°í¬**: íƒœê·¸ í‘¸ì‹œ ì‹œ PyPI ìë™ ë°°í¬
- âœ… **ë°°í¬ ê²€ì¦**: PyPIì—ì„œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ê°€ëŠ¥ì„± ìë™ í™•ì¸

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ Core System Teamì— ë¬¸ì˜í•˜ì„¸ìš”.
