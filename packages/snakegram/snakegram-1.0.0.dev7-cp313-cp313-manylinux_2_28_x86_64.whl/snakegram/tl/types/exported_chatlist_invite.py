
#                     !!! WARNING !!!
#             This is an auto-generated file!
#                 Generated by [Builder].
# Any manual modifications will be lost upon regeneration.
#             DO NOT EDIT THIS FILE DIRECTLY.

from typing import List, TYPE_CHECKING
from ...gadgets.tlobject import TLObject
from ...gadgets.byteutils import Writer


if TYPE_CHECKING:
    from .peer import TypePeer
    from ...gadgets.byteutils import Reader


class ExportedChatlistInvite(TLObject, family='TypeExportedChatlistInvite'):
    """
    Exported [chat folder deep link](https://core.telegram.org/api/links#chat-folder-links).
    """

    _id = 0XC5181AC
    _group_id = 0XD53D8947

    def __init__(
        self,
        title: str,
        url: str,
        peers: List['TypePeer']
    ):

        """
        Exported [chat folder deep link](https://core.telegram.org/api/links#chat-folder-links).

        Args:
            title (str): Name of the link
            url (str): The [chat folder deep link](https://core.telegram.org/api/links#chat-folder-links).
            peers (List['TypePeer']): Peers to import
        """

        self.title = title
        self.url = url
        self.peers = peers

    def to_bytes(self, boxed: bool=True):
        with Writer(b'\xac\x81Q\x0c' if boxed else b'') as writer:
            with writer.flag() as flags:
                writer.string(self.title)
                writer.string(self.url)
                writer.vector(
                    self.peers,
                    lambda value: writer.object(
                        value,
                        group_id=0XB4DECBCA
                    )
                )

            return writer.getvalue()

    @classmethod
    def from_reader(cls, reader: 'Reader'):
        flags = reader.flag()
        title_ = reader.string()
        url_ = reader.string()
        peers_ = reader.vector(
            lambda: reader.object(
                group_id=0XB4DECBCA
            )
        )

        return cls(
            title=title_,
            url=url_,
            peers=peers_
        )

TypeExportedChatlistInvite = ExportedChatlistInvite