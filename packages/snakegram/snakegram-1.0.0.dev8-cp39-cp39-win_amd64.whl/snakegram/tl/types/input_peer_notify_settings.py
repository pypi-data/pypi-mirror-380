
#                     !!! WARNING !!!
#             This is an auto-generated file!
#                 Generated by [Builder].
# Any manual modifications will be lost upon regeneration.
#             DO NOT EDIT THIS FILE DIRECTLY.

from typing import Optional, TYPE_CHECKING
from ...gadgets.tlobject import TLObject
from ...gadgets.byteutils import Writer


if TYPE_CHECKING:
    from .notification_sound import TypeNotificationSound
    from ...gadgets.byteutils import Reader


class InputPeerNotifySettings(TLObject, family='TypeInputPeerNotifySettings'):
    """
    Notification settings.
    """

    _id = 0XCACB6AE2
    _group_id = 0X55C31CC2

    def __init__(
        self,
        show_previews: bool = False,
        silent: bool = False,
        mute_until: Optional[int] = None,
        sound: Optional['TypeNotificationSound'] = None,
        stories_muted: bool = False,
        stories_hide_sender: bool = False,
        stories_sound: Optional['TypeNotificationSound'] = None
    ):

        """
        Notification settings.

        Args:
            show_previews (bool, optional): If the text of the message shall be displayed in notification
            silent (bool, optional): Peer was muted?
            mute_until (Optional[int], optional): Date until which all notifications shall be switched off
            sound (Optional['TypeNotificationSound'], optional): Identifier of an audio file to play for notifications.
            stories_muted (bool, optional): Whether story notifications should be disabled.
            stories_hide_sender (bool, optional): Whether the sender name should be displayed in story notifications.
            stories_sound (Optional['TypeNotificationSound'], optional): Identifier of an audio file to play for story notifications.
        """

        self.show_previews = show_previews
        self.silent = silent
        self.mute_until = mute_until
        self.sound = sound
        self.stories_muted = stories_muted
        self.stories_hide_sender = stories_hide_sender
        self.stories_sound = stories_sound

    def to_bytes(self, boxed: bool=True):
        with Writer(b'\xe2j\xcb\xca' if boxed else b'') as writer:
            with writer.flag() as flags:

                if flags(self.show_previews, 0):
                    writer.object(
                        self.show_previews,
                        group_id=0X43B904E1
                    )

                if flags(self.silent, 1):
                    writer.object(
                        self.silent,
                        group_id=0X43B904E1
                    )

                if flags(self.mute_until, 2):
                    writer.int(self.mute_until)

                if flags(self.sound, 3):
                    writer.object(
                        self.sound,
                        group_id=0X9B633486
                    )

                if flags(self.stories_muted, 6):
                    writer.object(
                        self.stories_muted,
                        group_id=0X43B904E1
                    )

                if flags(self.stories_hide_sender, 7):
                    writer.object(
                        self.stories_hide_sender,
                        group_id=0X43B904E1
                    )

                if flags(self.stories_sound, 8):
                    writer.object(
                        self.stories_sound,
                        group_id=0X9B633486
                    )

            return writer.getvalue()

    @classmethod
    def from_reader(cls, reader: 'Reader'):
        flags = reader.flag()
        show_previews_ = (
            reader.object(
                group_id=0X43B904E1
            )
            if flags(0) else None
        )

        silent_ = (
            reader.object(
                group_id=0X43B904E1
            )
            if flags(1) else None
        )

        mute_until_ = (
            reader.int()
            if flags(2) else None
        )

        sound_ = (
            reader.object(
                group_id=0X9B633486
            )
            if flags(3) else None
        )

        stories_muted_ = (
            reader.object(
                group_id=0X43B904E1
            )
            if flags(6) else None
        )

        stories_hide_sender_ = (
            reader.object(
                group_id=0X43B904E1
            )
            if flags(7) else None
        )

        stories_sound_ = (
            reader.object(
                group_id=0X9B633486
            )
            if flags(8) else None
        )

        return cls(
            show_previews=show_previews_,
            silent=silent_,
            mute_until=mute_until_,
            sound=sound_,
            stories_muted=stories_muted_,
            stories_hide_sender=stories_hide_sender_,
            stories_sound=stories_sound_
        )

TypeInputPeerNotifySettings = InputPeerNotifySettings