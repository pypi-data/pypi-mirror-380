
#                     !!! WARNING !!!
#             This is an auto-generated file!
#                 Generated by [Builder].
# Any manual modifications will be lost upon regeneration.
#             DO NOT EDIT THIS FILE DIRECTLY.

from typing import TYPE_CHECKING, Optional
from ...gadgets.tlobject import TLObject
from ...gadgets.byteutils import Writer


if TYPE_CHECKING:
    from ...gadgets.byteutils import Reader


class StarsRating(TLObject, family='TypeStarsRating'):
    _id = 0X1B0E4F07
    _group_id = 0X95FE7CE3

    def __init__(
        self,
        level: int,
        current_level_stars: int,
        stars: int,
        next_level_stars: Optional[int] = None
    ):

        self.level = level
        self.current_level_stars = current_level_stars
        self.stars = stars
        self.next_level_stars = next_level_stars

    def to_bytes(self, boxed: bool=True):
        with Writer(b'\x07O\x0e\x1b' if boxed else b'') as writer:
            with writer.flag() as flags:
                writer.int(self.level)
                writer.long(self.current_level_stars)
                writer.long(self.stars)

                if flags(self.next_level_stars, 0):
                    writer.long(self.next_level_stars)

            return writer.getvalue()

    @classmethod
    def from_reader(cls, reader: 'Reader'):
        flags = reader.flag()
        level_ = reader.int()
        current_level_stars_ = reader.long()
        stars_ = reader.long()
        next_level_stars_ = (
            reader.long()
            if flags(0) else None
        )

        return cls(
            level=level_,
            current_level_stars=current_level_stars_,
            stars=stars_,
            next_level_stars=next_level_stars_
        )

TypeStarsRating = StarsRating