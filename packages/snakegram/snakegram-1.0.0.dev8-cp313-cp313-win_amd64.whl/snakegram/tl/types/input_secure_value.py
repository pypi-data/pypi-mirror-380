
#                     !!! WARNING !!!
#             This is an auto-generated file!
#                 Generated by [Builder].
# Any manual modifications will be lost upon regeneration.
#             DO NOT EDIT THIS FILE DIRECTLY.

from typing import List, Optional, TYPE_CHECKING
from ...gadgets.tlobject import TLObject
from ...gadgets.byteutils import Writer


if TYPE_CHECKING:
    from .secure_data import TypeSecureData
    from .secure_value_type import TypeSecureValueType
    from .input_secure_file import TypeInputSecureFile
    from .secure_plain_data import TypeSecurePlainData
    from ...gadgets.byteutils import Reader


class InputSecureValue(TLObject, family='TypeInputSecureValue'):
    """
    Secure value, [for more info see the passport docs](https://core.telegram.org/passport/encryption#encryption)
    """

    _id = 0XDB21D0A7
    _group_id = 0X248E826F

    def __init__(
        self,
        type: 'TypeSecureValueType',
        data: Optional['TypeSecureData'] = None,
        front_side: Optional['TypeInputSecureFile'] = None,
        reverse_side: Optional['TypeInputSecureFile'] = None,
        selfie: Optional['TypeInputSecureFile'] = None,
        translation: Optional[List['TypeInputSecureFile']] = None,
        files: Optional[List['TypeInputSecureFile']] = None,
        plain_data: Optional['TypeSecurePlainData'] = None
    ):

        """
        Secure value, [for more info see the passport docs](https://core.telegram.org/passport/encryption#encryption)

        Args:
            type ('TypeSecureValueType'): Secure [passport](https://core.telegram.org/passport) value type
            data (Optional['TypeSecureData'], optional): Encrypted [Telegram Passport](https://core.telegram.org/passport) element data
            front_side (Optional['TypeInputSecureFile'], optional): Encrypted [passport](https://core.telegram.org/passport) file with the front side of the document
            reverse_side (Optional['TypeInputSecureFile'], optional): Encrypted [passport](https://core.telegram.org/passport) file with the reverse side of the document
            selfie (Optional['TypeInputSecureFile'], optional): Encrypted [passport](https://core.telegram.org/passport) file with a selfie of the user holding the document
            translation (Optional[List['TypeInputSecureFile']], optional): Array of encrypted [passport](https://core.telegram.org/passport) files with translated versions of the provided documents
            files (Optional[List['TypeInputSecureFile']], optional): Array of encrypted [passport](https://core.telegram.org/passport) files with photos the of the documents
            plain_data (Optional['TypeSecurePlainData'], optional): Plaintext verified [passport](https://core.telegram.org/passport) data
        """

        self.type = type
        self.data = data
        self.front_side = front_side
        self.reverse_side = reverse_side
        self.selfie = selfie
        self.translation = translation
        self.files = files
        self.plain_data = plain_data

    def to_bytes(self, boxed: bool=True):
        with Writer(b'\xa7\xd0!\xdb' if boxed else b'') as writer:
            with writer.flag() as flags:
                writer.object(
                    self.type,
                    group_id=0X24ADF799
                )

                if flags(self.data, 0):
                    writer.object(
                        self.data,
                        group_id=0X48EA8661
                    )

                if flags(self.front_side, 1):
                    writer.object(
                        self.front_side,
                        group_id=0X76F6AFF3
                    )

                if flags(self.reverse_side, 2):
                    writer.object(
                        self.reverse_side,
                        group_id=0X76F6AFF3
                    )

                if flags(self.selfie, 3):
                    writer.object(
                        self.selfie,
                        group_id=0X76F6AFF3
                    )

                if flags(self.translation, 6):
                    writer.vector(
                        self.translation,
                        lambda value: writer.object(
                            value,
                            group_id=0X76F6AFF3
                        )
                    )

                if flags(self.files, 4):
                    writer.vector(
                        self.files,
                        lambda value: writer.object(
                            value,
                            group_id=0X76F6AFF3
                        )
                    )

                if flags(self.plain_data, 5):
                    writer.object(
                        self.plain_data,
                        group_id=0X8F8CADB9
                    )

            return writer.getvalue()

    @classmethod
    def from_reader(cls, reader: 'Reader'):
        flags = reader.flag()
        type_ = reader.object(
            group_id=0X24ADF799
        )

        data_ = (
            reader.object(
                group_id=0X48EA8661
            )
            if flags(0) else None
        )

        front_side_ = (
            reader.object(
                group_id=0X76F6AFF3
            )
            if flags(1) else None
        )

        reverse_side_ = (
            reader.object(
                group_id=0X76F6AFF3
            )
            if flags(2) else None
        )

        selfie_ = (
            reader.object(
                group_id=0X76F6AFF3
            )
            if flags(3) else None
        )

        translation_ = (
            reader.vector(
                lambda: reader.object(
                    group_id=0X76F6AFF3
                )
            )
            if flags(6) else None
        )

        files_ = (
            reader.vector(
                lambda: reader.object(
                    group_id=0X76F6AFF3
                )
            )
            if flags(4) else None
        )

        plain_data_ = (
            reader.object(
                group_id=0X8F8CADB9
            )
            if flags(5) else None
        )

        return cls(
            type=type_,
            data=data_,
            front_side=front_side_,
            reverse_side=reverse_side_,
            selfie=selfie_,
            translation=translation_,
            files=files_,
            plain_data=plain_data_
        )

TypeInputSecureValue = InputSecureValue