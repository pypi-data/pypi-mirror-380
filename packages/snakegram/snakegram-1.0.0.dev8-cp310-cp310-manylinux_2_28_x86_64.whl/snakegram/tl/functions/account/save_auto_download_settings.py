
#                     !!! WARNING !!!
#             This is an auto-generated file!
#                 Generated by [Builder].
# Any manual modifications will be lost upon regeneration.
#             DO NOT EDIT THIS FILE DIRECTLY.

from typing import TYPE_CHECKING
from ....gadgets.tlobject import TLRequest
from ....gadgets.byteutils import Writer


if TYPE_CHECKING:
    from ...types.auto_download_settings import TypeAutoDownloadSettings


class SaveAutoDownloadSettings(TLRequest[bool]):
    """
    Change media autodownload settings
    """

    _id = 0X76F36233
    _result_id = 0X43B904E1

    def __init__(
        self,
        settings: 'TypeAutoDownloadSettings',
        low: bool = False,
        high: bool = False
    ):

        """
        Change media autodownload settings

        Args:
            settings ('TypeAutoDownloadSettings'): Media autodownload settings
            low (bool, optional): Whether to save media in the low data usage preset
            high (bool, optional): Whether to save media in the high data usage preset
        """

        self.settings = settings
        self.low = low
        self.high = high

    def to_bytes(self, boxed: bool=True):
        with Writer(b'3b\xf3v' if boxed else b'') as writer:
            with writer.flag() as flags:
                flags(self.low, 0)
                flags(self.high, 1)
                writer.object(
                    self.settings,
                    group_id=0X55367DE2
                )

            return writer.getvalue()