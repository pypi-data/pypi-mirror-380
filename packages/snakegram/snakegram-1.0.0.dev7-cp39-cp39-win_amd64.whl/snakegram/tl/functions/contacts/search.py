
#                     !!! WARNING !!!
#             This is an auto-generated file!
#                 Generated by [Builder].
# Any manual modifications will be lost upon regeneration.
#             DO NOT EDIT THIS FILE DIRECTLY.

from ....gadgets.tlobject import TLRequest
from ....gadgets.byteutils import Writer
from ...types.contacts.found import TypeContactsFound


class Search(TLRequest[TypeContactsFound]):
    """
    Returns users found by username substring.

    Raises:
        `400`QueryTooShortError: The query string is too short.
        `400`SearchQueryEmptyError: The search query is empty.

    """

    _id = 0X11F812D8
    _result_id = 0X8CCE8093

    def __init__(
        self,
        q: str,
        limit: int
    ):

        """
        Returns users found by username substring.

        Args:
            q (str): Target substring
            limit (int): Maximum number of users to be returned
        """

        self.q = q
        self.limit = limit

    def to_bytes(self, boxed: bool=True):
        with Writer(b'\xd8\x12\xf8\x11' if boxed else b'') as writer:
            writer.string(self.q)
            writer.int(self.limit)

            return writer.getvalue()