# LokisApi Python Library

[![Python Version](https://img.shields.io/badge/python-3.7%2B-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![PyPI Version](https://img.shields.io/pypi/v/lokisapi.svg)](https://pypi.org/project/lokisapi/)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LokisApi - –º–æ—â–Ω—ã–º API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —á–∞—Ç-–∫–æ–º–ø–ª–µ—Ç–∞—Ü–∏–π.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –ø–æ–º–æ—â—å—é DALL-E –º–æ–¥–µ–ª–µ–π
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π DALL-E
- **–ß–∞—Ç-–∫–æ–º–ø–ª–µ—Ç–∞—Ü–∏–∏** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π GPT –∏ Gemini –º–æ–¥–µ–ª–µ–π
- **Thinking —Ä–µ–∂–∏–º** –¥–ª—è Gemini 2.5 –º–æ–¥–µ–ª–µ–π
- **Reasoning Effort** –¥–ª—è GPT-5 –º–æ–¥–µ–ª–µ–π
- **–°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤** –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** –∏–∑ API —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏ –ª–∏–º–∏—Ç–∞–º–∏
- **–ü—Ä–æ—Å—Ç–æ–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π API** –≤ —Å—Ç–∏–ª–µ OpenAI
- **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å LokisApi endpoints
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π** –∏–∑ –≤–∞—à–µ–≥–æ API –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install lokisapi
```

–ò–ª–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:

```bash
git clone https://github.com/masezev/lokisapi-python.git
cd lokisapi-python
pip install -e .
```

## üîë –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞

```python
from lokisapi import LokisApiClient

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–∞—à–∏–º API –∫–ª—é—á–æ–º
client = LokisApiClient("YOUR_API_KEY")
```

### –ß–∞—Ç-–∫–æ–º–ø–ª–µ—Ç–∞—Ü–∏–∏

```python
from lokisapi import ChatMessage, ChatRole

# –ü—Ä–æ—Å—Ç–æ–π —á–∞—Ç
messages = [
    ChatMessage(ChatRole.USER, "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?")
]
response = client.chat(messages, model="gpt-5")
print(response.choices[0]['message']['content'])
```

### –°—Ç—Ä–∏–º–∏–Ω–≥ —á–∞—Ç-–∫–æ–º–ø–ª–µ—Ç–∞—Ü–∏–π

```python
# –°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤
messages = [ChatMessage(ChatRole.USER, "–†–∞—Å—Å–∫–∞–∂–∏ –∏—Å—Ç–æ—Ä–∏—é")]
for chunk in client.chat(messages, model="gpt-5", stream=True):
    if chunk.choices[0].get('delta', {}).get('content'):
        print(chunk.choices[0]['delta']['content'], end='')
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
from lokisapi import ImageGenerationRequest, ImageSize, ImageQuality, ImageStyle

# –ü—Ä–æ—Å—Ç–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
response = client.generate_image_simple(
    prompt="A beautiful sunset over mountains",
    size=ImageSize.SIZE_1024,
    quality=ImageQuality.HD,
    style=ImageStyle.VIVID
)
print(response.data[0]['url'])

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
request = ImageGenerationRequest(
    prompt="A futuristic city with flying cars",
    model="dall-e-3",
    size=ImageSize.SIZE_1024,
    quality=ImageQuality.HD,
    style=ImageStyle.VIVID
)
response = client.generate_image(request)
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
from lokisapi import ImageEditRequest, encode_image_to_base64

# –ö–æ–¥–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ base64
image_base64 = encode_image_to_base64("path/to/image.jpg")

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
response = client.edit_image_simple(
    image=image_base64,
    prompt="Add a rainbow to the sky",
    size=ImageSize.SIZE_1024
)
print(response.data[0]['url'])
```

### Thinking —Ä–µ–∂–∏–º (Gemini 2.5)

```python
from lokisapi import THINKING_MODELS

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Thinking —Ä–µ–∂–∏–º–∞
messages = [ChatMessage(ChatRole.USER, "–†–µ—à–∏ —Å–ª–æ–∂–Ω—É—é –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–¥–∞—á—É")]
response = client.chat(
    messages=messages,
    model="gemini-2.5-pro",
    thinking=True,
    thinking_budget=2000
)
print(response.choices[0]['message']['content'])

# –ú–æ–¥–µ–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Thinking
print(f"Models with Thinking: {THINKING_MODELS}")
```

### Reasoning Effort (GPT-5)

```python
from lokisapi import ReasoningEffort

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Reasoning Effort
messages = [ChatMessage(ChatRole.USER, "–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É")]
response = client.chat(
    messages=messages,
    model="gpt-5",
    reasoning_effort=ReasoningEffort.HIGH
)
print(response.choices[0]['message']['content'])
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

```python
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è)
models = client.list_models()
for model in models:
    print(f"{model.id} - {model.owned_by}")

# –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏
model = client.get_model("gpt-5")
print(f"Model: {model.id}, Created: {model.created}")

# –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
text_models = client.get_models_by_category("text")
image_models = client.get_models_by_category("image")
thinking_models = client.get_models_by_category("thinking")

# –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
thinking_models = client.get_thinking_models()
image_models = client.get_image_models()
text_models = client.get_text_models()

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—ç—à–µ
cache_info = client.get_models_cache_info()
print(f"Models cached: {cache_info['cached']}")
print(f"Cache age: {cache_info['age_seconds']} seconds")

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞
client.refresh_models_cache()
```

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### LokisApiClient

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LokisApi.

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
LokisApiClient(api_key: str, base_url: str = "https://lokisapi.online/v1", model_cache_duration: float = 3600)
```

- `api_key`: –í–∞—à API –∫–ª—é—á LokisApi
- `base_url`: –ë–∞–∑–æ–≤—ã–π URL API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: https://lokisapi.online/v1)
- `model_cache_duration`: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—ç—à–∞ –º–æ–¥–µ–ª–µ–π –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3600 = 1 —á–∞—Å)

#### –ú–µ—Ç–æ–¥—ã

##### `chat(messages, model="gpt-5", temperature=1.0, max_tokens=None, stream=False)`

–£–¥–æ–±–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —á–∞—Ç-–∫–æ–º–ø–ª–µ—Ç–∞—Ü–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `messages`: –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π `ChatMessage`
- `model`: –ú–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "gpt-5")
- `temperature`: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è (0.0-2.0)
- `max_tokens`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤
- `stream`: –í–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `ChatCompletionResponse` –∏–ª–∏ `Iterator[ChatCompletionChunk]` –ø—Ä–∏ —Å—Ç—Ä–∏–º–∏–Ω–≥–µ

##### `generate_image_simple(prompt, size="1024x1024", model="dall-e-3")`

–£–¥–æ–±–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `prompt`: –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `size`: –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `model`: –ú–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `ImageGenerationResponse`

##### `list_models(force_refresh=False)`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `force_refresh`: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à –∏–∑ API

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `List[Model]`

##### `get_model(model_id, force_refresh=False)`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `model_id`: ID –º–æ–¥–µ–ª–∏
- `force_refresh`: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à –∏–∑ API

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `Model`

##### `get_thinking_models(force_refresh=False)`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Thinking (Gemini 2.5).

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `List[str]` - —Å–ø–∏—Å–æ–∫ ID –º–æ–¥–µ–ª–µ–π

##### `get_image_models(force_refresh=False)`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `List[str]` - —Å–ø–∏—Å–æ–∫ ID –º–æ–¥–µ–ª–µ–π

##### `get_text_models(force_refresh=False)`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–¥–∞—á.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `List[str]` - —Å–ø–∏—Å–æ–∫ ID –º–æ–¥–µ–ª–µ–π

##### `get_models_by_category(category, force_refresh=False)`

–ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category`: –ö–∞—Ç–µ–≥–æ—Ä–∏—è ("text", "image", "thinking", "deprecated")
- `force_refresh`: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à –∏–∑ API

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `List[Model]`

##### `refresh_models_cache()`

–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à –º–æ–¥–µ–ª–µ–π –∏–∑ API.

##### `clear_models_cache()`

–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –º–æ–¥–µ–ª–µ–π.

##### `get_models_cache_info()`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫—ç—à–∞ –º–æ–¥–µ–ª–µ–π.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `Dict[str, Any]` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—ç—à–µ

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

#### ChatMessage

```python
@dataclass
class ChatMessage:
    role: ChatRole  # system, user, assistant
    content: str
```

#### ImageGenerationRequest

```python
@dataclass
class ImageGenerationRequest:
    prompt: str
    model: str = "dall-e-3"
    n: int = 1
    size: ImageSize = ImageSize.SIZE_1024
    quality: str = "standard"
    style: str = "vivid"
```

#### ChatCompletionRequest

```python
@dataclass
class ChatCompletionRequest:
    messages: List[ChatMessage]
    model: str = "gpt-5"
    temperature: float = 1.0
    max_tokens: Optional[int] = None
    stream: bool = False
    top_p: float = 1.0
    frequency_penalty: float = 0.0
    presence_penalty: float = 0.0
    stop: Optional[Union[str, List[str]]] = None
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

```python
from lokisapi import (
    encode_image_to_base64, decode_base64_to_image, 
    save_base64_image, resize_image_for_api, validate_image_size
)

# –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64
base64_image = encode_image_to_base64("path/to/image.jpg")

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64 –≤ PIL Image
image = decode_base64_to_image(base64_image)

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª
save_base64_image(base64_image, "output.png")

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è API
resized_base64 = resize_image_for_api("large_image.jpg", (1024, 1024))

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
is_valid = validate_image_size("1024x1024")  # True
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏

```python
from lokisapi import (
    format_model_info, get_supported_models, 
    estimate_tokens, validate_api_key_format
)

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏
info = format_model_info("gpt-5")
print(f"Model: {info['name']}, Provider: {info['provider']}")

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π
text_models = get_supported_models("text")
image_models = get_supported_models("image")

# –û—Ü–µ–Ω–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
tokens = estimate_tokens("Hello, world!")  # –ü—Ä–∏–º–µ—Ä–Ω–æ 3-4 —Ç–æ–∫–µ–Ω–∞

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ API –∫–ª—é—á–∞
is_valid = validate_api_key_format("sk-...")  # True
```

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- `LokisApiError`: –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ LokisApi
- `AuthenticationError`: –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á)
- `RateLimitError`: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- `APIError`: –û–±—â–∞—è –æ—à–∏–±–∫–∞ API
- `ValidationError`: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `NetworkError`: –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ (—Ç–∞–π–º–∞—É—Ç, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)

#### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- `ModelNotFoundError`: –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `ModelNotSupportedError`: –ú–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é
- `QuotaExceededError`: –ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–≤–æ—Ç–∞ (–Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç RateLimitError)
- `TokenLimitError`: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç RateLimitError)
- `RequestLimitError`: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç RateLimitError)
- `ServiceUnavailableError`: –°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- `ImageProcessingError`: –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

```python
from lokisapi import (
    LokisApiClient, AuthenticationError, RateLimitError, 
    QuotaExceededError, TokenLimitError, ModelNotFoundError
)

try:
    client = LokisApiClient("invalid-key")
    response = client.chat(messages)
except AuthenticationError as e:
    print(f"–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: {e}")
except QuotaExceededError as e:
    print(f"–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–≤–æ—Ç–∞: {e}")
    if e.retry_after:
        print(f"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ {e.retry_after} —Å–µ–∫—É–Ω–¥")
except TokenLimitError as e:
    print(f"–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤: {e}")
except ModelNotFoundError as e:
    print(f"–ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: {e.model_id}")
except RateLimitError as e:
    print(f"–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç: {e}")
    if e.retry_after:
        print(f"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ {e.retry_after} —Å–µ–∫—É–Ω–¥")
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —á–∞—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

```python
from lokisapi import LokisApiClient, ChatMessage, ChatRole

client = LokisApiClient("YOUR_API_KEY")

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
messages = [
    ChatMessage(ChatRole.SYSTEM, "–¢—ã - –ø–æ–ª–µ–∑–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ."),
    ChatMessage(ChatRole.USER, "–û–±—ä—è—Å–Ω–∏, —á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏.")
]

response = client.chat(messages, model="gpt-5", temperature=0.7)
print(response.choices[0]['message']['content'])
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
prompts = [
    "A serene mountain landscape at sunrise",
    "A bustling city street at night",
    "A peaceful garden with blooming flowers"
]

for i, prompt in enumerate(prompts):
    print(f"Generating image {i+1}/{len(prompts)}: {prompt}")
    response = client.generate_image_simple(prompt)
    print(f"Image URL: {response.data[0]['url']}")
```

### –°—Ç—Ä–∏–º–∏–Ω–≥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª

```python
messages = [ChatMessage(ChatRole.USER, "–ù–∞–ø–∏—à–∏ —Ä–∞—Å—Å–∫–∞–∑ –æ —Ä–æ–±–æ—Ç–µ")]

with open("story.txt", "w", encoding="utf-8") as f:
    f.write("=== AI Story ===\n\n")
    
    for chunk in client.chat(messages, model="gpt-5", stream=True):
        if chunk.choices[0].get('delta', {}).get('content'):
            content = chunk.choices[0]['delta']['content']
            f.write(content)
            f.flush()
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
from lokisapi import ImageSize, ImageQuality, ImageStyle

prompts = [
    "A serene mountain landscape at sunrise",
    "A bustling city street at night", 
    "A peaceful garden with blooming flowers"
]

for i, prompt in enumerate(prompts, 1):
    print(f"Generating image {i}/{len(prompts)}: {prompt}")
    response = client.generate_image_simple(
        prompt=prompt,
        size=ImageSize.SIZE_1024,
        quality=ImageQuality.HD,
        style=ImageStyle.VIVID
    )
    print(f"Image URL: {response.data[0]['url']}")
```

### –†–∞–±–æ—Ç–∞ —Å Thinking —Ä–µ–∂–∏–º–æ–º

```python
# –°–ª–æ–∂–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ —Å Thinking
messages = [ChatMessage(ChatRole.USER, "–†–µ—à–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: x¬≤ + 5x + 6 = 0")]
response = client.chat(
    messages=messages,
    model="gemini-2.5-pro",
    thinking=True,
    thinking_budget=2000
)
print(response.choices[0]['message']['content'])
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
from lokisapi import encode_image_to_base64, ImageSize

# –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
image_base64 = encode_image_to_base64("original_image.jpg")
response = client.edit_image_simple(
    image=image_base64,
    prompt="Add a beautiful sunset in the background",
    size=ImageSize.SIZE_1024
)
print(f"Edited image: {response.data[0]['url']}")
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
export LOKISAPI_API_KEY="your-api-key"
export LOKISAPI_BASE_URL="https://lokisapi.online/v1"
```

```python
import os
from lokisapi import LokisApiClient

client = LokisApiClient(
    api_key=os.getenv("LOKISAPI_API_KEY"),
    base_url=os.getenv("LOKISAPI_BASE_URL", "https://lokisapi.online/v1")
)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

```python
import requests
from lokisapi import LokisApiClient

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π —Å–µ—Å—Å–∏–µ–π
session = requests.Session()
session.timeout = 30  # 30 —Å–µ–∫—É–Ω–¥ —Ç–∞–π–º–∞—É—Ç

client = LokisApiClient("YOUR_API_KEY")
client.session = session
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -e ".[dev]"

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞
black lokisapi/
flake8 lokisapi/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
mypy lokisapi/
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues**: [GitHub Issues](https://github.com/masezev/lokisapi-python/issues)
- **Email**: support@lokisapi.online

## ü§ñ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

### Gemini –º–æ–¥–µ–ª–∏ (Google)
- **gemini-2.5-pro** - –°–∞–º–∞—è –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Thinking
- **gemini-2.5-flash** - –ë—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Thinking  
- **gemini-2.5-flash-lite** - –û–±–ª–µ–≥—á–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Thinking
- **gemini-2.0-flash** - –ë—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å –±–µ–∑ Thinking
- **gemini-2.0-flash-lite** - –û–±–ª–µ–≥—á–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ Thinking

### OpenAI –º–æ–¥–µ–ª–∏
- **gpt-5** - –°–∞–º–∞—è –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å —Å Reasoning Effort
- **gpt-5-mini** - –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è GPT-5
- **gpt-5-nano** - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è GPT-5
- **gpt-4.1** - –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è GPT-4
- **gpt-4.1-mini** - –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è GPT-4.1
- **gpt-4.1-nano** - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è GPT-4.1
- **gpt-4-turbo** - –ë—ã—Å—Ç—Ä–∞—è –≤–µ—Ä—Å–∏—è GPT-4
- **gpt-4o** - –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
- **gpt-4o-mini** - –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
- **o3** - –ú–æ–¥–µ–ª—å —Å —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è–º–∏
- **o3-mini** - –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å —Å —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è–º–∏
- **gpt-3.5-turbo** - –ë—ã—Å—Ç—Ä–∞—è –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å

### –ú–æ–¥–µ–ª–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **dall-e-3** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üÜï –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### v1.0.0 (2025-01-XX)
- **–ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑** —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LokisApi
- **–ß–∞—Ç-–∫–æ–º–ø–ª–µ—Ç–∞—Ü–∏–∏** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π GPT –∏ Gemini –º–æ–¥–µ–ª–µ–π
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –ø–æ–º–æ—â—å—é DALL-E –º–æ–¥–µ–ª–µ–π
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π DALL-E
- **Thinking —Ä–µ–∂–∏–º** –¥–ª—è Gemini 2.5 –º–æ–¥–µ–ª–µ–π
- **Reasoning Effort** –¥–ª—è GPT-5 –º–æ–¥–µ–ª–µ–π
- **–°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤** –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** –∏–∑ API —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏ –ª–∏–º–∏—Ç–∞–º–∏
- **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏** - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å LokisApi endpoints
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π** –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π LokisApi**

