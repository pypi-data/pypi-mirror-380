import{z as d,w as f}from"./chunk-QMGIS6GS-Ycl3lDfV.js";import{j as e}from"./index-B4oKE3iz.js";import{C as u}from"./Card-Dow6iKi0.js";import{G as p}from"./Group-3SoFkW_U.js";import{B as s}from"./Badge-C-Zq__Qu.js";import{T as m}from"./Text-BRX5JXq7.js";import{f as x}from"./api-tgDzxHzW.js";import{B as h}from"./Loader-B9JD8HZZ.js";import{T as g}from"./Title-CmbW-mDV.js";import{B as j}from"./Button-kXQ3kFES.js";import{D as b}from"./Divider-DNtoRLi1.js";import{S as y}from"./SimpleGrid-B3GKyrsx.js";import"./Paper-C4kvkNN2.js";import"./create-safe-context-Bb_7Uh0a.js";import"./px-CiO0pVtX.js";import"./get-sorted-breakpoints-CWbmZd_q.js";const v="_root_tlzeu_1",w={root:v};function A({action:o}){var r,t,a;return e.jsxs(u,{withBorder:!0,padding:"lg",radius:"md",component:d,className:w.root,to:`/actions/${o.id}`,children:[e.jsxs(p,{justify:"space-between",children:[e.jsx(s,{size:"sm",color:"gray",variant:"outline",children:((r=o._package)==null?void 0:r.version)||"-"}),o.enabled?e.jsx(s,{size:"sm",variant:"dot",color:"teal",children:"Enabled"}):e.jsx(s,{size:"sm",color:"red",variant:"dot",children:"Disabled"})]}),e.jsx(m,{fz:"md",fw:500,mt:"md",children:((a=(t=o._package)==null?void 0:t.meta)==null?void 0:a.title)||o.label}),e.jsx(m,{fz:"sm",c:"gray.7",mt:5,lineClamp:3,children:o.description})]})}function R(){return[{title:"Actions | JIVAS Manager"}]}async function $({request:o}){const t=(await o.formData()).get("agentId");return localStorage.setItem("jivas-agent",t),{}}async function M({serverLoader:o}){const r=localStorage.getItem("jivas-host");try{return{actions:(await x(`${r}/walker/list_actions`,{method:"POST",body:JSON.stringify({agent_id:localStorage.getItem("jivas-agent")}),headers:{"Content-Type":"application/json"}}).then(a=>a.json())).reports[0]}}catch{return{actions:[]}}}const V=f(function({loaderData:r}){return e.jsxs(h,{px:"xl",py:"xl",children:[e.jsxs(p,{justify:"space-between",children:[e.jsx(g,{order:3,children:"Actions"}),e.jsx(j,{color:"dark",size:"sm",component:d,to:"/add-action",children:"Add Action"})]}),e.jsx(b,{mt:"xs",mb:"xl"}),e.jsx(y,{cols:{base:1,md:2,lg:4},children:r.actions.sort((t,a)=>{var i,n,l,c;return(((n=(i=t._package)==null?void 0:i.meta)==null?void 0:n.title)||t.label).localeCompare(((c=(l=a._package)==null?void 0:l.meta)==null?void 0:c.title)||a.label)}).filter(t=>t.label!=="ExitInteractAction").map(t=>e.jsx(A,{action:t},t.id))})]})});export{$ as clientAction,M as clientLoader,V as default,R as meta};
