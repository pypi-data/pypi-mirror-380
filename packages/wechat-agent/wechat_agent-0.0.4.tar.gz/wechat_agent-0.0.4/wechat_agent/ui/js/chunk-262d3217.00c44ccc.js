(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-262d3217"],{"104d":function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"g",(function(){return c})),r.d(e,"b",(function(){return s})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return l}));var n=r("cb4b");function a(t){return Object(n["a"])({url:"/api/agent/list",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/api/agent/"+t,method:"get"})}function o(t){return Object(n["a"])({url:"/api/agent/create",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/api/agent/update",method:"put",data:t})}function s(t){return Object(n["a"])({url:"/api/agent/delete/"+t,method:"delete"})}function u(t){return Object(n["a"])({url:"/api/agent/start/"+t,method:"post"})}function l(t){return Object(n["a"])({url:"/api/agent/stop/"+t,method:"post"})}},"129f":function(t,e,r){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}},"3c9d":function(t,e,r){"use strict";r.r(e);r("b0c0"),r("ac1f"),r("841c");var n=function(){var t=this,e=t._self._c;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("历史消息")]),e("el-breadcrumb-item",[t._v("消息列表")])],1),e("el-card",[e("el-form",{attrs:{inline:!0},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[e("el-form-item",{attrs:{label:"智慧助手"}},[e("el-select",{attrs:{clearable:""},model:{value:t.search.agent_id,callback:function(e){t.$set(t.search,"agent_id",e)},expression:"search.agent_id"}},t._l(t.agent_list,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",{attrs:{label:"聊天窗口"}},[e("el-input",{attrs:{placeholder:"聊天窗口名",clearable:""},model:{value:t.search.nickname,callback:function(e){t.$set(t.search,"nickname",e)},expression:"search.nickname"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")])],1)],1),e("el-row",{staticClass:"mb8",attrs:{gutter:10}},[e("el-col",{attrs:{span:1.5}},[e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-info",size:"mini",disabled:t.single},on:{click:t.handleInfo}},[t._v("详情 ")])],1),e("el-col",{attrs:{span:1.5}},[e("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:t.multiple},on:{click:t.handleDelete}},[t._v("删除 ")])],1)],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e("el-table-column",{attrs:{label:"ID",prop:"id"}}),e("el-table-column",{attrs:{label:"智慧助手",prop:"agent"}}),e("el-table-column",{attrs:{label:"聊天窗口",prop:"nickname"}}),e("el-table-column",{attrs:{label:"聊天类型",prop:"chat_type"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("el-tag",{attrs:{type:"私聊"===r.row.chat_type?"success":"primary"}},[t._v(t._s(r.row.chat_type))])]}}])}),e("el-table-column",{attrs:{label:"智能体类型",prop:"agent_type"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("el-tag",{attrs:{type:"指定回复"===r.row.agent_type?"success":"primary"}},[t._v(t._s(r.row.agent_type))])]}}])}),e("el-table-column",{attrs:{label:"消息内容",prop:"content"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("div",[t._v(t._s(r.row.content.substring(0,50)+"..."))])]}}])}),e("el-table-column",{attrs:{label:"回信人",prop:"create_by"}}),e("el-table-column",{attrs:{label:"创建时间",prop:"create_time",sortable:""}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleInfo(r.row)}}},[t._v("详情")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleDelete(r.row)}}},[t._v("删除")])]}}])})],1),e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{title:t.title,visible:t.open,width:"800px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"130px"}},[e("el-form-item",{attrs:{label:"智慧助手",prop:"agent"}},[e("el-input",{attrs:{readonly:""},model:{value:t.form.agent,callback:function(e){t.$set(t.form,"agent",e)},expression:"form.agent"}})],1),e("el-form-item",{attrs:{label:"助手类型",prop:"agent_type"}},[e("el-input",{attrs:{readonly:""},model:{value:t.form.agent_type,callback:function(e){t.$set(t.form,"agent_type",e)},expression:"form.agent_type"}})],1),e("el-form-item",{attrs:{label:"聊天类型",prop:"chat_type"}},[e("el-input",{attrs:{readonly:""},model:{value:t.form.chat_type,callback:function(e){t.$set(t.form,"chat_type",e)},expression:"form.chat_type"}})],1),e("el-form-item",{attrs:{label:"回信人",prop:"create_by"}},[e("el-input",{attrs:{readonly:""},model:{value:t.form.create_by,callback:function(e){t.$set(t.form,"create_by",e)},expression:"form.create_by"}})],1),e("el-form-item",{attrs:{label:"消息内容",prop:"content"}},[e("el-input",{attrs:{type:"textarea",rows:10,readonly:""},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1)],1)},a=[],i=r("5530"),o=(r("a15b"),r("d81d"),r("e9f5"),r("ab43"),r("d3b7"),r("cb4b"));function c(t){return Object(o["a"])({url:"/api/history/list",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/api/history/"+t,method:"get"})}function u(t){return Object(o["a"])({url:"/api/history/delete/"+t,method:"delete"})}var l=r("104d"),f={data:function(){return{agent_list:[],ids:[],single:!0,multiple:!0,loading:!1,search:{},open:!1,title:"",form:{},list:[],currentPage:1,pageSize:10,total:0}},created:function(){this.getList(),this.getAgentList()},methods:{handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!==t.length,this.multiple=!t.length},getList:function(){var t=this,e=Object(i["a"])({page:this.currentPage,page_size:this.pageSize},this.search);this.loading=!0,c(e).then((function(e){t.loading=!1,t.list=e.rows,t.total=e.total}))},cancel:function(){this.reset(),this.open=!1},reset:function(){this.$refs["form"]&&this.$refs["form"].resetFields()},handleInfo:function(t){var e=this;this.reset();var r=t.id||this.ids;s(r).then((function(t){0===t.code&&(e.form=t.data,e.open=!0,e.title="查看消息详情")}))},handleDelete:function(t){var e=this,r=t.id||this.ids.join(",");this.$confirm("确认要删除历史记录编号为"+r+"的数据项吗？","提示").then((function(){u(r).then((function(t){e.getList()}))})).catch((function(){}))},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.currentPage=t,this.getList()},getAgentList:function(){var t=this;Object(l["d"])({page:1,page_size:1e3}).then((function(e){t.agent_list=e.rows}))}}},d=f,p=(r("b3b5"),r("2877")),b=Object(p["a"])(d,n,a,!1,null,"ca06b396",null);e["default"]=b.exports},"408a":function(t,e,r){"use strict";var n=r("e330");t.exports=n(1..valueOf)},"4de4":function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").filter,i=r("1dde"),o=i("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"51eb":function(t,e,r){"use strict";var n=r("825a"),a=r("485a"),i=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new i("Incorrect hint");return a(this,t)}},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r("a4d3"),r("4de4"),r("14d9"),r("e9f5"),r("910d"),r("7d54"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b");var n=r("53ca");r("8172"),r("d9e2"),r("efec"),r("a9e3");function a(t,e){if("object"!=Object(n["a"])(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=Object(n["a"])(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function i(t){var e=a(t,"string");return"symbol"==Object(n["a"])(e)?e:e+""}function o(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},5899:function(t,e,r){"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){"use strict";var n=r("e330"),a=r("1d80"),i=r("577e"),o=r("5899"),c=n("".replace),s=RegExp("^["+o+"]+"),u=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(t){return function(e){var r=i(a(e));return 1&t&&(r=c(r,s,"")),2&t&&(r=c(r,u,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},6964:function(t,e,r){"use strict";var n=r("cb2d");t.exports=function(t,e,r){for(var a in e)n(t,a,e[a],r);return t}},8172:function(t,e,r){"use strict";var n=r("e065"),a=r("57b9");n("toPrimitive"),a()},"841c":function(t,e,r){"use strict";var n=r("c65b"),a=r("d784"),i=r("825a"),o=r("7234"),c=r("1d80"),s=r("129f"),u=r("577e"),l=r("dc4a"),f=r("14c3");a("search",(function(t,e,r){return[function(e){var r=c(this),a=o(e)?void 0:l(e,t);return a?n(a,e,r):new RegExp(e)[t](u(r))},function(t){var n=i(this),a=u(t),o=r(e,n,a);if(o.done)return o.value;var c=n.lastIndex;s(c,0)||(n.lastIndex=0);var l=f(n,a);return s(n.lastIndex,c)||(n.lastIndex=c),null===l?-1:l.index}]}))},"910d":function(t,e,r){"use strict";var n=r("23e7"),a=r("c65b"),i=r("59ed"),o=r("825a"),c=r("46c4"),s=r("c5cc"),u=r("9bdd"),l=r("c430"),f=s((function(){var t,e,r,n=this.iterator,i=this.predicate,c=this.next;while(1){if(t=o(a(c,n)),e=this.done=!!t.done,e)return;if(r=t.value,u(n,i,[r,this.counter++],!0))return r}}));n({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(t){return o(this),i(t),new f(c(this),{predicate:t})}})},"9bb9":function(t,e,r){},"9bdd":function(t,e,r){"use strict";var n=r("825a"),a=r("2a62");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(o){a(t,"throw",o)}}},a15b:function(t,e,r){"use strict";var n=r("23e7"),a=r("e330"),i=r("44ad"),o=r("fc6a"),c=r("a640"),s=a([].join),u=i!==Object,l=u||!c("join",",");n({target:"Array",proto:!0,forced:l},{join:function(t){return s(o(this),void 0===t?",":t)}})},a9e3:function(t,e,r){"use strict";var n=r("23e7"),a=r("c430"),i=r("83ab"),o=r("cfe9"),c=r("428f"),s=r("e330"),u=r("94ca"),l=r("1a2d"),f=r("7156"),d=r("3a9b"),p=r("d9b5"),b=r("c04e"),h=r("d039"),m=r("241c").f,g=r("06cf").f,v=r("9bf2").f,y=r("408a"),_=r("58a8").trim,w="Number",O=o[w],x=c[w],j=O.prototype,I=o.TypeError,k=s("".slice),S=s("".charCodeAt),N=function(t){var e=b(t,"number");return"bigint"==typeof e?e:P(e)},P=function(t){var e,r,n,a,i,o,c,s,u=b(t,"number");if(p(u))throw new I("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=_(u),e=S(u,0),43===e||45===e){if(r=S(u,2),88===r||120===r)return NaN}else if(48===e){switch(S(u,1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(i=k(u,2),o=i.length,c=0;c<o;c++)if(s=S(i,c),s<48||s>a)return NaN;return parseInt(i,n)}return+u},E=u(w,!O(" 0o1")||!O("0b1")||O("+0x1")),z=function(t){return d(j,t)&&h((function(){y(t)}))},A=function(t){var e=arguments.length<1?0:O(N(t));return z(this)?f(Object(e),this,A):e};A.prototype=j,E&&!a&&(j.constructor=A),n({global:!0,constructor:!0,wrap:!0,forced:E},{Number:A});var $=function(t,e){for(var r,n=i?m(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),a=0;n.length>a;a++)l(e,r=n[a])&&!l(t,r)&&v(t,r,g(e,r))};a&&x&&$(c[w],x),(E||a)&&$(c[w],O)},ab43:function(t,e,r){"use strict";var n=r("23e7"),a=r("d024"),i=r("c430");n({target:"Iterator",proto:!0,real:!0,forced:i},{map:a})},b3b5:function(t,e,r){"use strict";r("9bb9")},b64b:function(t,e,r){"use strict";var n=r("23e7"),a=r("7b0b"),i=r("df75"),o=r("d039"),c=o((function(){i(1)}));n({target:"Object",stat:!0,forced:c},{keys:function(t){return i(a(t))}})},c5cc:function(t,e,r){"use strict";var n=r("c65b"),a=r("7c73"),i=r("9112"),o=r("6964"),c=r("b622"),s=r("69f3"),u=r("dc4a"),l=r("ae93").IteratorPrototype,f=r("4754"),d=r("2a62"),p=c("toStringTag"),b="IteratorHelper",h="WrapForValidIterator",m=s.set,g=function(t){var e=s.getterFor(t?h:b);return o(a(l),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return f(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:f(n,r.done)}catch(a){throw r.done=!0,a}},return:function(){var r=e(this),a=r.iterator;if(r.done=!0,t){var i=u(a,"return");return i?n(i,a):f(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(o){return d(a,"throw",o)}return a&&d(a,"normal"),f(void 0,!0)}})},v=g(!0),y=g(!1);i(y,p,"Iterator Helper"),t.exports=function(t,e,r){var n=function(n,a){a?(a.iterator=n.iterator,a.next=n.next):a=n,a.type=e?h:b,a.returnHandlerResult=!!r,a.nextHandler=t,a.counter=0,a.done=!1,m(this,a)};return n.prototype=e?v:y,n}},d024:function(t,e,r){"use strict";var n=r("c65b"),a=r("59ed"),i=r("825a"),o=r("46c4"),c=r("c5cc"),s=r("9bdd"),u=c((function(){var t=this.iterator,e=i(n(this.next,t)),r=this.done=!!e.done;if(!r)return s(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return i(this),a(t),new u(o(this),{mapper:t})}},d81d:function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").map,i=r("1dde"),o=i("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,r){"use strict";var n=r("23e7"),a=r("83ab"),i=r("56ef"),o=r("fc6a"),c=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,n=o(t),a=c.f,u=i(n),l={},f=0;while(u.length>f)r=a(n,e=u[f++]),void 0!==r&&s(l,e,r);return l}})},e439:function(t,e,r){"use strict";var n=r("23e7"),a=r("d039"),i=r("fc6a"),o=r("06cf").f,c=r("83ab"),s=!c||a((function(){o(1)}));n({target:"Object",stat:!0,forced:s,sham:!c},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},efec:function(t,e,r){"use strict";var n=r("1a2d"),a=r("cb2d"),i=r("51eb"),o=r("b622"),c=o("toPrimitive"),s=Date.prototype;n(s,c)||a(s,c,i)}}]);
//# sourceMappingURL=chunk-262d3217.00c44ccc.js.map