import{d as w,e as d,f as c,aN as V,h as a,b4 as Q,b as U,C as $,c as j,r as G,a4 as P,D as F,i as n,w as r,Q as o,l as t,N as x,E as A,z as g,a8 as J,H as O,t as i,ae as W,s as M,aa as H,af as I,B as X,M as Z,ak as tt,K as et}from"./index-CvCv8tjC.js";import{a as at}from"./autoCali-BpZAbNyW.js";import{d as S}from"./dayjs.min-FWv0Sy9A.js";import{u as ot}from"./autoCali-BTqrD_5Q.js";import{u as lt}from"./useInterval-BHEiX-wJ.js";import{C as st}from"./ChevronBack-C7yhpAg4.js";import{_ as nt,a as rt}from"./Tabs-CqcYRKXl.js";import"./Add-D6uUqg2u.js";import"./debounce-D4NDO7dG.js";const it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},ct=w({name:"CloudSatelliteConfig",render:function(f,e){return c(),d("svg",it,e[0]||(e[0]=[V('<path d="M32 26v-2h-2.101a4.968 4.968 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A4.968 4.968 0 0 0 26 20.101V18h-2v2.101a4.968 4.968 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A4.968 4.968 0 0 0 20.101 24H18v2h2.101a4.968 4.968 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a4.968 4.968 0 0 0 1.753.732V32h2v-2.101a4.968 4.968 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A4.968 4.968 0 0 0 29.899 26zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z" fill="currentColor"></path><circle cx="7" cy="20" r="2" fill="currentColor"></circle><path d="M14 20a4 4 0 1 1 4-4a4.012 4.012 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.006 2.006 0 0 0-2-2z" fill="currentColor"></path><circle cx="21" cy="12" r="2" fill="currentColor"></circle><path d="M13.02 28.271L3 22.427V9.574l11-6.416l11.496 6.706l1.008-1.728l-12-7a1 1 0 0 0-1.008 0l-12 7A1 1 0 0 0 1 9v14a1 1 0 0 0 .496.864L12.013 30z" fill="currentColor"></path>',5)]))}}),ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},pt=w({name:"Menu",render:function(f,e){return c(),d("svg",ut,e[0]||(e[0]=[a("path",{d:"M4 6h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 24h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 12h24v2H4z",fill:"currentColor"},null,-1),a("path",{d:"M4 18h24v2H4z",fill:"currentColor"},null,-1)]))}}),dt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},ft=w({name:"Queued",render:function(f,e){return c(),d("svg",dt,e[0]||(e[0]=[V('<defs></defs><path d="M22 20h8v2h-8z" fill="currentColor"></path><path d="M22 24h8v2h-8z" fill="currentColor"></path><path d="M22 28h8v2h-8z" fill="currentColor"></path><path d="M18 24h2v2h-2z" fill="currentColor"></path><path d="M18 20h2v2h-2z" fill="currentColor"></path><path d="M18 28h2v2h-2z" fill="currentColor"></path><path d="M6.815 8.293a12.078 12.078 0 0 1 3.192-2.673l-1-1.73a14.085 14.085 0 0 0-3.723 3.118z" fill="currentColor"></path><path d="M25.185 8.293l1.53-1.285a14.085 14.085 0 0 0-3.723-3.118l-.999 1.73a12.078 12.078 0 0 1 3.192 2.673z" fill="currentColor"></path><path d="M4.737 11.9l-1.878-.683A13.902 13.902 0 0 0 2 16h2a11.917 11.917 0 0 1 .737-4.1z" fill="currentColor"></path><path d="M6.815 23.707A11.998 11.998 0 0 1 4.737 20.1l-1.878.683a13.99 13.99 0 0 0 2.425 4.21z" fill="currentColor"></path><path d="M27.263 11.9A11.917 11.917 0 0 1 28 16h2a13.897 13.897 0 0 0-.86-4.783z" fill="currentColor"></path><path d="M13.918 27.807a11.89 11.89 0 0 1-3.911-1.427l-1 1.73a13.867 13.867 0 0 0 4.564 1.664z" fill="currentColor"></path><path d="M13.918 4.193a11.301 11.301 0 0 1 4.164 0l.347-1.967a13.187 13.187 0 0 0-4.858 0z" fill="currentColor"></path>',14)]))}}),_t={class:"-mt-1.5"},ht={class:"flex items-center gap-2"},mt={class:"flex flex-1 gap-2"},vt={class:"text-2xl"},Ct={class:"text-xs opacity-70 font-mono"},xt={key:0},gt={class:"text-xs opacity-70 font-mono"},wt={key:0},zt={class:"mt-5 flex-1"},yt=w({__name:"AutoCaliDetail",setup(z){const f=ot(),{sessionInfo:e}=Q(f),{t:u,locale:k}=U(),_=$(),b=j(),h=G(),Y=p=>{var l;b.push({name:p,query:{..._.query,space_id:(l=e.value)==null?void 0:l.space_id}})},q=()=>{b.push({name:"autoCaliList",query:{device_group_name:_.query.device_group_name}})},E=async()=>{var m;const[p,l]=await at({session_id:+_.query.session_id});!p&&(l==null?void 0:l.status)===0&&(e.value=l.data,((m=l.data)==null?void 0:m.status)!==tt.RUNNING&&R())},{stop:R}=lt(E);return P(_,p=>{h.value=p.name},{deep:!0,immediate:!0}),(p,l)=>{const m=X,y=nt,v=W,T=O,K=rt,L=F("router-view");return c(),d("div",_t,[a("div",null,[n(K,{type:"card",animated:"",class:"!h-full !w-auto",value:t(h),"onUpdate:value":l[0]||(l[0]=C=>Z(h)?h.value=C:null),onUpdateValue:Y},{prefix:r(()=>[n(m,{onClick:q,quaternary:"",class:"!w-[140px] !justify-start !text-left"},{icon:r(()=>[n(t(x),{size:"26"},{default:r(()=>[n(t(st))]),_:1})]),default:r(()=>[a("span",null,i(t(u)("groupDetail.autoCali.back")),1)]),_:1})]),suffix:r(()=>[t(J)(t(e))?g("",!0):(c(),A(T,{key:0,"show-icon":!1,type:"info",class:"h-[42px] py-1"},{default:r(()=>{var C,D,N;return[a("div",ht,[a("div",mt,[a("div",vt,i((C=t(e))==null?void 0:C.task_name),1),n(v,{type:"warning",size:"large"},{default:r(()=>{var s;return[M("Session "+i((s=t(e))==null?void 0:s.session_id),1)]}),_:1}),n(v,{type:"primary",size:"large"},{default:r(()=>{var s;return[M(i((s=t(e))==null?void 0:s.space_name),1)]}),_:1}),n(v,{size:"large"},{default:r(()=>{var s,B;return[a("div",Ct,[a("span",{class:H(["inline-block",[t(k)==="cn"?"w-8":"w-12"]])},i(t(u)("groupDetail.autoCali.start"))+":  ",3),(s=t(e))!=null&&s.start_time?(c(),d("span",xt,i(t(S)(t(e).start_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):g("",!0)]),a("div",gt,[a("span",{class:H(["inline-block",[t(k)==="cn"?"w-8":"w-12"]])},i(t(u)("groupDetail.autoCali.end"))+":  ",3),(B=t(e))!=null&&B.end_time?(c(),d("span",wt,i(t(S)(t(e).end_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):g("",!0)])]}),_:1}),(D=t(e))!=null&&D.status?(c(),A(v,{key:0,color:{color:t(I)[(N=t(e))==null?void 0:N.status].color,textColor:"#fff"},size:"large"},{default:r(()=>{var s;return[M(i(t(u)(t(I)[(s=t(e))==null?void 0:s.status].text)),1)]}),_:1},8,["color"])):g("",!0)])])]}),_:1}))]),default:r(()=>[n(y,{name:"autoCaliConfig",tab:o("div",{class:"flex items-center gap-2 h-8"},[o("div",{class:"flex"},o(t(x),{size:20,component:t(ct)})),o("div",t(u)("groupDetail.autoCali.config"))])},null,8,["tab"]),n(y,{name:"autoCaliProcess",tab:o("div",{class:"flex items-center gap-2"},[o("div",{class:"flex"},o(t(x),{size:20,component:t(ft)})),o("div",t(u)("groupDetail.autoCali.process"))])},null,8,["tab"]),n(y,{name:"autoCaliEntity",tab:o("div",{class:"flex items-center gap-2"},[o("div",{class:"flex"},o(t(x),{size:20,component:t(pt)})),o("div",t(u)("groupDetail.autoCali.entity"))])},null,8,["tab"])]),_:1},8,["value"]),a("div",zt,[n(L)])])])}}}),St=et(yt,[["__scopeId","data-v-f3795640"]]);export{St as default};
