import{u as wt}from"./exp-CMCdJMb9.js";import{d as nt,a2 as yn,b as Nt,b4 as Ot,r as ae,J as Oe,E as me,f as se,L as kt,l as a,M as vt,w as M,i as m,v as At,h as de,k as En,z as ge,e as Ke,bL as xn,bM as Sn,s as Ie,a6 as Mn,m as Rn,n as wn,H as Nn,t as Te,p as On,B as Ce,aQ as kn,Q as B,a4 as It,bN as An,R as In,al as Tn,bO as Cn,ae as Fe,a8 as Bn,N as Ln,o as Pn,U as $n,a7 as yt,aY as et}from"./index-CvCv8tjC.js";import{_ as Et}from"./ScriptTemplate.vue_vue_type_script_setup_true_lang-By1jfwHr.js";import{V as xt}from"./index-B1U6DbfR.js";import{N as Hn}from"./InputNumber-C_LhnbBs.js";import{c as Un}from"./index-D5YeMwg8.js";import{D as jn,E as Wn}from"./EditOutlined-CFslvNa1.js";import{H as Fn}from"./HandRight24Filled-Bscs9-Ei.js";import{A as zn}from"./Add-DSV7m2CF.js";import{_ as Kn}from"./Popconfirm-DNmDyeOO.js";import"./exp-BIf1sWJ4.js";import"./Add-D6uUqg2u.js";const Gn={key:1,class:"flex"},qn={class:"flex items-center justify-between gap-2"},Dn={class:"flex-1 pl-3"},Jn={class:"flex items-center gap-2"},Vn={class:"inline-block w-12"},Xn={key:2,class:"py-4"},Yn={class:"flex items-center gap-2"},Zn={class:"flex items-center gap-2"},Qn={class:"inline-block w-12"},es={class:"flex justify-end mt-2"},ts=nt({__name:"ScriptSetup",props:{sid:{}},emits:["close"],setup(S,{expose:A,emit:j}){const E=S,V=j,ie=yn(),{t:y}=Nt(),q=wt(),{program:H,gates:z,layers:Z}=Ot(q),O=ae("waveform_script"),X=ae(),p=ae({entity:void 0,layer:void 0,parameter:void 0,script:void 0,wave_ids:[],wave_names:[],channels:[],space_params_key:void 0,gate_name:void 0,search_type:void 0}),ne=ae({entity:{required:!0,message:y("common.required")},layer:{required:!0,message:y("common.required")},parameter:{required:!0,message:y("common.required")},script:{required:!0,message:y("common.required")},gate_name:{required:!0,message:y("common.required")},space_params_key:{required:!0,message:y("common.required")}}),L=ae(!1),ue=()=>{L.value=!1,V("close")},oe=()=>{L.value=!0},ve=()=>{ue()},r=()=>{var pe,Q,P,xe,Se,he;let k;typeof(E==null?void 0:E.sid)=="number"&&((pe=H.value)!=null&&pe.waveform_script)&&(k=JSON.parse(JSON.stringify((Q=H.value)==null?void 0:Q.waveform_script[E.sid])));const f=p.value.search_type,Y={...k||{},entity:p.value.entity,layer:p.value.layer,channels:f==="channel"?p.value.channels:[],wave_ids:f==="ids"?p.value.wave_ids:[],wave_names:f==="name"?p.value.wave_names:[],parameter:p.value.parameter,script:p.value.script,gate_name:J.value,search_type:f};typeof E.sid=="number"?(xe=(P=H.value)==null?void 0:P.waveform_script)==null||xe.splice(E.sid,1,Y):(he=(Se=H.value)==null?void 0:Se.waveform_script)==null||he.push(Y)},I=()=>{const k=JSON.parse(JSON.stringify(H.value));E.sid&&delete k.space_parameter_script[String(E.sid)],k.space_parameter_script[p.value.space_params_key]=p.value.script,H.value=k},R=()=>{var k;(k=X.value)==null||k.validate(f=>{f||(O.value==="waveform_script"?r():O.value==="space_parameter_script"&&I(),ue())})},W=(k,f)=>{p.value=k,f&&(O.value=f)},D=k=>{p.value={...p.value,script:k}},J=Oe(()=>{const k=+p.value.layer;if(typeof k!="number")return"";const f=Z.value[k];let Y="";return f==null||f.some(pe=>{const Q=z.value?z.value[pe]:{};if(p.value.entity&&(Q!=null&&Q.entity.includes(p.value.entity)))return Y=Q.gate_name,!0}),Y});return A({open:oe,close:ue,setValue:W}),(k,f)=>{const Y=Sn,pe=xn,Q=wn,P=Rn,xe=Hn,Se=Nn,he=On,Me=En,Ge=At,qe=kt;return se(),me(qe,{show:a(L),"onUpdate:show":f[11]||(f[11]=Re=>vt(L)?L.value=Re:null),"on-update:show":ve},{default:M(()=>[m(Ge,{style:{width:"1200px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true",class:"!pt-0"},{default:M(()=>{var Re,Be;return[m(Me,{model:a(p),rules:a(ne),ref_key:"formRef",ref:X,size:"small",disabled:!!((Be=(Re=a(q))==null?void 0:Re.expInfo)!=null&&Be.exp_id)},{default:M(()=>[k.sid===void 0?(se(),me(pe,{key:0,value:a(O),"onUpdate:value":f[0]||(f[0]=v=>vt(O)?O.value=v:null),class:"mb-5"},{default:M(()=>[m(Y,{key:"waveform_script",value:"waveform_script"},{default:M(()=>f[12]||(f[12]=[Ie("Waveform Parameter")])),_:1}),m(Y,{key:"space_parameter_script",value:"space_parameter_script"},{default:M(()=>f[13]||(f[13]=[Ie("Space Parameter")])),_:1})]),_:1},8,["value"])):ge("",!0),a(O)==="waveform_script"?(se(),Ke("div",Gn,[de("div",{class:"pr-3 w-[260px]",style:Mn({borderRight:`2px solid ${a(ie).dividerColor}`})},[de("div",qn,[m(P,{label:a(y)("expInfo.tEntity"),path:"entity",class:"flex-1"},{default:M(()=>[m(Q,{value:a(p).entity,"onUpdate:value":f[1]||(f[1]=v=>a(p).entity=v)},null,8,["value"])]),_:1},8,["label"]),m(P,{label:a(y)("expInfo.tLayer"),path:"layer",class:"flex-1"},{default:M(()=>[m(xe,{class:"w-full",min:"0",value:a(p).layer,"onUpdate:value":f[2]||(f[2]=v=>a(p).layer=v)},null,8,["value"])]),_:1},8,["label"])]),m(P,{label:a(y)("expInfo.gateName"),class:"flex-1"},{default:M(()=>[m(Se,{"show-icon":!1,type:"info",class:"w-full"},{default:M(()=>[Ie(Te(a(J)),1)]),_:1})]),_:1},8,["label"]),m(P,{label:a(y)("expInfo.type"),path:"search_type",class:"flex-1"},{default:M(()=>[m(pe,{value:a(p).search_type,"onUpdate:value":f[3]||(f[3]=v=>a(p).search_type=v)},{default:M(()=>[m(Y,{label:"Wave Index",value:"ids"}),m(Y,{label:"Channel",value:"channel"}),m(Y,{label:"Wave Name",value:"name"})]),_:1},8,["value"])]),_:1},8,["label"]),a(p).search_type==="ids"?(se(),me(P,{key:0,label:a(y)("expInfo.tWaveIds"),path:"wave_ids"},{default:M(()=>[m(he,{value:a(p).wave_ids,"onUpdate:value":f[4]||(f[4]=v=>a(p).wave_ids=v),filterable:"",multiple:"",tag:""},null,8,["value"])]),_:1},8,["label"])):ge("",!0),a(p).search_type==="channel"?(se(),me(P,{key:1,label:a(y)("expInfo.tChannels"),path:"channels"},{default:M(()=>[m(he,{value:a(p).channels,"onUpdate:value":f[5]||(f[5]=v=>a(p).channels=v),filterable:"",multiple:"",tag:""},null,8,["value"])]),_:1},8,["label"])):ge("",!0),a(p).search_type==="name"?(se(),me(P,{key:2,label:a(y)("expInfo.waveName"),path:"wave_names"},{default:M(()=>[m(he,{value:a(p).wave_names,"onUpdate:value":f[6]||(f[6]=v=>a(p).wave_names=v),multiple:"",filterable:"",tag:""},null,8,["value"])]),_:1},8,["label"])):ge("",!0),m(P,{label:a(y)("expInfo.tParams"),path:"parameter",class:"flex-1"},{default:M(()=>[m(Q,{value:a(p).parameter,"onUpdate:value":f[7]||(f[7]=v=>a(p).parameter=v)},null,8,["value"])]),_:1},8,["label"])],4),de("div",Dn,[m(P,{path:"script"},{label:M(()=>{var v,ee;return[de("div",Jn,[de("span",Vn,Te(a(y)("expInfo.tScript")),1),(ee=(v=a(q))==null?void 0:v.expInfo)!=null&&ee.exp_id?ge("",!0):(se(),me(Et,{key:0,"onUpdate:value":D}))])]}),default:M(()=>{var v,ee;return[m(a(xt),{value:a(p).script,"onUpdate:value":f[8]||(f[8]=ke=>a(p).script=ke),height:"400px",theme:"vs-dark",language:"python",options:{readOnly:!!((ee=(v=a(q))==null?void 0:v.expInfo)!=null&&ee.exp_id)}},null,8,["value","options"])]}),_:1})])])):a(O)==="space_parameter_script"?(se(),Ke("div",Xn,[de("div",Yn,[m(P,{label:a(y)("expInfo.spaceParamsKey"),path:"space_params_key",class:"flex-1"},{default:M(()=>[m(Q,{value:a(p).space_params_key,"onUpdate:value":f[9]||(f[9]=v=>a(p).space_params_key=v)},null,8,["value"])]),_:1},8,["label"])]),m(P,{label:a(y)("expInfo.tScript"),path:"script"},{label:M(()=>{var v,ee;return[de("div",Zn,[de("span",Qn,Te(a(y)("expInfo.tScript")),1),(ee=(v=a(q))==null?void 0:v.expInfo)!=null&&ee.exp_id?ge("",!0):(se(),me(Et,{key:0,"onUpdate:value":D}))])]}),default:M(()=>{var v,ee;return[m(a(xt),{value:a(p).script,"onUpdate:value":f[10]||(f[10]=ke=>a(p).script=ke),height:"400px",theme:"vs-dark",language:"python",options:{readOnly:!!((ee=(v=a(q))==null?void 0:v.expInfo)!=null&&ee.exp_id)}},null,8,["value","options"])]}),_:1},8,["label"])])):ge("",!0)]),_:1},8,["model","rules","disabled"]),de("div",es,[m(a(Ce),{type:"primary",onClick:R},{default:M(()=>[Ie(Te(a(y)("common.OK")),1)]),_:1})])]}),_:1})]),_:1},8,["show"])}}});var tt,St;function ns(){if(St)return tt;St=1;function S(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const s=e[t],g=typeof s;(g==="object"||g==="function")&&!Object.isFrozen(s)&&S(s)}),e}class A{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function j(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function E(e,...t){const s=Object.create(null);for(const g in e)s[g]=e[g];return t.forEach(function(g){for(const T in g)s[T]=g[T]}),s}const V="</span>",ie=e=>!!e.scope,y=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const s=e.split(".");return[`${t}${s.shift()}`,...s.map((g,T)=>`${g}${"_".repeat(T+1)}`)].join(" ")}return`${t}${e}`};class q{constructor(t,s){this.buffer="",this.classPrefix=s.classPrefix,t.walk(this)}addText(t){this.buffer+=j(t)}openNode(t){if(!ie(t))return;const s=y(t.scope,{prefix:this.classPrefix});this.span(s)}closeNode(t){ie(t)&&(this.buffer+=V)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const H=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class z{constructor(){this.rootNode=H(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const s=H({scope:t});this.add(s),this.stack.push(s)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,s){return typeof s=="string"?t.addText(s):s.children&&(t.openNode(s),s.children.forEach(g=>this._walk(t,g)),t.closeNode(s)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(s=>typeof s=="string")?t.children=[t.children.join("")]:t.children.forEach(s=>{z._collapse(s)}))}}class Z extends z{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,s){const g=t.root;s&&(g.scope=`language:${s}`),this.add(g)}toHTML(){return new q(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function O(e){return e?typeof e=="string"?e:e.source:null}function X(e){return L("(?=",e,")")}function p(e){return L("(?:",e,")*")}function ne(e){return L("(?:",e,")?")}function L(...e){return e.map(s=>O(s)).join("")}function ue(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function oe(...e){return"("+(ue(e).capture?"":"?:")+e.map(g=>O(g)).join("|")+")"}function ve(e){return new RegExp(e.toString()+"|").exec("").length-1}function r(e,t){const s=e&&e.exec(t);return s&&s.index===0}const I=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function R(e,{joinWith:t}){let s=0;return e.map(g=>{s+=1;const T=s;let C=O(g),l="";for(;C.length>0;){const o=I.exec(C);if(!o){l+=C;break}l+=C.substring(0,o.index),C=C.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?l+="\\"+String(Number(o[1])+T):(l+=o[0],o[0]==="("&&s++)}return l}).map(g=>`(${g})`).join(t)}const W=/\b\B/,D="[a-zA-Z]\\w*",J="[a-zA-Z_]\\w*",k="\\b\\d+(\\.\\d+)?",f="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Y="\\b(0b[01]+)",pe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Q=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=L(t,/.*\b/,e.binary,/\b.*/)),E({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(s,g)=>{s.index!==0&&g.ignoreMatch()}},e)},P={begin:"\\\\[\\s\\S]",relevance:0},xe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[P]},Se={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[P]},he={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Me=function(e,t,s={}){const g=E({scope:"comment",begin:e,end:t,contains:[]},s);g.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const T=oe("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return g.contains.push({begin:L(/[ ]+/,"(",T,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),g},Ge=Me("//","$"),qe=Me("/\\*","\\*/"),Re=Me("#","$"),Be={scope:"number",begin:k,relevance:0},v={scope:"number",begin:f,relevance:0},ee={scope:"number",begin:Y,relevance:0},ke={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[P,{begin:/\[/,end:/\]/,relevance:0,contains:[P]}]},Tt={scope:"title",begin:D,relevance:0},Ct={scope:"title",begin:J,relevance:0},Bt={begin:"\\.\\s*"+J,relevance:0};var Le=Object.freeze({__proto__:null,APOS_STRING_MODE:xe,BACKSLASH_ESCAPE:P,BINARY_NUMBER_MODE:ee,BINARY_NUMBER_RE:Y,COMMENT:Me,C_BLOCK_COMMENT_MODE:qe,C_LINE_COMMENT_MODE:Ge,C_NUMBER_MODE:v,C_NUMBER_RE:f,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(t,s)=>{s.data._beginMatch=t[1]},"on:end":(t,s)=>{s.data._beginMatch!==t[1]&&s.ignoreMatch()}})},HASH_COMMENT_MODE:Re,IDENT_RE:D,MATCH_NOTHING_RE:W,METHOD_GUARD:Bt,NUMBER_MODE:Be,NUMBER_RE:k,PHRASAL_WORDS_MODE:he,QUOTE_STRING_MODE:Se,REGEXP_MODE:ke,RE_STARTERS_RE:pe,SHEBANG:Q,TITLE_MODE:Tt,UNDERSCORE_IDENT_RE:J,UNDERSCORE_TITLE_MODE:Ct});function Lt(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Pt(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function $t(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Lt,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Ht(e,t){Array.isArray(e.illegal)&&(e.illegal=oe(...e.illegal))}function Ut(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function jt(e,t){e.relevance===void 0&&(e.relevance=1)}const Wt=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const s=Object.assign({},e);Object.keys(e).forEach(g=>{delete e[g]}),e.keywords=s.keywords,e.begin=L(s.beforeMatch,X(s.begin)),e.starts={relevance:0,contains:[Object.assign(s,{endsParent:!0})]},e.relevance=0,delete s.beforeMatch},Ft=["of","and","for","in","not","or","if","then","parent","list","value"],zt="keyword";function st(e,t,s=zt){const g=Object.create(null);return typeof e=="string"?T(s,e.split(" ")):Array.isArray(e)?T(s,e):Object.keys(e).forEach(function(C){Object.assign(g,st(e[C],t,C))}),g;function T(C,l){t&&(l=l.map(o=>o.toLowerCase())),l.forEach(function(o){const d=o.split("|");g[d[0]]=[C,Kt(d[0],d[1])]})}}function Kt(e,t){return t?Number(t):Gt(e)?0:1}function Gt(e){return Ft.includes(e.toLowerCase())}const it={},ye=e=>{console.error(e)},rt=(e,...t)=>{console.log(`WARN: ${e}`,...t)},we=(e,t)=>{it[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),it[`${e}/${t}`]=!0)},Pe=new Error;function at(e,t,{key:s}){let g=0;const T=e[s],C={},l={};for(let o=1;o<=t.length;o++)l[o+g]=T[o],C[o+g]=!0,g+=ve(t[o-1]);e[s]=l,e[s]._emit=C,e[s]._multi=!0}function qt(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ye("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Pe;if(typeof e.beginScope!="object"||e.beginScope===null)throw ye("beginScope must be object"),Pe;at(e,e.begin,{key:"beginScope"}),e.begin=R(e.begin,{joinWith:""})}}function Dt(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ye("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Pe;if(typeof e.endScope!="object"||e.endScope===null)throw ye("endScope must be object"),Pe;at(e,e.end,{key:"endScope"}),e.end=R(e.end,{joinWith:""})}}function Jt(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Vt(e){Jt(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),qt(e),Dt(e)}function Xt(e){function t(l,o){return new RegExp(O(l),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class s{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,d){d.position=this.position++,this.matchIndexes[this.matchAt]=d,this.regexes.push([d,o]),this.matchAt+=ve(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(d=>d[1]);this.matcherRe=t(R(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const d=this.matcherRe.exec(o);if(!d)return null;const F=d.findIndex((Ae,Je)=>Je>0&&Ae!==void 0),$=this.matchIndexes[F];return d.splice(0,F),Object.assign(d,$)}}class g{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const d=new s;return this.rules.slice(o).forEach(([F,$])=>d.addRule(F,$)),d.compile(),this.multiRegexes[o]=d,d}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,d){this.rules.push([o,d]),d.type==="begin"&&this.count++}exec(o){const d=this.getMatcher(this.regexIndex);d.lastIndex=this.lastIndex;let F=d.exec(o);if(this.resumingScanAtSamePosition()&&!(F&&F.index===this.lastIndex)){const $=this.getMatcher(0);$.lastIndex=this.lastIndex+1,F=$.exec(o)}return F&&(this.regexIndex+=F.position+1,this.regexIndex===this.count&&this.considerAll()),F}}function T(l){const o=new g;return l.contains.forEach(d=>o.addRule(d.begin,{rule:d,type:"begin"})),l.terminatorEnd&&o.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&o.addRule(l.illegal,{type:"illegal"}),o}function C(l,o){const d=l;if(l.isCompiled)return d;[Pt,Ut,Vt,Wt].forEach($=>$(l,o)),e.compilerExtensions.forEach($=>$(l,o)),l.__beforeBegin=null,[$t,Ht,jt].forEach($=>$(l,o)),l.isCompiled=!0;let F=null;return typeof l.keywords=="object"&&l.keywords.$pattern&&(l.keywords=Object.assign({},l.keywords),F=l.keywords.$pattern,delete l.keywords.$pattern),F=F||/\w+/,l.keywords&&(l.keywords=st(l.keywords,e.case_insensitive)),d.keywordPatternRe=t(F,!0),o&&(l.begin||(l.begin=/\B|\b/),d.beginRe=t(d.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(d.endRe=t(d.end)),d.terminatorEnd=O(d.end)||"",l.endsWithParent&&o.terminatorEnd&&(d.terminatorEnd+=(l.end?"|":"")+o.terminatorEnd)),l.illegal&&(d.illegalRe=t(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function($){return Yt($==="self"?l:$)})),l.contains.forEach(function($){C($,d)}),l.starts&&C(l.starts,o),d.matcher=T(d),d}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=E(e.classNameAliases||{}),C(e)}function ot(e){return e?e.endsWithParent||ot(e.starts):!1}function Yt(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return E(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:ot(e)?E(e,{starts:e.starts?E(e.starts):null}):Object.isFrozen(e)?E(e):e}var Zt="11.11.1";class Qt extends Error{constructor(t,s){super(t),this.name="HTMLInjectionError",this.html=s}}const De=j,lt=E,ct=Symbol("nomatch"),en=7,ut=function(e){const t=Object.create(null),s=Object.create(null),g=[];let T=!0;const C="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Z};function d(n){return o.noHighlightRe.test(n)}function F(n){let u=n.className+" ";u+=n.parentNode?n.parentNode.className:"";const b=o.languageDetectRe.exec(u);if(b){const w=_e(b[1]);return w||(rt(C.replace("{}",b[1])),rt("Falling back to no-highlight mode for this block.",n)),w?b[1]:"no-highlight"}return u.split(/\s+/).find(w=>d(w)||_e(w))}function $(n,u,b){let w="",U="";typeof u=="object"?(w=n,b=u.ignoreIllegals,U=u.language):(we("10.7.0","highlight(lang, code, ...args) has been deprecated."),we("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),U=n,w=u),b===void 0&&(b=!0);const re={code:w,language:U};He("before:highlight",re);const be=re.result?re.result:Ae(re.language,re.code,b);return be.code=re.code,He("after:highlight",be),be}function Ae(n,u,b,w){const U=Object.create(null);function re(i,c){return i.keywords[c]}function be(){if(!h.keywords){K.addText(N);return}let i=0;h.keywordPatternRe.lastIndex=0;let c=h.keywordPatternRe.exec(N),_="";for(;c;){_+=N.substring(i,c.index);const x=ce.case_insensitive?c[0].toLowerCase():c[0],G=re(h,x);if(G){const[fe,mn]=G;if(K.addText(_),_="",U[x]=(U[x]||0)+1,U[x]<=en&&(We+=mn),fe.startsWith("_"))_+=c[0];else{const vn=ce.classNameAliases[fe]||fe;le(c[0],vn)}}else _+=c[0];i=h.keywordPatternRe.lastIndex,c=h.keywordPatternRe.exec(N)}_+=N.substring(i),K.addText(_)}function Ue(){if(N==="")return;let i=null;if(typeof h.subLanguage=="string"){if(!t[h.subLanguage]){K.addText(N);return}i=Ae(h.subLanguage,N,!0,mt[h.subLanguage]),mt[h.subLanguage]=i._top}else i=Ve(N,h.subLanguage.length?h.subLanguage:null);h.relevance>0&&(We+=i.relevance),K.__addSublanguage(i._emitter,i.language)}function te(){h.subLanguage!=null?Ue():be(),N=""}function le(i,c){i!==""&&(K.startScope(c),K.addText(i),K.endScope())}function gt(i,c){let _=1;const x=c.length-1;for(;_<=x;){if(!i._emit[_]){_++;continue}const G=ce.classNameAliases[i[_]]||i[_],fe=c[_];G?le(fe,G):(N=fe,be(),N=""),_++}}function ht(i,c){return i.scope&&typeof i.scope=="string"&&K.openNode(ce.classNameAliases[i.scope]||i.scope),i.beginScope&&(i.beginScope._wrap?(le(N,ce.classNameAliases[i.beginScope._wrap]||i.beginScope._wrap),N=""):i.beginScope._multi&&(gt(i.beginScope,c),N="")),h=Object.create(i,{parent:{value:h}}),h}function _t(i,c,_){let x=r(i.endRe,_);if(x){if(i["on:end"]){const G=new A(i);i["on:end"](c,G),G.isMatchIgnored&&(x=!1)}if(x){for(;i.endsParent&&i.parent;)i=i.parent;return i}}if(i.endsWithParent)return _t(i.parent,c,_)}function dn(i){return h.matcher.regexIndex===0?(N+=i[0],1):(Qe=!0,0)}function gn(i){const c=i[0],_=i.rule,x=new A(_),G=[_.__beforeBegin,_["on:begin"]];for(const fe of G)if(fe&&(fe(i,x),x.isMatchIgnored))return dn(c);return _.skip?N+=c:(_.excludeBegin&&(N+=c),te(),!_.returnBegin&&!_.excludeBegin&&(N=c)),ht(_,i),_.returnBegin?0:c.length}function hn(i){const c=i[0],_=u.substring(i.index),x=_t(h,i,_);if(!x)return ct;const G=h;h.endScope&&h.endScope._wrap?(te(),le(c,h.endScope._wrap)):h.endScope&&h.endScope._multi?(te(),gt(h.endScope,i)):G.skip?N+=c:(G.returnEnd||G.excludeEnd||(N+=c),te(),G.excludeEnd&&(N=c));do h.scope&&K.closeNode(),!h.skip&&!h.subLanguage&&(We+=h.relevance),h=h.parent;while(h!==x.parent);return x.starts&&ht(x.starts,i),G.returnEnd?0:c.length}function _n(){const i=[];for(let c=h;c!==ce;c=c.parent)c.scope&&i.unshift(c.scope);i.forEach(c=>K.openNode(c))}let je={};function bt(i,c){const _=c&&c[0];if(N+=i,_==null)return te(),0;if(je.type==="begin"&&c.type==="end"&&je.index===c.index&&_===""){if(N+=u.slice(c.index,c.index+1),!T){const x=new Error(`0 width match regex (${n})`);throw x.languageName=n,x.badRule=je.rule,x}return 1}if(je=c,c.type==="begin")return gn(c);if(c.type==="illegal"&&!b){const x=new Error('Illegal lexeme "'+_+'" for mode "'+(h.scope||"<unnamed>")+'"');throw x.mode=h,x}else if(c.type==="end"){const x=hn(c);if(x!==ct)return x}if(c.type==="illegal"&&_==="")return N+=`
`,1;if(Ze>1e5&&Ze>c.index*3)throw new Error("potential infinite loop, way more iterations than matches");return N+=_,_.length}const ce=_e(n);if(!ce)throw ye(C.replace("{}",n)),new Error('Unknown language: "'+n+'"');const bn=Xt(ce);let Ye="",h=w||bn;const mt={},K=new o.__emitter(o);_n();let N="",We=0,Ee=0,Ze=0,Qe=!1;try{if(ce.__emitTokens)ce.__emitTokens(u,K);else{for(h.matcher.considerAll();;){Ze++,Qe?Qe=!1:h.matcher.considerAll(),h.matcher.lastIndex=Ee;const i=h.matcher.exec(u);if(!i)break;const c=u.substring(Ee,i.index),_=bt(c,i);Ee=i.index+_}bt(u.substring(Ee))}return K.finalize(),Ye=K.toHTML(),{language:n,value:Ye,relevance:We,illegal:!1,_emitter:K,_top:h}}catch(i){if(i.message&&i.message.includes("Illegal"))return{language:n,value:De(u),illegal:!0,relevance:0,_illegalBy:{message:i.message,index:Ee,context:u.slice(Ee-100,Ee+100),mode:i.mode,resultSoFar:Ye},_emitter:K};if(T)return{language:n,value:De(u),illegal:!1,relevance:0,errorRaised:i,_emitter:K,_top:h};throw i}}function Je(n){const u={value:De(n),illegal:!1,relevance:0,_top:l,_emitter:new o.__emitter(o)};return u._emitter.addText(n),u}function Ve(n,u){u=u||o.languages||Object.keys(t);const b=Je(n),w=u.filter(_e).filter(dt).map(te=>Ae(te,n,!1));w.unshift(b);const U=w.sort((te,le)=>{if(te.relevance!==le.relevance)return le.relevance-te.relevance;if(te.language&&le.language){if(_e(te.language).supersetOf===le.language)return 1;if(_e(le.language).supersetOf===te.language)return-1}return 0}),[re,be]=U,Ue=re;return Ue.secondBest=be,Ue}function tn(n,u,b){const w=u&&s[u]||b;n.classList.add("hljs"),n.classList.add(`language-${w}`)}function Xe(n){let u=null;const b=F(n);if(d(b))return;if(He("before:highlightElement",{el:n,language:b}),n.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",n);return}if(n.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(n)),o.throwUnescapedHTML))throw new Qt("One of your code blocks includes unescaped HTML.",n.innerHTML);u=n;const w=u.textContent,U=b?$(w,{language:b,ignoreIllegals:!0}):Ve(w);n.innerHTML=U.value,n.dataset.highlighted="yes",tn(n,b,U.language),n.result={language:U.language,re:U.relevance,relevance:U.relevance},U.secondBest&&(n.secondBest={language:U.secondBest.language,relevance:U.secondBest.relevance}),He("after:highlightElement",{el:n,result:U,text:w})}function nn(n){o=lt(o,n)}const sn=()=>{$e(),we("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function rn(){$e(),we("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let pt=!1;function $e(){function n(){$e()}if(document.readyState==="loading"){pt||window.addEventListener("DOMContentLoaded",n,!1),pt=!0;return}document.querySelectorAll(o.cssSelector).forEach(Xe)}function an(n,u){let b=null;try{b=u(e)}catch(w){if(ye("Language definition for '{}' could not be registered.".replace("{}",n)),T)ye(w);else throw w;b=l}b.name||(b.name=n),t[n]=b,b.rawDefinition=u.bind(null,e),b.aliases&&ft(b.aliases,{languageName:n})}function on(n){delete t[n];for(const u of Object.keys(s))s[u]===n&&delete s[u]}function ln(){return Object.keys(t)}function _e(n){return n=(n||"").toLowerCase(),t[n]||t[s[n]]}function ft(n,{languageName:u}){typeof n=="string"&&(n=[n]),n.forEach(b=>{s[b.toLowerCase()]=u})}function dt(n){const u=_e(n);return u&&!u.disableAutodetect}function cn(n){n["before:highlightBlock"]&&!n["before:highlightElement"]&&(n["before:highlightElement"]=u=>{n["before:highlightBlock"](Object.assign({block:u.el},u))}),n["after:highlightBlock"]&&!n["after:highlightElement"]&&(n["after:highlightElement"]=u=>{n["after:highlightBlock"](Object.assign({block:u.el},u))})}function un(n){cn(n),g.push(n)}function pn(n){const u=g.indexOf(n);u!==-1&&g.splice(u,1)}function He(n,u){const b=n;g.forEach(function(w){w[b]&&w[b](u)})}function fn(n){return we("10.7.0","highlightBlock will be removed entirely in v12.0"),we("10.7.0","Please use highlightElement now."),Xe(n)}Object.assign(e,{highlight:$,highlightAuto:Ve,highlightAll:$e,highlightElement:Xe,highlightBlock:fn,configure:nn,initHighlighting:sn,initHighlightingOnLoad:rn,registerLanguage:an,unregisterLanguage:on,listLanguages:ln,getLanguage:_e,registerAliases:ft,autoDetection:dt,inherit:lt,addPlugin:un,removePlugin:pn}),e.debugMode=function(){T=!1},e.safeMode=function(){T=!0},e.versionString=Zt,e.regex={concat:L,lookahead:X,either:oe,optional:ne,anyNumberOfTimes:p};for(const n in Le)typeof Le[n]=="object"&&S(Le[n]);return Object.assign(e,Le),e},Ne=ut({});return Ne.newInstance=()=>ut({}),tt=Ne,Ne.HighlightJS=Ne,Ne.default=Ne,tt}var ss=ns();const ze=kn(ss);function is(S){const A=S.regex,j=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),E=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],q={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:E,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},H={className:"meta",begin:/^(>>>|\.\.\.) /},z={className:"subst",begin:/\{/,end:/\}/,keywords:q,illegal:/#/},Z={begin:/\{\{/,relevance:0},O={className:"string",contains:[S.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[S.BACKSLASH_ESCAPE,H],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[S.BACKSLASH_ESCAPE,H],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[S.BACKSLASH_ESCAPE,H,Z,z]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[S.BACKSLASH_ESCAPE,H,Z,z]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[S.BACKSLASH_ESCAPE,Z,z]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[S.BACKSLASH_ESCAPE,Z,z]},S.APOS_STRING_MODE,S.QUOTE_STRING_MODE]},X="[0-9](_?[0-9])*",p=`(\\b(${X}))?\\.(${X})|\\b(${X})\\.`,ne=`\\b|${E.join("|")}`,L={className:"number",relevance:0,variants:[{begin:`(\\b(${X})|(${p}))[eE][+-]?(${X})[jJ]?(?=${ne})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${ne})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${ne})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${ne})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${ne})`},{begin:`\\b(${X})[jJ](?=${ne})`}]},ue={className:"comment",begin:A.lookahead(/# type:/),end:/$/,keywords:q,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},oe={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:q,contains:["self",H,L,O,S.HASH_COMMENT_MODE]}]};return z.contains=[O,L,H],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:q,illegal:/(<\/|\?)|=>/,contains:[H,L,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},O,ue,S.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,j],scope:{1:"keyword",3:"title.function"},contains:[oe]},{variants:[{match:[/\bclass/,/\s+/,j,/\s*/,/\(\s*/,j,/\s*\)/]},{match:[/\bclass/,/\s+/,j]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[L,oe,O]}]}}var Mt=nt({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(S){var A=ae(S.language);It(function(){return S.language},function(V){A.value=V});var j=Oe(function(){return S.autodetect||!A.value}),E=Oe(function(){return!j.value&&!ze.getLanguage(A.value)});return{className:Oe(function(){return E.value?"":"hljs "+A.value}),highlightedCode:Oe(function(){var V;if(E.value)return console.warn('The language "'+A.value+'" you specified could not be found.'),S.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(j.value){var ie=ze.highlightAuto(S.code);return A.value=(V=ie.language)!==null&&V!==void 0?V:"",ie.value}return(ie=ze.highlight(S.code,{language:A.value,ignoreIllegals:S.ignoreIllegals})).value})}},render:function(){return B("pre",{},[B("code",{class:this.className,innerHTML:this.highlightedCode})])}}),Rt={install:function(S){S.component("highlightjs",Mt)},component:Mt};const rs={key:0,class:"flex justify-between items-center mb-2"},vs=nt({__name:"ExpProgram",setup(S){const{t:A}=Nt(),j=wt(),{program:E}=Ot(j),V=ae(0),{width:ie}=An();ze.registerLanguage("javascript",is);const y=In({show:!1,content:""}),q=r=>{r||(y.show=!1,y.content="")},H=r=>{y.content=r,y.show=!0},z=ae(!1),Z=ae(),O=ae(),X=()=>{z.value=!0,et(()=>{var r;(r=O.value)==null||r.open()})},p=()=>{z.value=!1,Z.value=void 0},ne=Oe(()=>{const{waveform_script:r,space_parameter_script:I}=E.value||{};let R=[];return r&&(R=R.concat(r==null?void 0:r.map(W=>({...W,type:"waveform_script"})))),I&&Tn(I,(W,D)=>{R.push({position:D,type:"space_parameter_script",script:W})}),R}),L=(r,I)=>{var R,W,D;if(r.type==="waveform_script")(W=(R=E.value)==null?void 0:R.waveform_script)==null||W.splice(I,1);else if(r.type==="space_parameter_script"){const J=JSON.parse(JSON.stringify((D=E.value)==null?void 0:D.space_parameter_script));delete J[r.position],E.value={...E.value,space_parameter_script:J}}},ue=(r,I)=>{z.value=!0,et(()=>{var W,D,J;const R=JSON.parse(JSON.stringify(r));R.type==="waveform_script"?(Z.value=I,(W=O.value)==null||W.setValue(R,"waveform_script")):R.type==="space_parameter_script"&&(Z.value=r.position,(D=O.value)==null||D.setValue({space_params_key:R.position,script:R.script},"space_parameter_script")),(J=O.value)==null||J.open()})},oe=ae([{title:A("expInfo.tType"),key:"type",width:180,render:r=>{var I;return(I=Cn[r.type])==null?void 0:I.label}},{title:A("expInfo.tPosition"),key:"position",width:100,render:r=>{if(r.type==="waveform_script")return B("div",{class:"min-w-[300px]"},[B(Fe,{type:"success",bordered:!1,size:"small"},{default:()=>[`${r.gate_name||""}`,"(",`${r.entity}`,` Layer${r.layer}`,")"].join("")}),B("span"," -> "),Bn(r==null?void 0:r.wave_func_names)?B(Fe,{bordered:!1,color:{color:"#7816ff",textColor:"#fff"},size:"small"},{default:()=>{if((r==null?void 0:r.search_type)==="channel")return`Channels [${(r==null?void 0:r.channels)||""}]`;if((r==null?void 0:r.search_type)==="ids")return`Wave Index [${(r==null?void 0:r.wave_ids)||""}]`;if((r==null?void 0:r.search_type)==="name")return`Wave Names [${(r==null?void 0:r.wave_names)||""}]`}}):B(Fe,{type:"warning",bordered:!1,size:"small"},{default:()=>[`${(r==null?void 0:r.wave_func_names)||""}`].join("")}),B("span"," -> "),B(Fe,{type:"info",bordered:!1,size:"small"},{default:()=>[`${r.parameter}`].join("")})]);if(r.type==="space_parameter_script")return r.position}},{title:A("expInfo.tScript"),key:"script",className:"tstd",render:r=>{var I,R;return B("div",{class:"flex w-full"},[B("div",{class:"flex-1]",style:{width:`${V.value?V.value-70:0}px`}},[B(Rt.component,{language:"python",code:r.script,style:{maxHeight:"62px",overflow:"hidden"}}),B("div",{class:"h-3 bg-[#22272e]"})]),((R=(I=r==null?void 0:r.script)==null?void 0:I.trim())==null?void 0:R.split(`
`).length)>2?B(Ce,{class:"!bg-[#22272e] !h-[74px] !px-2",onClick:()=>H(r.script),style:{color:"#fff"}},{default:()=>A("expInfo.more")}):null])}},{title:A("expInfo.tOptions"),key:"options",width:100,render:(r,I)=>{var W;const R={quaternary:!0,type:"info",size:"small"};return Un([(W=j==null?void 0:j.expInfo)!=null&&W.exp_id?null:B(Kn,{onPositiveClick:()=>L(r,I)},{default:()=>A("common.removeConfirm"),icon:()=>B(Ln,{color:"#e88080",size:22},{default:()=>B(Fn)}),trigger:()=>B(Ce,{...R,type:"error"},{icon:()=>B(jn)})}),B(Ce,{...R,type:"info",onClick:()=>ue(r,I)},{icon:()=>B(Wn)})])}}]),ve=()=>{et(()=>{setTimeout(()=>{const r=document.querySelector(".tstd");r&&r.clientWidth&&(V.value=r.clientWidth)},300)})};return Pn(()=>{ve()}),It(ie,()=>{ve()}),(r,I)=>{var J,k;const R=$n,W=At,D=kt;return se(),Ke("div",null,[(k=(J=a(j))==null?void 0:J.expInfo)!=null&&k.exp_id?ge("",!0):(se(),Ke("div",rs,[m(a(Ce),{type:"primary",onClick:X},{icon:M(()=>[m(a(zn))]),default:M(()=>[Ie(" "+Te(a(A)("expInfo.addParameterScript")),1)]),_:1})])),m(a(yt),{"x-scrollable":"",style:{"max-width":"calc(100vw - 212px)","max-height":"calc(100vh - 280px)"}},{default:M(()=>[m(R,{columns:a(oe),data:a(ne)},null,8,["columns","data"])]),_:1}),a(z)?(se(),me(ts,{key:1,ref_key:"ScriptModalRef",ref:O,sid:a(Z),onClose:p},null,8,["sid"])):ge("",!0),m(D,{show:a(y).show,"onUpdate:show":I[0]||(I[0]=f=>a(y).show=f),"on-update:show":q},{default:M(()=>[m(W,{style:{width:"800px"},"content-class":"!p-3",size:"huge",bordered:!1},{default:M(()=>[m(a(yt),{style:{"max-height":"80vh"}},{default:M(()=>[m(a(Rt).component,{code:a(y).content,language:"python"},null,8,["code"])]),_:1})]),_:1})]),_:1},8,["show"])])}}});export{vs as default};
