import{dU as be,Q as o,d as M,aB as ne,bu as Ee,bs as qe,br as We,bt as Ge,J as j,aw as le,ap as q,am as $,ao as N,ar as Re,ax as ae,dV as Ct,az as Le,aA as ze,aq as Q,be as Xe,dW as kt,r as T,aH as E,cF as Ye,aG as Ke,cn as Be,bX as Te,aM as we,co as De,bR as Rt,cA as Ie,cB as zt,aE as he,dX as xe,ba as Ze,bK as $t,dY as Ue,Y as Pt,B as K,dZ as St,cz as Lt,d_ as Bt,bU as Tt,d$ as Dt,e0 as It,a0 as Ut,e1 as Mt,ab as se,e2 as Ot,cb as Ft,au as jt,e3 as Me,aY as me,G as ce,u as te,P as ve,e as H,f as I,h as C,b as oe,o as Ce,E as ee,L as $e,l as u,M as re,w as v,i as m,v as _e,k as Je,m as Qe,n as et,p as Vt,t as D,cN as Nt,a2 as At,e4 as Ht,a6 as Oe,N as ge,s as A,H as Et,a7 as Pe,e5 as qt,ag as Se,bF as Wt,K as Gt,a as tt,a3 as nt,z as fe,a$ as rt,bB as Xt,R as ot,S as Yt,a4 as Kt,cJ as Zt,U as Jt,V as it,X as lt,a9 as st,ac as at,ai as Qt,ae as de,j as ct,aj as Fe,ad as ut}from"./index-CvCv8tjC.js";import{C as en}from"./CommingSoon-BZ1lQaWI.js";import{A as tn}from"./Add-D6uUqg2u.js";import"./index-D5YeMwg8.js";import{A as nn}from"./Add-DSV7m2CF.js";import{b as rn,a as on}from"./Tabs-CqcYRKXl.js";import"./debounce-D4NDO7dG.js";const ln=be("attach",()=>o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),sn=be("cancel",()=>o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),an=be("retry",()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),o("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),cn=be("trash",()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),un={success:o(Ge,null),error:o(We,null),warning:o(qe,null),info:o(Ee,null)},dn=M({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:n}){function t(i,a,l,c){const{gapDegree:s,viewBoxWidth:g,strokeWidth:d}=e,f=50,_=0,k=f,h=0,y=2*f,B=50+d/2,L=`M ${B},${B} m ${_},${k}
      a ${f},${f} 0 1 1 ${h},-100
      a ${f},${f} 0 1 1 0,${y}`,z=Math.PI*2*f,S={stroke:c==="rail"?l:typeof e.fillColor=="object"?"url(#gradient)":l,strokeDasharray:`${i/100*(z-s)}px ${g*8}px`,strokeDashoffset:`-${s/2}px`,transformOrigin:a?"center":void 0,transform:a?`rotate(${a}deg)`:void 0};return{pathString:L,pathStyle:S}}const r=()=>{const i=typeof e.fillColor=="object",a=i?e.fillColor.stops[0]:"",l=i?e.fillColor.stops[1]:"";return i&&o("defs",null,o("linearGradient",{id:"gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%"},o("stop",{offset:"0%","stop-color":a}),o("stop",{offset:"100%","stop-color":l})))};return()=>{const{fillColor:i,railColor:a,strokeWidth:l,offsetDegree:c,status:s,percentage:g,showIndicator:d,indicatorTextColor:f,unit:_,gapOffsetDegree:k,clsPrefix:h}=e,{pathString:y,pathStyle:B}=t(100,0,a,"rail"),{pathString:L,pathStyle:z}=t(g,c,i,"fill"),S=100+l;return o("div",{class:`${h}-progress-content`,role:"none"},o("div",{class:`${h}-progress-graph`,"aria-hidden":!0},o("div",{class:`${h}-progress-graph-circle`,style:{transform:k?`rotate(${k}deg)`:void 0}},o("svg",{viewBox:`0 0 ${S} ${S}`},r(),o("g",null,o("path",{class:`${h}-progress-graph-circle-rail`,d:y,"stroke-width":l,"stroke-linecap":"round",fill:"none",style:B})),o("g",null,o("path",{class:[`${h}-progress-graph-circle-fill`,g===0&&`${h}-progress-graph-circle-fill--empty`],d:L,"stroke-width":l,"stroke-linecap":"round",fill:"none",style:z}))))),d?o("div",null,n.default?o("div",{class:`${h}-progress-custom-content`,role:"none"},n.default()):s!=="default"?o("div",{class:`${h}-progress-icon`,"aria-hidden":!0},o(ne,{clsPrefix:h},{default:()=>un[s]})):o("div",{class:`${h}-progress-text`,style:{color:f},role:"none"},o("span",{class:`${h}-progress-text__percentage`},g),o("span",{class:`${h}-progress-text__unit`},_))):null)}}}),gn={success:o(Ge,null),error:o(We,null),warning:o(qe,null),info:o(Ee,null)},fn=M({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:n}){const t=j(()=>le(e.height)),r=j(()=>{var l,c;return typeof e.fillColor=="object"?`linear-gradient(to right, ${(l=e.fillColor)===null||l===void 0?void 0:l.stops[0]} , ${(c=e.fillColor)===null||c===void 0?void 0:c.stops[1]})`:e.fillColor}),i=j(()=>e.railBorderRadius!==void 0?le(e.railBorderRadius):e.height!==void 0?le(e.height,{c:.5}):""),a=j(()=>e.fillBorderRadius!==void 0?le(e.fillBorderRadius):e.railBorderRadius!==void 0?le(e.railBorderRadius):e.height!==void 0?le(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:l,railColor:c,railStyle:s,percentage:g,unit:d,indicatorTextColor:f,status:_,showIndicator:k,processing:h,clsPrefix:y}=e;return o("div",{class:`${y}-progress-content`,role:"none"},o("div",{class:`${y}-progress-graph`,"aria-hidden":!0},o("div",{class:[`${y}-progress-graph-line`,{[`${y}-progress-graph-line--indicator-${l}`]:!0}]},o("div",{class:`${y}-progress-graph-line-rail`,style:[{backgroundColor:c,height:t.value,borderRadius:i.value},s]},o("div",{class:[`${y}-progress-graph-line-fill`,h&&`${y}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,background:r.value,height:t.value,lineHeight:t.value,borderRadius:a.value}},l==="inside"?o("div",{class:`${y}-progress-graph-line-indicator`,style:{color:f}},n.default?n.default():`${g}${d}`):null)))),k&&l==="outside"?o("div",null,n.default?o("div",{class:`${y}-progress-custom-content`,style:{color:f},role:"none"},n.default()):_==="default"?o("div",{role:"none",class:`${y}-progress-icon ${y}-progress-icon--as-text`,style:{color:f}},g,d):o("div",{class:`${y}-progress-icon`,"aria-hidden":!0},o(ne,{clsPrefix:y},{default:()=>gn[_]}))):null)}}});function je(e,n,t=100){return`m ${t/2} ${t/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const pn=M({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:n}){const t=j(()=>e.percentage.map((a,l)=>`${Math.PI*a/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*l)-e.circleGap*l)*2}, ${e.viewBoxWidth*8}`)),r=(i,a)=>{const l=e.fillColor[a],c=typeof l=="object"?l.stops[0]:"",s=typeof l=="object"?l.stops[1]:"";return typeof e.fillColor[a]=="object"&&o("linearGradient",{id:`gradient-${a}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},o("stop",{offset:"0%","stop-color":c}),o("stop",{offset:"100%","stop-color":s}))};return()=>{const{viewBoxWidth:i,strokeWidth:a,circleGap:l,showIndicator:c,fillColor:s,railColor:g,railStyle:d,percentage:f,clsPrefix:_}=e;return o("div",{class:`${_}-progress-content`,role:"none"},o("div",{class:`${_}-progress-graph`,"aria-hidden":!0},o("div",{class:`${_}-progress-graph-circle`},o("svg",{viewBox:`0 0 ${i} ${i}`},o("defs",null,f.map((k,h)=>r(k,h))),f.map((k,h)=>o("g",{key:h},o("path",{class:`${_}-progress-graph-circle-rail`,d:je(i/2-a/2*(1+2*h)-l*h,a,i),"stroke-width":a,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:g[h]},d[h]]}),o("path",{class:[`${_}-progress-graph-circle-fill`,k===0&&`${_}-progress-graph-circle-fill--empty`],d:je(i/2-a/2*(1+2*h)-l*h,a,i),"stroke-width":a,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:t.value[h],strokeDashoffset:0,stroke:typeof s[h]=="object"?`url(#gradient-${h})`:s[h]}})))))),c&&n.default?o("div",null,o("div",{class:`${_}-progress-text`},n.default())):null)}}}),hn=q([$("progress",{display:"inline-block"},[$("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),N("line",`
 width: 100%;
 display: block;
 `,[$("progress-content",`
 display: flex;
 align-items: center;
 `,[$("progress-graph",{flex:1})]),$("progress-custom-content",{marginLeft:"14px"}),$("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[N("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),N("circle, dashboard",{width:"120px"},[$("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),$("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),$("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),N("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[$("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),$("progress-content",{position:"relative"}),$("progress-graph",{position:"relative"},[$("progress-graph-circle",[q("svg",{verticalAlign:"bottom"}),$("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[N("empty",{opacity:0})]),$("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),$("progress-graph-line",[N("indicator-inside",[$("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[$("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),$("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),N("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[$("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),$("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),$("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[$("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[N("processing",[q("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),q("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),mn=Object.assign(Object.assign({},ae.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),vn=M({name:"Progress",props:mn,setup(e){const n=j(()=>e.indicatorPlacement||e.indicatorPosition),t=j(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:i}=Re(e),a=ae("Progress","-progress",hn,Ct,e,r),l=j(()=>{const{status:s}=e,{common:{cubicBezierEaseInOut:g},self:{fontSize:d,fontSizeCircle:f,railColor:_,railHeight:k,iconSizeCircle:h,iconSizeLine:y,textColorCircle:B,textColorLineInner:L,textColorLineOuter:z,lineBgProcessing:S,fontWeightCircle:R,[Le("iconColor",s)]:p,[Le("fillColor",s)]:P}}=a.value;return{"--n-bezier":g,"--n-fill-color":P,"--n-font-size":d,"--n-font-size-circle":f,"--n-font-weight-circle":R,"--n-icon-color":p,"--n-icon-size-circle":h,"--n-icon-size-line":y,"--n-line-bg-processing":S,"--n-rail-color":_,"--n-rail-height":k,"--n-text-color-circle":B,"--n-text-color-line-inner":L,"--n-text-color-line-outer":z}}),c=i?ze("progress",j(()=>e.status[0]),l,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:n,gapDeg:t,cssVars:i?void 0:l,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{type:e,cssVars:n,indicatorTextColor:t,showIndicator:r,status:i,railColor:a,railStyle:l,color:c,percentage:s,viewBoxWidth:g,strokeWidth:d,mergedIndicatorPlacement:f,unit:_,borderRadius:k,fillBorderRadius:h,height:y,processing:B,circleGap:L,mergedClsPrefix:z,gapDeg:S,gapOffsetDegree:R,themeClass:p,$slots:P,onRender:x}=this;return x==null||x(),o("div",{class:[p,`${z}-progress`,`${z}-progress--${e}`,`${z}-progress--${i}`],style:n,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?o(dn,{clsPrefix:z,status:i,showIndicator:r,indicatorTextColor:t,railColor:a,fillColor:c,railStyle:l,offsetDegree:this.offsetDegree,percentage:s,viewBoxWidth:g,strokeWidth:d,gapDegree:S===void 0?e==="dashboard"?75:0:S,gapOffsetDegree:R,unit:_},P):e==="line"?o(fn,{clsPrefix:z,status:i,showIndicator:r,indicatorTextColor:t,railColor:a,fillColor:c,railStyle:l,percentage:s,processing:B,indicatorPlacement:f,unit:_,fillBorderRadius:h,railBorderRadius:k,height:y},P):e==="multiple-circle"?o(pn,{clsPrefix:z,strokeWidth:d,railColor:a,fillColor:c,railStyle:l,viewBoxWidth:g,percentage:s,showIndicator:r,circleGap:L},P):null)}}),_n=$("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[N("horizontal",`
 flex-direction: row;
 `),N("vertical",`
 flex-direction: column;
 `),$("split-pane-1",`
 overflow: hidden;
 `),$("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),Q("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[N("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),q("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),yn=Object.assign(Object.assign({},ae.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),wn=M({name:"Split",props:yn,slots:Object,setup(e){var n;const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=Re(e),i=ae("Split","-split",_n,kt,e,t),a=j(()=>{const{common:{cubicBezierEaseInOut:S},self:{resizableTriggerColor:R,resizableTriggerColorHover:p}}=i.value;return{"--n-bezier":S,"--n-resize-trigger-color":R,"--n-resize-trigger-color-hover":p}}),l=T(null),c=T(!1),s=E(e,"size"),g=T(e.defaultSize);!((n=e.watchProps)===null||n===void 0)&&n.includes("defaultSize")&&Ye(()=>g.value=e.defaultSize);const d=S=>{const R=e["onUpdate:size"];e.onUpdateSize&&we(e.onUpdateSize,S),R&&we(R,S),g.value=S},f=Ke(s,g),_=j(()=>{const S=f.value;if(typeof S=="string")return{flex:`0 0 ${S}`};if(typeof S=="number"){const R=S*100;return{flex:`0 0 calc(${R}% - ${e.resizeTriggerSize*R/100}px)`}}}),k=j(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),h=j(()=>{const S=e.direction==="horizontal";return{width:S?`${e.resizeTriggerSize}px`:"",height:S?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let y=0;const B=S=>{S.preventDefault(),c.value=!0,e.onDragStart&&e.onDragStart(S);const R="mousemove",p="mouseup",P=b=>{L(b),e.onDragMove&&e.onDragMove(b)},x=()=>{De(R,document,P),De(p,document,x),c.value=!1,e.onDragEnd&&e.onDragEnd(S),document.body.style.cursor=""};document.body.style.cursor=h.value.cursor,Be(R,document,P),Be(p,document,x);const w=l.value;if(w){const b=w.getBoundingClientRect();e.direction==="horizontal"?y=S.clientX-b.left:y=b.top-S.clientY}L(S)};function L(S){var R,p;const P=(p=(R=l.value)===null||R===void 0?void 0:R.parentElement)===null||p===void 0?void 0:p.getBoundingClientRect();if(!P)return;const{direction:x}=e,w=P.width-e.resizeTriggerSize,b=P.height-e.resizeTriggerSize,U=x==="horizontal"?w:b,F=x==="horizontal"?S.clientX-P.left-y:S.clientY-P.top+y,{min:W,max:V}=e,X=typeof W=="string"?Te(W):W*U,G=typeof V=="string"?Te(V):V*U;let O=F;O=Math.max(O,X),O=Math.min(O,G,U),typeof f.value=="string"?d(`${O}px`):d(O/U)}const z=r?ze("split",void 0,a,e):void 0;return{themeClass:z==null?void 0:z.themeClass,onRender:z==null?void 0:z.onRender,cssVars:r?void 0:a,resizeTriggerElRef:l,isDragging:c,mergedClsPrefix:t,resizeTriggerWrapperStyle:h,resizeTriggerStyle:k,handleMouseDown:B,firstPaneStyle:_}},render(){var e,n,t,r,i;return(e=this.onRender)===null||e===void 0||e.call(this),o("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},o("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(t=(n=this.$slots)[1])===null||t===void 0?void 0:t.call(n)),!this.disabled&&o("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},Xe(this.$slots["resize-trigger"],()=>[o("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),o("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(i=(r=this.$slots)[2])===null||i===void 0?void 0:i.call(r)))}}),ue=Rt("n-upload"),bn=q([$("upload","width: 100%;",[N("dragger-inside",[$("upload-trigger",`
 display: block;
 `)]),N("drag-over",[$("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),$("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[q("&:hover",`
 border: var(--n-dragger-border-hover);
 `),N("disabled",`
 cursor: not-allowed;
 `)]),$("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[q("+",[$("upload-file-list","margin-top: 8px;")]),N("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),N("image-card",`
 width: 96px;
 height: 96px;
 `,[$("base-icon",`
 font-size: 24px;
 `),$("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),$("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[q("a, img","outline: none;"),N("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[$("upload-file","cursor: not-allowed;")]),N("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),$("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ie(),$("progress",[Ie({foldPadding:!0})]),q("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[$("upload-file-info",[Q("action",`
 opacity: 1;
 `)])]),N("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[$("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[$("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Q("name",`
 padding: 0 8px;
 `),Q("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[q("img",`
 width: 100%;
 `)])])]),N("text-type",[$("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),N("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[$("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),$("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Q("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[q("img",`
 width: 100%;
 `)])]),q("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),q("&:hover",[q("&::before","opacity: 1;"),$("upload-file-info",[Q("thumbnail","opacity: .12;")])])]),N("error-status",[q("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),$("upload-file-info",[Q("name","color: var(--n-item-text-color-error);"),Q("thumbnail","color: var(--n-item-text-color-error);")]),N("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),N("with-url",`
 cursor: pointer;
 `,[$("upload-file-info",[Q("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[q("a",`
 text-decoration: underline;
 `)])])]),$("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Q("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[$("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Q("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[$("button",[q("&:not(:last-child)",{marginRight:"4px"}),$("base-icon",[q("svg",[zt()])])]),N("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),N("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Q("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[q("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),$("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),dt="__UPLOAD_DRAGGER__",xn=M({name:"UploadDragger",[dt]:!0,setup(e,{slots:n}){const t=he(ue,null);return t||xe("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:i},maxReachedRef:{value:a}}=t;return o("div",{class:[`${r}-upload-dragger`,(i||a)&&`${r}-upload-dragger--disabled`]},n)}}}),Cn=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),kn=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"}))),Rn=M({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:he(ue).mergedThemeRef}},render(){return o(Ze,null,{default:()=>this.show?o(vn,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var ke=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(d){try{g(r.next(d))}catch(f){l(f)}}function s(d){try{g(r.throw(d))}catch(f){l(f)}}function g(d){d.done?a(d.value):i(d.value).then(c,s)}g((r=r.apply(e,n||[])).next())})};function gt(e){return e.includes("image/")}function Ve(e=""){const n=e.split("/"),r=n[n.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]}const Ne=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,ft=e=>{if(e.type)return gt(e.type);const n=Ve(e.name||"");if(Ne.test(n))return!0;const t=e.thumbnailUrl||e.url||"",r=Ve(t);return!!(/^data:image\//.test(t)||Ne.test(r))};function zn(e){return ke(this,void 0,void 0,function*(){return yield new Promise(n=>{if(!e.type||!gt(e.type)){n("");return}n(window.URL.createObjectURL(e))})})}const $n=$t&&window.FileReader&&window.File;function Pn(e){return e.isDirectory}function Sn(e){return e.isFile}function Ln(e,n){return ke(this,void 0,void 0,function*(){const t=[];function r(i){return ke(this,void 0,void 0,function*(){for(const a of i)if(a){if(n&&Pn(a)){const l=a.createReader();let c=[],s;try{do s=yield new Promise((g,d)=>{l.readEntries(g,d)}),c=c.concat(s);while(s.length>0)}catch(g){Ue("upload","error happens when handling directory upload",g)}yield r(c)}else if(Sn(a))try{const l=yield new Promise((c,s)=>{a.file(c,s)});t.push({file:l,entry:a,source:"dnd"})}catch(l){Ue("upload","error happens when handling file upload",l)}}})}return yield r(e),t})}function pe(e){const{id:n,name:t,percentage:r,status:i,url:a,file:l,thumbnailUrl:c,type:s,fullPath:g,batchId:d}=e;return{id:n,name:t,percentage:r??null,status:i,url:a??null,file:l??null,thumbnailUrl:c??null,type:s??null,fullPath:g??null,batchId:d??null}}function Bn(e,n,t){return e=e.toLowerCase(),n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase(),t.split(",").map(i=>i.trim()).filter(Boolean).some(i=>{if(i.startsWith(".")){if(e.endsWith(i))return!0}else if(i.includes("/")){const[a,l]=n.split("/"),[c,s]=i.split("/");if((c==="*"||a&&c&&c===a)&&(s==="*"||l&&s&&s===l))return!0}else return!0;return!1})}var Ae=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(d){try{g(r.next(d))}catch(f){l(f)}}function s(d){try{g(r.throw(d))}catch(f){l(f)}}function g(d){d.done?a(d.value):i(d.value).then(c,s)}g((r=r.apply(e,n||[])).next())})};const ye={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Tn=M({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const n=he(ue),t=T(null),r=T(""),i=j(()=>{const{file:p}=e;return p.status==="finished"?"success":p.status==="error"?"error":"info"}),a=j(()=>{const{file:p}=e;if(p.status==="error")return"error"}),l=j(()=>{const{file:p}=e;return p.status==="uploading"}),c=j(()=>{if(!n.showCancelButtonRef.value)return!1;const{file:p}=e;return["uploading","pending","error"].includes(p.status)}),s=j(()=>{if(!n.showRemoveButtonRef.value)return!1;const{file:p}=e;return["finished"].includes(p.status)}),g=j(()=>{if(!n.showDownloadButtonRef.value)return!1;const{file:p}=e;return["finished"].includes(p.status)}),d=j(()=>{if(!n.showRetryButtonRef.value)return!1;const{file:p}=e;return["error"].includes(p.status)}),f=Tt(()=>r.value||e.file.thumbnailUrl||e.file.url),_=j(()=>{if(!n.showPreviewButtonRef.value)return!1;const{file:{status:p},listType:P}=e;return["finished"].includes(p)&&f.value&&P==="image-card"});function k(){return Ae(this,void 0,void 0,function*(){const p=n.onRetryRef.value;p&&(yield p({file:e.file}))===!1||n.submit(e.file.id)})}function h(p){p.preventDefault();const{file:P}=e;["finished","pending","error"].includes(P.status)?B(P):["uploading"].includes(P.status)?z(P):Dt("upload","The button clicked type is unknown.")}function y(p){p.preventDefault(),L(e.file)}function B(p){const{xhrMap:P,doChange:x,onRemoveRef:{value:w},mergedFileListRef:{value:b}}=n;Promise.resolve(w?w({file:Object.assign({},p),fileList:b,index:e.index}):!0).then(U=>{if(U===!1)return;const F=Object.assign({},p,{status:"removed"});P.delete(p.id),x(F,void 0,{remove:!0})})}function L(p){const{onDownloadRef:{value:P},customDownloadRef:{value:x}}=n;Promise.resolve(P?P(Object.assign({},p)):!0).then(w=>{w!==!1&&(x?x(Object.assign({},p)):It(p.url,p.name))})}function z(p){const{xhrMap:P}=n,x=P.get(p.id);x==null||x.abort(),B(Object.assign({},p))}function S(p){const{onPreviewRef:{value:P}}=n;if(P)P(e.file,{event:p});else if(e.listType==="image-card"){const{value:x}=t;if(!x)return;x.click()}}const R=()=>Ae(this,void 0,void 0,function*(){const{listType:p}=e;p!=="image"&&p!=="image-card"||n.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield n.getFileThumbnailUrlResolver(e.file))});return Ye(()=>{R()}),{mergedTheme:n.mergedThemeRef,progressStatus:i,buttonType:a,showProgress:l,disabled:n.mergedDisabledRef,showCancelButton:c,showRemoveButton:s,showDownloadButton:g,showRetryButton:d,showPreviewButton:_,mergedThumbnailUrl:f,shouldUseThumbnailUrl:n.shouldUseThumbnailUrlRef,renderIcon:n.renderIconRef,imageRef:t,handleRemoveOrCancelClick:h,handleDownloadClick:y,handleRetryClick:k,handlePreviewClick:S}},render(){const{clsPrefix:e,mergedTheme:n,listType:t,file:r,renderIcon:i}=this;let a;const l=t==="image";l||t==="image-card"?a=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?o("span",{class:`${e}-upload-file-info__thumbnail`},i?i(r):ft(r)?o(ne,{clsPrefix:e},{default:Cn}):o(ne,{clsPrefix:e},{default:kn})):o("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},t==="image-card"?o(Pt,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):o("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):a=o("span",{class:`${e}-upload-file-info__thumbnail`},i?i(r):o(ne,{clsPrefix:e},{default:()=>o(ln,null)}));const s=o(Rn,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),g=t==="text"||t==="image";return o("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&t!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${t}-type`]},o("div",{class:`${e}-upload-file-info`},a,o("div",{class:`${e}-upload-file-info__name`},g&&(r.url&&r.status!=="error"?o("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):o("span",{onClick:this.handlePreviewClick},r.name)),l&&s),o("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${t}-type`]},this.showPreviewButton?o(K,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>o(ne,{clsPrefix:e},{default:()=>o(St,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&o(K,{key:"cancelOrTrash",theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ye,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>o(Lt,null,{default:()=>this.showRemoveButton?o(ne,{clsPrefix:e,key:"trash"},{default:()=>o(cn,null)}):o(ne,{clsPrefix:e,key:"cancel"},{default:()=>o(sn,null)})})}),this.showRetryButton&&!this.disabled&&o(K,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>o(ne,{clsPrefix:e},{default:()=>o(an,null)})}),this.showDownloadButton?o(K,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>o(ne,{clsPrefix:e},{default:()=>o(Bt,null)})}):null)),!l&&s)}}),pt=M({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(e,{slots:n}){const t=he(ue,null);t||xe("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:i,maxReachedRef:a,listTypeRef:l,dragOverRef:c,openOpenFileDialog:s,draggerInsideRef:g,handleFileAddition:d,mergedDirectoryDndRef:f,triggerClassRef:_,triggerStyleRef:k}=t,h=j(()=>l.value==="image-card");function y(){i.value||a.value||s()}function B(R){R.preventDefault(),c.value=!0}function L(R){R.preventDefault(),c.value=!0}function z(R){R.preventDefault(),c.value=!1}function S(R){var p;if(R.preventDefault(),!g.value||i.value||a.value){c.value=!1;return}const P=(p=R.dataTransfer)===null||p===void 0?void 0:p.items;P!=null&&P.length?Ln(Array.from(P).map(x=>x.webkitGetAsEntry()),f.value).then(x=>{d(x)}).finally(()=>{c.value=!1}):c.value=!1}return()=>{var R;const{value:p}=r;return e.abstract?(R=n.default)===null||R===void 0?void 0:R.call(n,{handleClick:y,handleDrop:S,handleDragOver:B,handleDragEnter:L,handleDragLeave:z}):o("div",{class:[`${p}-upload-trigger`,(i.value||a.value)&&`${p}-upload-trigger--disabled`,h.value&&`${p}-upload-trigger--image-card`,_.value],style:k.value,onClick:y,onDrop:S,onDragover:B,onDragenter:L,onDragleave:z},h.value?o(xn,null,{default:()=>Xe(n.default,()=>[o(ne,{clsPrefix:p},{default:()=>o(tn,null)})])}):n)}}}),Dn=M({name:"UploadFileList",setup(e,{slots:n}){const t=he(ue,null);t||xe("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:i,listTypeRef:a,mergedFileListRef:l,fileListClassRef:c,fileListStyleRef:s,cssVarsRef:g,themeClassRef:d,maxReachedRef:f,showTriggerRef:_,imageGroupPropsRef:k}=t,h=j(()=>a.value==="image-card"),y=()=>l.value.map((L,z)=>o(Tn,{clsPrefix:i.value,key:L.id,file:L,index:z,listType:a.value})),B=()=>h.value?o(Ut,Object.assign({},k.value),{default:y}):o(Ze,{group:!0},{default:y});return()=>{const{value:L}=i,{value:z}=r;return o("div",{class:[`${L}-upload-file-list`,h.value&&`${L}-upload-file-list--grid`,z?d==null?void 0:d.value:void 0,c.value],style:[z&&g?g.value:"",s.value]},B(),_.value&&!f.value&&h.value&&o(pt,null,n))}}});var He=function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(d){try{g(r.next(d))}catch(f){l(f)}}function s(d){try{g(r.throw(d))}catch(f){l(f)}}function g(d){d.done?a(d.value):i(d.value).then(c,s)}g((r=r.apply(e,n||[])).next())})};function In(e,n,t){const{doChange:r,xhrMap:i}=e;let a=0;function l(s){var g;let d=Object.assign({},n,{status:"error",percentage:a});i.delete(n.id),d=pe(((g=e.onError)===null||g===void 0?void 0:g.call(e,{file:d,event:s}))||d),r(d,s)}function c(s){var g;if(e.isErrorState){if(e.isErrorState(t)){l(s);return}}else if(t.status<200||t.status>=300){l(s);return}let d=Object.assign({},n,{status:"finished",percentage:a});i.delete(n.id),d=pe(((g=e.onFinish)===null||g===void 0?void 0:g.call(e,{file:d,event:s}))||d),r(d,s)}return{handleXHRLoad:c,handleXHRError:l,handleXHRAbort(s){const g=Object.assign({},n,{status:"removed",file:null,percentage:a});i.delete(n.id),r(g,s)},handleXHRProgress(s){const g=Object.assign({},n,{status:"uploading"});if(s.lengthComputable){const d=Math.ceil(s.loaded/s.total*100);g.percentage=d,a=d}r(g,s)}}}function Un(e){const{inst:n,file:t,data:r,headers:i,withCredentials:a,action:l,customRequest:c}=e,{doChange:s}=e.inst;let g=0;c({file:t,data:r,headers:i,withCredentials:a,action:l,onProgress(d){const f=Object.assign({},t,{status:"uploading"}),_=d.percent;f.percentage=_,g=_,s(f)},onFinish(){var d;let f=Object.assign({},t,{status:"finished",percentage:g});f=pe(((d=n.onFinish)===null||d===void 0?void 0:d.call(n,{file:f}))||f),s(f)},onError(){var d;let f=Object.assign({},t,{status:"error",percentage:g});f=pe(((d=n.onError)===null||d===void 0?void 0:d.call(n,{file:f}))||f),s(f)}})}function Mn(e,n,t){const r=In(e,n,t);t.onabort=r.handleXHRAbort,t.onerror=r.handleXHRError,t.onload=r.handleXHRLoad,t.upload&&(t.upload.onprogress=r.handleXHRProgress)}function ht(e,n){return typeof e=="function"?e({file:n}):e||{}}function On(e,n,t){const r=ht(n,t);r&&Object.keys(r).forEach(i=>{e.setRequestHeader(i,r[i])})}function Fn(e,n,t){const r=ht(n,t);r&&Object.keys(r).forEach(i=>{e.append(i,r[i])})}function jn(e,n,t,{method:r,action:i,withCredentials:a,responseType:l,headers:c,data:s}){const g=new XMLHttpRequest;g.responseType=l,e.xhrMap.set(t.id,g),g.withCredentials=a;const d=new FormData;if(Fn(d,s,t),t.file!==null&&d.append(n,t.file),Mn(e,t,g),i!==void 0){g.open(r.toUpperCase(),i),On(g,c,t),g.send(d);const f=Object.assign({},t,{status:"uploading"});e.doChange(f)}}const Vn=Object.assign(Object.assign({},ae.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>$n?ft(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Nn=M({name:"Upload",props:Vn,setup(e){e.abstract&&e.listType==="image-card"&&xe("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=Re(e),r=ae("Upload","-upload",bn,Ot,e,n),i=Ft(e),a=T(e.defaultFileList),l=E(e,"fileList"),c=T(null),s={value:!1},g=T(!1),d=new Map,f=Ke(l,a),_=j(()=>f.value.map(pe)),k=j(()=>{const{max:b}=e;return b!==void 0?_.value.length>=b:!1});function h(){var b;(b=c.value)===null||b===void 0||b.click()}function y(b){const U=b.target;S(U.files?Array.from(U.files).map(F=>({file:F,entry:null,source:"input"})):null,b),U.value=""}function B(b){const{"onUpdate:fileList":U,onUpdateFileList:F}=e;U&&we(U,b),F&&we(F,b),a.value=b}const L=j(()=>e.multiple||e.directory),z=(b,U,F={append:!1,remove:!1})=>{const{append:W,remove:V}=F,X=Array.from(_.value),G=X.findIndex(O=>O.id===b.id);if(W||V||~G){W?X.push(b):V?X.splice(G,1):X.splice(G,1,b);const{onChange:O}=e;O&&O({file:b,fileList:X,event:U}),B(X)}};function S(b,U){if(!b||b.length===0)return;const{onBeforeUpload:F}=e;b=L.value?b:[b[0]];const{max:W,accept:V}=e;b=b.filter(({file:G,source:O})=>O==="dnd"&&(V!=null&&V.trim())?Bn(G.name,G.type,V):!0),W&&(b=b.slice(0,W-_.value.length));const X=Me();Promise.all(b.map(G=>He(this,[G],void 0,function*({file:O,entry:J}){var Z;const Y={id:Me(),batchId:X,name:O.name,status:"pending",percentage:0,file:O,url:null,type:O.type,thumbnailUrl:null,fullPath:(Z=J==null?void 0:J.fullPath)!==null&&Z!==void 0?Z:`/${O.webkitRelativePath||O.name}`};return!F||(yield F({file:Y,fileList:_.value}))!==!1?Y:null}))).then(G=>He(this,void 0,void 0,function*(){let O=Promise.resolve();G.forEach(J=>{O=O.then(me).then(()=>{J&&z(J,U,{append:!0})})}),yield O})).then(()=>{e.defaultUpload&&R()})}function R(b){const{method:U,action:F,withCredentials:W,headers:V,data:X,name:G}=e,O=b!==void 0?_.value.filter(Z=>Z.id===b):_.value,J=b!==void 0;O.forEach(Z=>{const{status:Y}=Z;(Y==="pending"||Y==="error"&&J)&&(e.customRequest?Un({inst:{doChange:z,xhrMap:d,onFinish:e.onFinish,onError:e.onError},file:Z,action:F,withCredentials:W,headers:V,data:X,customRequest:e.customRequest}):jn({doChange:z,xhrMap:d,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},G,Z,{method:U,action:F,withCredentials:W,responseType:e.responseType,headers:V,data:X}))})}function p(b){var U;if(b.thumbnailUrl)return b.thumbnailUrl;const{createThumbnailUrl:F}=e;return F?(U=F(b.file,b))!==null&&U!==void 0?U:b.url||"":b.url?b.url:b.file?zn(b.file):""}const P=j(()=>{const{common:{cubicBezierEaseInOut:b},self:{draggerColor:U,draggerBorder:F,draggerBorderHover:W,itemColorHover:V,itemColorHoverError:X,itemTextColorError:G,itemTextColorSuccess:O,itemTextColor:J,itemIconColor:Z,itemDisabledOpacity:Y,lineHeight:ie,borderRadius:yt,fontSize:wt,itemBorderImageCardError:bt,itemBorderImageCard:xt}}=r.value;return{"--n-bezier":b,"--n-border-radius":yt,"--n-dragger-border":F,"--n-dragger-border-hover":W,"--n-dragger-color":U,"--n-font-size":wt,"--n-item-color-hover":V,"--n-item-color-hover-error":X,"--n-item-disabled-opacity":Y,"--n-item-icon-color":Z,"--n-item-text-color":J,"--n-item-text-color-error":G,"--n-item-text-color-success":O,"--n-line-height":ie,"--n-item-border-image-card-error":bt,"--n-item-border-image-card":xt}}),x=t?ze("upload",void 0,P,e):void 0;jt(ue,{mergedClsPrefixRef:n,mergedThemeRef:r,showCancelButtonRef:E(e,"showCancelButton"),showDownloadButtonRef:E(e,"showDownloadButton"),showRemoveButtonRef:E(e,"showRemoveButton"),showRetryButtonRef:E(e,"showRetryButton"),onRemoveRef:E(e,"onRemove"),onDownloadRef:E(e,"onDownload"),customDownloadRef:E(e,"customDownload"),mergedFileListRef:_,triggerClassRef:E(e,"triggerClass"),triggerStyleRef:E(e,"triggerStyle"),shouldUseThumbnailUrlRef:E(e,"shouldUseThumbnailUrl"),renderIconRef:E(e,"renderIcon"),xhrMap:d,submit:R,doChange:z,showPreviewButtonRef:E(e,"showPreviewButton"),onPreviewRef:E(e,"onPreview"),getFileThumbnailUrlResolver:p,listTypeRef:E(e,"listType"),dragOverRef:g,openOpenFileDialog:h,draggerInsideRef:s,handleFileAddition:S,mergedDisabledRef:i.mergedDisabledRef,maxReachedRef:k,fileListClassRef:E(e,"fileListClass"),fileListStyleRef:E(e,"fileListStyle"),abstractRef:E(e,"abstract"),acceptRef:E(e,"accept"),cssVarsRef:t?void 0:P,themeClassRef:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender,showTriggerRef:E(e,"showTrigger"),imageGroupPropsRef:E(e,"imageGroupProps"),mergedDirectoryDndRef:j(()=>{var b;return(b=e.directoryDnd)!==null&&b!==void 0?b:e.directory}),onRetryRef:E(e,"onRetry")});const w={clear:()=>{a.value=[]},submit:R,openOpenFileDialog:h};return Object.assign({mergedClsPrefix:n,draggerInsideRef:s,inputElRef:c,mergedTheme:r,dragOver:g,mergedMultiple:L,cssVars:t?void 0:P,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender,handleFileInputChange:y},w)},render(){var e,n;const{draggerInsideRef:t,mergedClsPrefix:r,$slots:i,directory:a,onRender:l}=this;if(i.default&&!this.abstract){const s=i.default()[0];!((e=s==null?void 0:s.type)===null||e===void 0)&&e[dt]&&(t.value=!0)}const c=o("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:a||void 0,directory:a||void 0}));return this.abstract?o(se,null,(n=i.default)===null||n===void 0?void 0:n.call(i),o(Mt,{to:"body"},c)):(l==null||l(),o("div",{class:[`${r}-upload`,t.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},c,this.showTrigger&&this.listType!=="image-card"&&o(pt,null,i),this.showFileList&&o(Dn,null,i)))}});function An(e){return ce(te.getPluginList,e)}function Hn(){return ce(te.getLocalPluginList)}function En(e){return ve(te.createPlugin,e)}function qn(e){return ce(te.getPluginVersions,e)}function Wn(e){return ve(te.packagePlugin,e)}function Gn(e){return ce(te.installPlugin,e)}function Xn(e){return ce(te.unInstallPlugin,e)}function Yn(e){return ve(te.globalVisible,e)}function Kn(e){return ve(te.updatePlugin,e)}function Zn(e){return ce(te.getPluginConfig,e)}const Jn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qn=M({name:"InsertDriveFileOutlined",render:function(n,t){return I(),H("svg",Jn,t[0]||(t[0]=[C("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z",fill:"currentColor"},null,-1)]))}}),er={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},mt=M({name:"InstallDesktopFilled",render:function(n,t){return I(),H("svg",er,t[0]||(t[0]=[C("path",{d:"M20 17H4V5h8V3H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2v3z",fill:"currentColor"},null,-1),C("path",{d:"M17 14l5-5l-1.41-1.41L18 10.17V3h-2v7.17l-2.59-2.58L12 9z",fill:"currentColor"},null,-1)]))}}),tr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},nr=M({name:"UpgradeFilled",render:function(n,t){return I(),H("svg",tr,t[0]||(t[0]=[C("path",{d:"M16 18v2H8v-2h8zM11 7.99V16h2V7.99h3L12 4L8 7.99h3z",fill:"currentColor"},null,-1)]))}}),rr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},or=M({name:"Add12Regular",render:function(n,t){return I(),H("svg",rr,t[0]||(t[0]=[C("g",{fill:"none"},[C("path",{d:"M6 1.5a.5.5 0 0 0-1 0V5H1.5a.5.5 0 0 0 0 1H5v3.5a.5.5 0 0 0 1 0V6h3.5a.5.5 0 0 0 0-1H6V1.5z",fill:"currentColor"})],-1)]))}}),ir={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},lr=M({name:"Delete24Regular",render:function(n,t){return I(),H("svg",ir,t[0]||(t[0]=[C("g",{fill:"none"},[C("path",{d:"M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5zM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25z",fill:"currentColor"})],-1)]))}}),sr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ar=M({name:"UninstallApp24Regular",render:function(n,t){return I(),H("svg",sr,t[0]||(t[0]=[C("g",{fill:"none"},[C("path",{d:"M21.695 15.147l.084.072a.75.75 0 0 1 .072.977l-.072.084l-2.22 2.219l2.22 2.22a.75.75 0 0 1 .072.976l-.072.084a.75.75 0 0 1-.977.072l-.084-.072l-2.22-2.22l-2.218 2.22a.75.75 0 0 1-.976.072l-.085-.072a.75.75 0 0 1-.072-.977l.072-.084l2.219-2.22l-2.218-2.218a.75.75 0 0 1-.073-.976l.072-.085a.75.75 0 0 1 .977-.072l.084.072l2.219 2.219l2.22-2.218a.75.75 0 0 1 .976-.073zM18.75 3A2.25 2.25 0 0 1 21 5.25v5.25a2.25 2.25 0 0 1-2.25 2.25h-6v6A2.25 2.25 0 0 1 10.5 21H5.25A2.25 2.25 0 0 1 3 18.75V5.25A2.25 2.25 0 0 1 5.25 3h13.5zm-7.5 9.749H4.5v6.001c0 .414.336.75.75.75h5.25a.75.75 0 0 0 .75-.75v-6.001zm7.5-8.249h-6v6.75h6a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75zm-7.5 0h-6a.75.75 0 0 0-.75.75v5.999l6.75.001V4.5z",fill:"currentColor"})],-1)]))}}),cr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ur=M({name:"Close",render:function(n,t){return I(),H("svg",cr,t[0]||(t[0]=[C("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1)]))}}),dr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},gr=M({name:"CloudUploadOutline",render:function(n,t){return I(),H("svg",dr,t[0]||(t[0]=[C("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),C("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),C("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1)]))}}),fr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},pr=M({name:"Play",render:function(n,t){return I(),H("svg",fr,t[0]||(t[0]=[C("path",{d:"M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z",fill:"currentColor"},null,-1)]))}}),hr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},mr=M({name:"Map",render:function(n,t){return I(),H("svg",hr,t[0]||(t[0]=[C("path",{d:"M16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4z",fill:"currentColor"},null,-1),C("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),C("path",{d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1)]))}}),vr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},_r=M({name:"Package",render:function(n,t){return I(),H("svg",vr,t[0]||(t[0]=[C("path",{d:"M26 30H6a2 2 0 0 1-2-2V16a2 2 0 0 1 2-2h3v2H6v12h20V16h-3v-2h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2z",fill:"currentColor"},null,-1),C("path",{d:"M13 20h6v2h-6z",fill:"currentColor"},null,-1),C("path",{d:"M20.59 8.59L17 12.17V2h-2v10.17l-3.59-3.58L10 10l6 6l6-6l-1.41-1.41z",fill:"currentColor"},null,-1)]))}}),yr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},wr=M({name:"Version",render:function(n,t){return I(),H("svg",yr,t[0]||(t[0]=[C("path",{d:"M16 2v2h10v15h2V4a2.002 2.002 0 0 0-2-2z",fill:"currentColor"},null,-1),C("path",{d:"M11 7v2h10v15h2V9a2.002 2.002 0 0 0-2-2z",fill:"currentColor"},null,-1),C("path",{d:"M6 12h10a2.002 2.002 0 0 1 2 2v14a2.002 2.002 0 0 1-2 2H6a2.002 2.002 0 0 1-2-2V14a2.002 2.002 0 0 1 2-2zm10 2l-10-.001V28h10z",fill:"currentColor"},null,-1)]))}}),br={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},xr=M({name:"SwapOutlined",render:function(n,t){return I(),H("svg",br,t[0]||(t[0]=[C("path",{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1)]))}}),Cr={class:"flex justify-end"},kr={key:0},Rr={key:1},vt=M({__name:"CreatePlugin",emits:["success"],setup(e,{expose:n,emit:t}){const r=t,{t:i}=oe(),a=T(),l=T(!1),c=T(),s=T({plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}),g={plugin_name:{required:!0,message:"common.required"},description:{required:!0,message:"common.required"},must_be_installed:{required:!0,message:"common.required"},auto_upgrade:{required:!0,message:"common.required"}},d=T(!1),f=()=>{d.value=!1,s.value={plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}},_=R=>{R||f()},k=async()=>{const[R,p]=await En({...s.value,manager_user_ids:[],org_ids:s.value.org_ids||[]});l.value=!1,!R&&p&&p.status===0&&setTimeout(()=>{f(),r("success")},100)},h=async()=>{const[R,p]=await Kn({...s.value,manager_user_ids:[],org_ids:s.value.org_ids||[]});l.value=!1,!R&&p&&p.status===0&&setTimeout(()=>{f(),r("success")},100)},y=()=>{var R;l.value||(l.value=!0,(R=c.value)==null||R.validate(async p=>{if(p){l.value=!1;return}a.value==="update"?h():k()}))},B=T(),L=async()=>{var P,x;const[R,p]=await Nt();!R&&(p==null?void 0:p.status)===0&&(B.value=(x=(P=p==null?void 0:p.data)==null?void 0:P.organizations)==null?void 0:x.map(w=>({...w,label:w.organization_name,value:w.organization_id})))};return Ce(()=>{L()}),n({open:()=>d.value=!0,close:f,setValues:(R={})=>{s.value={...s.value,...R}},setType:R=>{a.value=R}}),(R,p)=>{const P=et,x=Qe,w=Vt,b=K,U=Je,F=_e,W=$e;return I(),ee(W,{show:u(d),"onUpdate:show":p[3]||(p[3]=V=>re(d)?d.value=V:null),"on-update:show":_},{default:v(()=>[m(F,{style:{width:"600px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true"},{default:v(()=>[m(U,{ref_key:"formRef",ref:c,model:u(s),rules:g},{default:v(()=>[m(x,{label:u(i)("pluginCenter.pluginName"),path:"plugin_name"},{default:v(()=>[m(P,{disabled:u(a)==="update",value:u(s).plugin_name,"onUpdate:value":p[0]||(p[0]=V=>u(s).plugin_name=V),placeholder:u(i)("pluginCenter.pluginName")},null,8,["disabled","value","placeholder"])]),_:1},8,["label"]),m(x,{label:u(i)("pluginCenter.description"),path:"description"},{default:v(()=>[m(P,{type:"textarea",value:u(s).description,"onUpdate:value":p[1]||(p[1]=V=>u(s).description=V),placeholder:u(i)("pluginCenter.description")},null,8,["value","placeholder"])]),_:1},8,["label"]),m(x,{label:u(i)("pluginCenter.visibleRange"),path:"org_ids"},{default:v(()=>[m(w,{filterable:"",multiple:"",clearable:"",placeholder:u(i)("pluginCenter.rangeTips"),value:u(s).org_ids,"onUpdate:value":p[2]||(p[2]=V=>u(s).org_ids=V),options:u(B)},null,8,["placeholder","value","options"])]),_:1},8,["label"]),C("div",Cr,[m(b,{type:"primary",loading:u(l),onClick:y},{default:v(()=>[u(a)==="update"?(I(),H("span",kr,D(u(i)("pluginCenter.update")),1)):(I(),H("span",Rr,D(u(i)("pluginCenter.create")),1))]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])}}}),zr={class:"font-bold flex justify-between mt-1.5 pr-2"},$r={class:"h-full flex flex-col"},Pr={class:"flex-1 flex items-center pl-2"},Sr={class:"flex-1 py-3 pl-3"},Lr={class:"whitespace-pre-line"},Br={key:1,class:"h-full flex justify-center items-center"},Tr={class:"flex justify-end gap-2"},Dr=M({__name:"PackageView",emits:["success"],setup(e,{expose:n,emit:t}){const r=t,{t:i}=oe(),a=At(),l=Ht("pathops",[]),c=T(),s=T(),g=T(!1),d=T(),f=T({plugin_dir:void 0}),_={plugin_dir:{required:!0,message:"common.required"}},k=T(!1),h=T(!1),y=()=>{h.value=!1,s.value=void 0},B=()=>{k.value=!1,s.value=void 0,f.value={plugin_dir:void 0}},L=()=>{const x=l.value||[];x.unshift(f.value.plugin_dir),l.value=[...new Set(x)]},z=async()=>{if(s.value=void 0,g.value||(g.value=!0,!c.value))return;const[x,w]=await Wn({plugin_dir:c.value});g.value=!1,!x&&(w==null?void 0:w.status)===1&&(s.value={type:"error",text:w.msg}),!x&&w&&w.status===0&&(s.value={type:"success",text:w==null?void 0:w.data},r("success"))},S=()=>{var x;L(),c.value=(x=f.value)==null?void 0:x.plugin_dir,B()};Ce(()=>{Array.isArray(l.value)||(l.value=[])}),n({open:()=>{h.value=!0},close:y});const R=x=>{c.value===x.key&&me(()=>{setTimeout(()=>{c.value=void 0},200)}),l.value=Wt(l.value,x.label)},p=()=>{k.value=!0},P=x=>o("div",{className:"flex items-center gap-2"},[o(ge,{onClick:()=>R(x),component:Qn}),o(Se,null,{default:()=>x.label}),o(ge,{color:"#f00",style:"display: none",onClick:()=>R(x),component:lr})]);return(x,w)=>{const b=K,U=qt,F=Pe,W=Et,V=wn,X=_e,G=$e,O=et,J=Qe,Z=Je;return I(),H(se,null,[m(G,{show:u(h),"onUpdate:show":w[1]||(w[1]=Y=>re(h)?h.value=Y:null),"mask-closable":!1},{default:v(()=>[m(X,{style:{width:"1200px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true","content-class":"!p-4"},{default:v(()=>[m(V,{min:.1,max:.75,"default-size":"200px"},{1:v(()=>[C("div",zr,[A(D(u(i)("pluginCenter.plugin"))+" ",1),m(b,{type:"primary",size:"tiny",onClick:p},{icon:v(()=>[m(u(or))]),_:1})]),m(F,{style:{"max-height":"80vh","min-height":"500px"}},{default:v(()=>{var Y;return[m(U,{indent:0,"collapsed-width":64,"collapsed-icon-size":22,options:(Y=u(l))==null?void 0:Y.map(ie=>({label:ie,key:ie})),"render-label":P,value:u(c),"onUpdate:value":w[0]||(w[0]=ie=>re(c)?c.value=ie:null)},null,8,["options","value"])]}),_:1})]),2:v(()=>[C("div",$r,[C("div",{class:"flex justify-end gap-2 pb-2 border-b",style:Oe({borderColor:u(a).dividerColor})},[C("div",Pr,D(u(c)),1),m(b,{disabled:!u(c),type:"primary",loading:u(g),onClick:z},{icon:v(()=>[m(u(pr))]),default:v(()=>[A(" "+D(u(i)("pluginCenter.package")),1)]),_:1},8,["disabled","loading"]),m(b,{type:"primary",onClick:y},{icon:v(()=>[m(u(ur))]),_:1})],4),C("div",Sr,[u(s)?(I(),ee(W,{key:0,"show-icon":!1,type:u(s).type,class:"mb-5 max-h-48 overflow-y-auto"},{default:v(()=>[w[4]||(w[4]=C("div",null,"Result:",-1)),C("div",Lr,D(u(s).text),1)]),_:1},8,["type"])):(I(),H("div",Br,[m(en,{class:"h-full"})]))])])]),"resize-trigger":v(()=>[C("div",{style:Oe({height:"100%",backgroundColor:u(a).dividerColor,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px"})},[m(u(ge),{color:"white",size:16},{default:v(()=>[m(u(xr))]),_:1})],4)]),_:1})]),_:1})]),_:1},8,["show"]),m(G,{show:u(k),"onUpdate:show":w[3]||(w[3]=Y=>re(k)?k.value=Y:null),"mask-closable":!1,"auto-focus":!1},{default:v(()=>[m(X,{style:{width:"600px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true","content-class":"!p-4"},{default:v(()=>[m(Z,{ref_key:"formRef",ref:d,model:u(f),rules:_},{default:v(()=>[m(W,{class:"w-full mb-5",type:"info"},{default:v(()=>[A(D(u(i)("pluginCenter.packagePathPlaceholder")),1)]),_:1}),m(J,{label:u(i)("pluginCenter.packagePath"),path:"plugin_dir"},{default:v(()=>[m(O,{value:u(f).plugin_dir,"onUpdate:value":w[2]||(w[2]=Y=>u(f).plugin_dir=Y),clearable:""},null,8,["value"])]),_:1},8,["label"]),C("div",Tr,[m(b,{type:"default",onClick:B},{default:v(()=>[A(D(u(i)("common.cancel")),1)]),_:1}),m(b,{type:"primary",loading:u(g),onClick:S},{default:v(()=>[A(D(u(i)("common.OK")),1)]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])],64)}}}),Ir=Gt(Dr,[["__scopeId","data-v-56486782"]]),Ur="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='swap-box-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='%20100'%20d='M3%203L21%203C21.2652%203%2021.5196%203.10536%2021.7071%203.29289C21.8946%203.48043%2022%203.73478%2022%204L22%2020C22%2020.2652%2021.8946%2020.5196%2021.7071%2020.7071C21.5196%2020.8946%2021.2652%2021%2021%2021L3%2021C2.73478%2021%202.48043%2020.8946%202.29289%2020.7071C2.10536%2020.5196%202%2020.2652%202%2020L2%204C2%203.73478%202.10536%203.48043%202.29289%203.29289C2.48043%203.10536%202.73478%203%203%203L3%203ZM15%207L15%209L11%209L11%2011L15%2011L15%2013L18.5%2010L15%207ZM9%2017L9%2015L13%2015L13%2013L9%2013L9%2011L5.5%2014L9%2017Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",Mr="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='file-edit-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='%2044'%20d='M21%2015.243L21%2021.008C20.9997%2021.2712%2020.895%2021.5235%2020.7088%2021.7095C20.5226%2021.8955%2020.2702%2022%2020.007%2022L3.99302%2022C3.8617%2021.9991%203.73184%2021.9723%203.61087%2021.9212C3.48989%2021.8701%203.38017%2021.7957%203.28796%2021.7022C3.19575%2021.6087%203.12286%2021.4979%203.07346%2021.3762C3.02405%2021.2545%202.9991%2021.1243%203.00002%2020.993L3.00002%209L9.00002%209C9.26524%209%209.51959%208.89464%209.70713%208.70711C9.89467%208.51957%2010%208.26522%2010%208L10%202L20.002%202C20.553%202%2021%202.455%2021%202.992L21%206.757L12.001%2015.757L11.995%2019.995L16.241%2020.001L21%2015.243ZM21.778%208.808L23.192%2010.222L15.414%2018L13.998%2017.998L14%2016.586L21.778%208.808L21.778%208.808ZM3.00002%207L8.00002%202.003L8.00002%207L3.00002%207Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",Or={class:"absolute top-0 right-0 inline-flex items-center gap-1"},Fr=["src"],jr=["src"],Vr=M({__name:"ActionView",props:{cfg:{},uid:{},id:{},visible:{type:Boolean}},emits:["visible:success","refresh"],setup(e,{emit:n}){const t=tt(),r=nt(),{t:i}=oe(),a=T(),l=n,c=e,s=T(!1),g=async()=>{const[h,y]=await Yn({plugin_id:c.id,visible:!c.visible});!h&&(y==null?void 0:y.status)===0&&(r.success(i("pluginCenter.setupSuccess")),l("visible:success"))},d=T(!1),f=async()=>{const[h,y]=await Zn({plugin_id:c.id});if(!h&&(y==null?void 0:y.status)===0)return y.data.org_list},_=async()=>{const h=await f();d.value=!0,me(()=>{setTimeout(()=>{var y,B,L;(y=a.value)==null||y.open(),(B=a.value)==null||B.setValues({plugin_name:c.cfg.plugin_name,plugin_id:c.cfg.plugin_id,description:c.cfg.description,must_be_installed:c.cfg.must_be_installed,auto_upgrade:c.cfg.auto_upgrade,manager_user_ids:void 0,org_ids:h==null?void 0:h.map(z=>z.organization_id)}),(L=a.value)==null||L.setType("update")},100)})},k=()=>{l("refresh")};return(h,y)=>{var L,z;const B=rt;return I(),H(se,null,[C("div",Or,[u(s)?(I(),ee(B,{key:0,placement:"top-start",trigger:"hover"},{trigger:v(()=>[C("img",{class:"w-5 cursor-pointer",src:u(Ur),alt:"",onClick:g},null,8,Fr)]),default:v(()=>[A(" "+D(u(i)("pluginCenter.visibleTips")),1)]),_:1})):fe("",!0),((L=u(t).info)==null?void 0:L.user_id)===h.uid||(z=u(t).info)!=null&&z.is_sys_admin?(I(),ee(B,{key:1,placement:"top-start",trigger:"hover"},{trigger:v(()=>[C("img",{class:"w-5 cursor-pointer",src:u(Mr),alt:"",onClick:_},null,8,jr)]),default:v(()=>[A(" "+D(u(i)("pluginCenter.edit")),1)]),_:1})):fe("",!0)]),u(d)?(I(),ee(vt,{key:0,ref_key:"createPluginRef",ref:a,onSuccess:k},null,512)):fe("",!0)],64)}}}),_t=M({__name:"UploadFile",props:{url:{}},emits:["success"],setup(e,{emit:n}){const{t}=oe(),r=e,i=n,a=nt(),l=async({file:c,data:s,onFinish:g,onError:d,onProgress:f})=>{const _=new FormData;s&&Object.keys(s).forEach(y=>{_.append(y,s[y])}),_.append("plugin_file",c.file);const[k,h]=await ve(r.url,_,{headers:{"Content-Type":"multipart/form-data"}});!k&&(h==null?void 0:h.status)===0?(g(),i("success"),a.success(t("pluginCenter.uploadSuccessfully"))):d()};return(c,s)=>{const g=Nn;return I(),ee(g,{"custom-request":l,"show-file-list":!1},{default:v(()=>[Xt(c.$slots,"default")]),_:3})}}}),Nr=M({__name:"VersionList",props:{pluginId:{}},setup(e,{expose:n}){const{t}=oe(),r=e,i=T(!1),a=[{title:t("pluginCenter.version"),key:"full_version_code"},{title:t("pluginCenter.updateDesc"),key:"update_description"},{title:t("pluginCenter.hooks"),key:"hook",render:_=>_.hook||"-"},{title:t("pluginCenter.createTime"),key:"create_time",minWidth:100,render:_=>_.create_time?new Date(_.create_time).toLocaleString():"-"}],l=ot({page:1,per_page:Yt,total:0}),c=T(),s=async()=>{if(!r.pluginId||!i.value)return;const[_,k]=await qn({...lt(l),plugin_id:r.pluginId});!_&&k&&k.status===0&&(c.value=k.data.list,l.total=k.data.total)},g=_=>{_||d()},d=()=>{i.value=!1};Kt(()=>r.pluginId,_=>{_&&s()});const f=()=>{l.page=1,me(()=>{s()})};return n({open:()=>i.value=!0,close:d,fetchList:s}),(_,k)=>{const h=K,y=Jt,B=_e,L=$e;return I(),ee(L,{show:u(i),"onUpdate:show":k[1]||(k[1]=z=>re(i)?i.value=z:null),"on-update:show":g},{default:v(()=>[m(B,{style:{width:"80vw"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true",class:"!pt-0"},{default:v(()=>[m(Zt,{title:u(t)("pluginCenter.versions")},{extra:v(()=>[C("div",null,[m(_t,{url:u(te).uploadVersion,data:{plugin_id:_.pluginId},onSuccess:f},{default:v(()=>[m(h,{type:"primary"},{icon:v(()=>[m(u(gr))]),default:v(()=>[A(" "+D(u(t)("pluginCenter.upload")),1)]),_:1})]),_:1},8,["url","data"])])]),_:1},8,["title"]),m(y,{columns:a,data:u(c),pagination:!1,"scroll-x":1e3},null,8,["data"]),m(it,{"page-info":u(l),"onUpdate:pageInfo":k[0]||(k[0]=z=>re(l)?l.value=z:null),onUpdateList:s},null,8,["page-info"])]),_:1})]),_:1},8,["show"])}}}),Ar={class:"relative"},Hr={class:"break-keep text-xl"},Er={class:"inline-block ml-2"},qr={class:"opacity-75 text-xs mt-2"},Wr={class:"flex"},Gr={class:"break-keep pr-2"},Xr={class:"flex flex-col gap-2 mt-2 min-h-[62px]"},Yr={class:"mt-2"},Kr={class:""},Zr={class:"flex justify-around items-center gap-1"},Jr=M({__name:"OnlinePlugin",setup(e,{expose:n}){const t=tt(),{t:r}=oe(),i=T(),a=T(),l=k=>{var h;a.value=k,(h=i.value)==null||h.open()},c=T({loading:!1,id:void 0}),s=async(k,h,y)=>{var B;if(!((B=c.value)!=null&&B.loading)){if(c.value={loading:!0,id:y},h==="install"){const[L,z]=await Gn({plugin_id:k.plugin_id});!L&&(z==null?void 0:z.status)===0&&f()}else if(h==="unInstall"){const[L,z]=await Xn({plugin_name:k.plugin_name});!L&&(z==null?void 0:z.status)===0&&f()}c.value={loading:!1}}},g=ot({page:1,per_page:8,total:0}),d=T(),f=async(k={})=>{const[h,y]=await An({...k,...lt(g)});!h&&y&&y.status===0&&(d.value=y.data.list,g.total=y.data.total)};Ce(()=>{f()});const _=()=>{g.page=1,me(f)};return n({refresh:_}),(k,h)=>{const y=ge,B=rt,L=Se,z=ct,S=_e,R=Qt,p=ut,P=st,x=Pe;return I(),H("div",null,[m(x,{style:{maxHeight:"calc(100vh - 280px)"}},{default:v(()=>[m(P,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:v(()=>[(I(!0),H(se,null,at(u(d),w=>(I(),ee(p,{key:w.plugin_id},{default:v(()=>{var b,U;return[m(R,{show:((b=u(c))==null?void 0:b.loading)&&((U=u(c))==null?void 0:U.id)==w.plugin_id},{default:v(()=>[m(S,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:v(()=>{var F;return[C("div",Ar,[C("div",Hr,[A(D(w.plugin_name)+" ",1),m(u(de),{class:"ml-2",size:"small",type:w.installed?"success":"info",bordered:!1},{default:v(()=>[A(D(w.installed?u(r)("pluginCenter.INSTALLED"):u(r)("pluginCenter.UNINSTALLED")),1)]),_:2},1032,["type"]),w.full_path?(I(),ee(B,{key:0,placement:"top-start",trigger:"hover"},{trigger:v(()=>[C("div",Er,[m(u(K),{type:"primary",size:"tiny",class:"relative top-0.5"},{default:v(()=>[m(y,{component:u(mr)},null,8,["component"])]),_:1})])]),default:v(()=>[C("span",null,D(w.full_path),1)]),_:2},1024)):fe("",!0),m(Vr,{id:w.plugin_id,visible:w.is_globally_visible,uid:w.create_uid,cfg:w,"onVisible:success":_,onRefresh:_},null,8,["id","visible","uid","cfg"])]),C("div",qr,[m(L,{"line-clamp":1},{default:v(()=>[A(D(w.description),1)]),_:2},1024)])]),m(z,{class:"!my-3"}),C("div",Wr,[C("span",Gr,D(u(r)("pluginCenter.hooks"))+": ",1),m(L,{"line-clamp":1},{default:v(()=>[A(D(w.latest_version_hook),1)]),_:2},1024)]),C("div",Xr,[C("div",null,[m(u(de),{type:"warning",size:"small"},{default:v(()=>[A(D(u(r)("pluginCenter.localVersion"))+": "+D(w.local_version),1)]),_:2},1024),m(u(de),{type:"warning",size:"small",class:"ml-2"},{default:v(()=>[A(D(u(r)("pluginCenter.latestVersionCode"))+": "+D(w.latest_version_code),1)]),_:2},1024)]),C("div",Yr,[(F=u(t).info)!=null&&F.is_sys_admin?(I(),H(se,{key:0},[C("span",Kr,D(u(r)("pluginCenter.visible"))+": ",1),m(u(de),{type:"error",size:"small"},{default:v(()=>[A(D(w.is_globally_visible?u(r)("pluginCenter.yes"):u(r)("pluginCenter.no")),1)]),_:2},1024)],64)):fe("",!0)])]),m(z,{class:"!my-3"}),C("div",Zr,[m(u(K),{type:"info",size:"small",class:"flex-1 !px-0.5",onClick:Fe(()=>l(w.plugin_id),["stop"])},{icon:v(()=>[m(u(wr))]),default:v(()=>[A(" "+D(u(r)("pluginCenter.versions")),1)]),_:2},1032,["onClick"]),m(u(K),{type:"info",size:"small",class:"flex-1",disabled:w.installed?!w.uninstall_enable:!1,onClick:Fe(()=>s(w,w.installed?"unInstall":"install",w.plugin_id),["stop"])},{icon:v(()=>[w.installed?(I(),ee(u(ar),{key:0})):(I(),ee(u(mt),{key:1}))]),default:v(()=>[A(D(w!=null&&w.installed?u(r)("pluginCenter.unInstall"):u(r)("pluginCenter.install"))+" ",1)]),_:2},1032,["disabled","onClick"]),m(u(K),{type:"info",size:"small",class:"flex-1",onClick:()=>s(w,"install",w.plugin_id),disabled:!w.need_update},{icon:v(()=>[m(u(nr))]),default:v(()=>[A(D(u(r)("pluginCenter.update"))+" ",1)]),_:2},1032,["onClick","disabled"])])]}),_:2},1024)]),_:2},1032,["show"])]}),_:2},1024))),128))]),_:1})]),_:1}),m(it,{"page-info":u(g),"onUpdate:pageInfo":h[0]||(h[0]=w=>re(g)?g.value=w:null),onUpdateList:f,"page-sizes":[8,16,24]},null,8,["page-info"]),m(Nr,{"plugin-id":u(a),ref_key:"versionModalRef",ref:i},null,8,["plugin-id"])])}}}),Qr={class:"relative"},eo={class:"break-keep text-xl flex justify-between"},to={class:"opacity-75 text-xs mt-2"},no={class:"flex"},ro={class:"break-keep pr-2"},oo={class:"flex mt-2 pb-3"},io={class:"pr-2"},lo={class:"flex gap-2 flex-wrap"},so=M({__name:"LocalPlugin",setup(e,{expose:n}){const{t}=oe(),r=T(),i=async()=>{const[a,l]=await Hn();!a&&l&&l.status===0&&(r.value=l.data)};return n({refresh:i}),Ce(()=>{i()}),(a,l)=>{const c=Se,s=ct,g=_e,d=ut,f=st,_=Pe;return I(),H("div",null,[m(_,{style:{maxHeight:"calc(100vh - 280px)"}},{default:v(()=>[m(f,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:v(()=>[(I(!0),H(se,null,at(u(r),(k,h)=>(I(),ee(d,{key:h},{default:v(()=>[m(g,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:v(()=>[C("div",Qr,[C("div",eo,[C("div",null,D(k.plugin_name),1)]),C("div",to,[m(c,{"line-clamp":1},{default:v(()=>[A(D(k.desc),1)]),_:2},1024)])]),m(s,{class:"!my-3"}),C("div",no,[C("span",ro,D(u(t)("pluginCenter.hooks"))+": ",1),m(c,{"line-clamp":1},{default:v(()=>{var y;return[A(D((y=k.hook)==null?void 0:y.join(", ")),1)]}),_:2},1024)]),C("div",oo,[C("span",io,D(u(t)("pluginCenter.localVersion"))+": ",1),C("div",lo,[m(u(de),{type:"warning",size:"small"},{default:v(()=>[A(D(k.version),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])}}}),ao={class:"flex justify-between items-center gap-5"},co={class:"flex justify-end gap-2"},_o=M({__name:"PluginCenter",setup(e){const{t:n}=oe(),t=T(),r=T(),i=T(),a=T(),l=()=>{var f;(f=i.value)==null||f.open()},c=()=>{var f;(f=a.value)==null||f.open()},s=T(),g=T(),d=()=>{setTimeout(()=>{var f,_;(f=t.value)==null||f.refresh(),(_=r.value)==null||_.refresh()},500)};return(f,_)=>{const k=ge,h=rn,y=on;return I(),H("div",null,[m(y,{type:"card",animated:"",class:"!h-full !w-auto",value:u(s),"onUpdate:value":_[0]||(_[0]=B=>re(s)?s.value=B:null),onUpdateValue:u(g)},{suffix:v(()=>[C("div",ao,[C("div",co,[m(u(K),{type:"primary",onClick:c},{icon:v(()=>[m(u(_r))]),default:v(()=>[A(" "+D(u(n)("pluginCenter.package")),1)]),_:1}),m(_t,{url:u(te).installFromLocal},{default:v(()=>[m(u(K),{type:"primary"},{icon:v(()=>[m(u(mt))]),default:v(()=>[A(" "+D(u(n)("pluginCenter.installFromLocale")),1)]),_:1})]),_:1},8,["url"]),m(u(K),{type:"primary",onClick:l},{icon:v(()=>[m(k,null,{default:v(()=>[m(u(nn))]),_:1})]),default:v(()=>[A(" "+D(u(n)("pluginCenter.create")),1)]),_:1})])])]),default:v(()=>[m(h,{name:"local",tab:u(n)("pluginCenter.localPlugins")},{default:v(()=>[m(so,{ref_key:"localPluginRef",ref:t},null,512)]),_:1},8,["tab"]),m(h,{name:"online",tab:u(n)("pluginCenter.onlinePlugins")},{default:v(()=>[m(Jr,{ref_key:"onlinePluginRef",ref:r},null,512)]),_:1},8,["tab"])]),_:1},8,["value","onUpdateValue"]),m(vt,{ref_key:"createPluginRef",ref:i,onSuccess:d},null,512),m(Ir,{ref_key:"packageViewRef",ref:a},null,512)])}}});export{_o as default};
