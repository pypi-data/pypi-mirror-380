import{V as oe,m as xe}from"./VTextField-DyzwZgKh.js";import{ac as me,ad as le,ab as he,c2 as pe,N as F,a1 as q,cM as ue,y as J,x as ye,i as N,ct as Ie,a0 as Y,cr as Ae,cw as ae,C as ge,b as s,aA as C,aI as Ve,cb as De,S as Be,cK as Te,cy as ie,cN as se,ao as _e,cO as Fe,cc as Le,cz as Re,a as V,g as ne,F as Q,aW as Ee,h as Me,V as re,cP as Ne,p as Oe,cB as $e,bF as ze,cC as He,bs as Ke,aG as ke,b4 as Ue,cQ as qe,cR as je,c3 as We,D as ce,E as de,cI as Ge,cS as Qe}from"./index-LFx1jIjH.js";import{c as Ye,a as Je,u as Xe,V as fe,h as ve,i as Ze,m as et}from"./VInput-B3Z2GK8Z.js";import{V as tt}from"./VVirtualScroll-DYZmdOFl.js";import{b as at}from"./VBtn-BYKkZzw0.js";function lt(e,A){const l=me(!1);let d;function r(n){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function p(){await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>{if(l.value){const y=le(l,()=>{y(),n()})}else n()})}async function P(n){if(n.key==="Tab"&&A.value?.focus(),!["PageDown","PageUp","Home","End"].includes(n.key))return;const y=e.value?.$el;if(!y)return;(n.key==="Home"||n.key==="End")&&y.scrollTo({top:n.key==="Home"?0:y.scrollHeight,behavior:"smooth"}),await p();const L=y.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(n.key==="PageDown"||n.key==="Home"){const a=y.getBoundingClientRect().top;for(const k of L)if(k.getBoundingClientRect().top>=a){k.focus();break}}else{const a=y.getBoundingClientRect().bottom;for(const k of[...L].reverse())if(k.getBoundingClientRect().bottom<=a){k.focus();break}}}return{onScrollPassive:r,onKeydown:P}}const nt=J({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function ot(e,A){const{t:l}=he(),d=pe(),r=F(()=>`menu-${d}`),p=q(()=>ue(A)),P=q(()=>r.value),n=q(()=>l(ue(A)?e.closeText:e.openText));return{menuId:r,ariaExpanded:p,ariaControls:P,ariaLabel:n}}const ut=J({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Le,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...nt(),...Fe({itemChildren:!1})},"Select"),it=J({...ut(),...Be(xe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...De({transition:{component:Te}})},"VSelect"),mt=ye()({name:"VSelect",props:it(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,A){let{slots:l}=A;const{t:d}=he(),r=N(),p=N(),P=N(),{items:n,transformIn:y,transformOut:L}=Ie(e),a=Y(e,"modelValue",[],t=>y(t===null?[null]:Ae(t)),t=>{const c=L(t);return e.multiple?c:c[0]??null}),k=F(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),R=Ye(e),X=F(()=>a.value.map(t=>t.value)),S=me(!1);let b="",E=-1,j;const g=F(()=>e.hideSelected?n.value.filter(t=>!a.value.some(c=>(e.valueComparator||ae)(c,t))):n.value),O=F(()=>e.hideNoData&&!g.value.length||R.isReadonly.value||R.isDisabled.value),$=Y(e,"menu"),f=F({get:()=>$.value,set:t=>{$.value&&!t&&p.value?.Î¨openChildren.size||t&&O.value||($.value=t)}}),{menuId:z,ariaExpanded:Z,ariaControls:ee,ariaLabel:W}=ot(e,f),te=F(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),x=N(),H=lt(x,r);function B(t){e.openOnClear&&(f.value=!0)}function K(){O.value||(f.value=!f.value)}function w(t){ie(t)&&G(t)}function G(t){if(!t.key||R.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(f.value=!0),["Escape","Tab"].includes(t.key)&&(f.value=!1),t.key==="Home"?x.value?.focus("first"):t.key==="End"&&x.value?.focus("last");const c=1e3;if(!ie(t))return;const v=performance.now();v-j>c&&(b="",E=-1),b+=t.key.toLowerCase(),j=v;const T=g.value;function D(){let i=o();return i||b.at(-1)===b.at(-2)&&(b=b.slice(0,-1),i=o(),i)||(E=-1,i=o(),i)?i:(b=t.key.toLowerCase(),o())}function o(){for(let i=E+1;i<T.length;i++){const I=T[i];if(I.title.toLowerCase().startsWith(b))return[I,i]}}const u=D();if(!u)return;const[m,_]=u;E=_,x.value?.focus(_),e.multiple||(a.value=[m])}function M(t){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=a.value.findIndex(D=>(e.valueComparator||ae)(D.value,t.value)),T=c??!~v;if(~v){const D=T?[...a.value,t]:[...a.value];D.splice(v,1),a.value=D}else T&&(a.value=[...a.value,t])}else{const v=c!==!1;a.value=v?[t]:[],_e(()=>{f.value=!1})}}function U(t){x.value?.$el.contains(t.relatedTarget)||(f.value=!1)}function be(){e.eager&&P.value?.calculateVisibleItems()}function we(){S.value&&r.value?.focus()}function Ce(t){S.value=!0}function Pe(t){if(t==null)a.value=[];else if(se(r.value,":autofill")||se(r.value,":-webkit-autofill")){const c=n.value.find(v=>v.title===t);c&&M(c)}else r.value&&(r.value.value="")}return le(f,()=>{if(!e.hideSelected&&f.value&&a.value.length){const t=g.value.findIndex(c=>a.value.some(v=>(e.valueComparator||ae)(v.value,c.value)));Re&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&P.value?.scrollToIndex(t)})}}),le(n,(t,c)=>{f.value||S.value&&e.hideNoData&&!c.length&&t.length&&(f.value=!0)}),ge(()=>{const t=!!(e.chips||l.chip),c=!!(!e.hideNoData||g.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),v=a.value.length>0,T=oe.filterProps(e),D=v||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(oe,C({ref:r},T,{modelValue:a.value.map(o=>o.props.value).join(", "),"onUpdate:modelValue":Pe,focused:S.value,"onUpdate:focused":o=>S.value=o,validationValue:a.externalValue,counterValue:k.value,dirty:v,class:["v-select",{"v-select--active-menu":f.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":a.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":B,"onMousedown:control":K,onBlur:U,onKeydown:G,"aria-expanded":Z.value,"aria-controls":ee.value,"aria-label":W.value,title:W.value}),{...l,default:()=>V(Q,null,[s(Ee,C({id:z.value,ref:p,modelValue:f.value,"onUpdate:modelValue":o=>f.value=o,activator:"parent",contentClass:"v-select__content",disabled:O.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:be,onAfterLeave:we},te.value),{default:()=>[c&&s(Me,C({ref:x,selected:X.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onKeydown:w,onFocusin:Ce,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},H,e.listProps),{default:()=>[l["prepend-item"]?.(),!g.value.length&&!e.hideNoData&&(l["no-data"]?.()??s(re,{key:"no-data",title:d(e.noDataText)},null)),s(tt,{ref:P,renderless:!0,items:g.value,itemKey:"value"},{default:o=>{let{item:u,index:m,itemRef:_}=o;const i=Ne(u.props),I=C(u.props,{ref:_,key:u.value,onClick:()=>M(u,null)});return u.type==="divider"?l.divider?.({props:u.raw,index:m})??s(Oe,C(u.props,{key:`divider-${m}`}),null):u.type==="subheader"?l.subheader?.({props:u.raw,index:m})??s($e,C(u.props,{key:`subheader-${m}`}),null):l.item?.({item:u,index:m,props:I})??s(re,C(I,{role:"option"}),{prepend:h=>{let{isSelected:Se}=h;return V(Q,null,[e.multiple&&!e.hideSelected?s(Je,{key:u.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,i.prependAvatar&&s(ze,{image:i.prependAvatar},null),i.prependIcon&&s(ne,{icon:i.prependIcon},null)])}})}}),l["append-item"]?.()]})]}),a.value.map((o,u)=>{function m(h){h.stopPropagation(),h.preventDefault(),M(o,!1)}const _={"onClick:close":m,onKeydown(h){h.key!=="Enter"&&h.key!==" "||(h.preventDefault(),h.stopPropagation(),m(h))},onMousedown(h){h.preventDefault(),h.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},i=t?!!l.chip:!!l.selection,I=i?He(t?l.chip({item:o,index:u,props:_}):l.selection({item:o,index:u})):void 0;if(!(i&&!I))return V("div",{key:o.value,class:"v-select__selection"},[t?l.chip?s(ke,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[I]}):s(Ke,C({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},_),null):I??V("span",{class:"v-select__selection-text"},[o.title,e.multiple&&u<a.value.length-1&&V("span",{class:"v-select__selection-comma"},[Ue(",")])])])})]),"append-inner":function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];return V(Q,null,[l["append-inner"]?.(...u),e.menuIcon?s(ne,{class:"v-select__menu-icon",color:r.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Ve({isFocused:S,menu:f,select:M},r)}}),st=J({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...et(),...Ze()},"VSwitch"),ht=ye()({name:"VSwitch",inheritAttrs:!1,props:st(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,A){let{attrs:l,slots:d}=A;const r=Y(e,"indeterminate"),p=Y(e,"modelValue"),{loaderClasses:P}=qe(e),{isFocused:n,focus:y,blur:L}=Xe(e),a=N(),k=N(),R=je&&window.matchMedia("(forced-colors: active)").matches,X=q(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),S=pe(),b=q(()=>e.id||`switch-${S}`);function E(){r.value&&(r.value=!1)}function j(g){g.stopPropagation(),g.preventDefault(),a.value?.input?.click()}return ge(()=>{const[g,O]=We(l),$=fe.filterProps(e),f=ve.filterProps(e);return s(fe,C({ref:k,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},P.value,e.class]},g,$,{modelValue:p.value,"onUpdate:modelValue":z=>p.value=z,id:b.value,focused:n.value,style:e.style}),{...d,default:z=>{let{id:Z,messagesId:ee,isDisabled:W,isReadonly:te,isValid:x}=z;const H={model:p,isValid:x};return s(ve,C({ref:a},f,{modelValue:p.value,"onUpdate:modelValue":[B=>p.value=B,E],id:Z.value,"aria-describedby":ee.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:W.value,readonly:te.value,onFocus:y,onBlur:L},O),{...d,default:B=>{let{backgroundColorClasses:K,backgroundColorStyles:w}=B;return V("div",{class:de(["v-switch__track",R?void 0:K.value]),style:ce(w.value),onClick:j},[d["track-true"]&&V("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](H)]),d["track-false"]&&V("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](H)])])},input:B=>{let{inputNode:K,icon:w,backgroundColorClasses:G,backgroundColorStyles:M}=B;return V(Q,null,[K,V("div",{class:de(["v-switch__thumb",{"v-switch__thumb--filled":w||e.loading},e.inset||R?void 0:G.value]),style:ce(e.inset?void 0:M.value)},[d.thumb?s(ke,{defaults:{VIcon:{icon:w,size:"x-small"}}},{default:()=>[d.thumb({...H,icon:w})]}):s(Ge,null,{default:()=>[e.loading?s(Qe,{name:"v-switch",active:!0,color:x.value===!1?void 0:X.value},{default:U=>d.loader?d.loader(U):s(at,{active:U.isActive,color:U.color,indeterminate:!0,size:"16",width:"2"},null)}):w&&s(ne,{key:String(w),icon:w,size:"x-small"},null)]})])])}})}})}),Ve({},k)}});export{ht as V,mt as a,lt as b,ut as m,ot as u};
