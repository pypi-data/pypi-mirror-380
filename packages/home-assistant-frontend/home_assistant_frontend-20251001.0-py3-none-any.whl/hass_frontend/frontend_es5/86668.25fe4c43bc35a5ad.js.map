{"version":3,"file":"86668.25fe4c43bc35a5ad.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251001.0/src/panels/lovelace/cards/energy/hui-energy-devices-detail-graph-card.ts"],"names":["UNIT","HuiEnergyDevicesDetailGraphCard","SubscribeMixin","LitElement","hassSubscribe","_this$_config","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_data","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","willUpdate","_processStatistics","render","html","_t","_","title","_t2","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","_datasetHidden","_datasetUnhidden","nothing","ev","_hiddenStats","_getStatIdFromId","detail","id","filter","stat","energyData","start","end","endOfToday","startCompare","endCompare","stats","compareData","statsCompare","computedStyle","getComputedStyle","devices","prefs","device_consumption","childMap","forEach","d","included_in_stat","push","stat_consumption","growthValues","device","value","calculateStatisticSumGrowth","growthValuesExChildren","reduce","acc","child","sorted_devices","map","sort","a","b","datasets","summedData","compareSummedData","getSummedData","showUntracked","consumption","consumptionData","compareConsumption","consumptionCompareData","computeConsumptionData","undefined","processedCompareData","_processDataSet","statsMetadata","untrackedCompareData","_processUntracked","type","stack","processedData","_legendData","_d$itemStyle","secondaryIds","name","itemStyle","color","borderColor","_untrackedData$itemSt","untrackedData","fillDataGapsAndRoundCaps","compare","totalDeviceConsumption","datapoint","compareTransform","getCompareTransform","untrackedConsumption","Object","keys","used_total","Number","time","ts","dataPoint","Date","getTime","order","now","cursor","localize","getEnergyColor","themes","darkMode","barMaxWidth","statistics","statisticsMetaData","source","idx","_this$_config2","indexOf","max_devices","console","warn","getGraphColorByIndex","prevStart","point","change","sumChildren","c","_cStats$find","cStats","find","cStat","getStatisticLabel","Boolean","replace","args","startOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","num","formatNumber","unit","memoizeOne","compareStart","compareEnd","commonOptions","getCommonOptions","selected","includes","assign","legend","show","grid","top","bottom","left","right","containLabel","styles","css","_t3","attribute","state"],"mappings":"uoBA0CA,MAAMA,EAAO,MAGN,MAAMC,WACHC,EAAAA,EAAAA,GAAeC,EAAAA,KA+BhBC,aAAAA,GAAmC,IAAAC,EACxC,MAAO,EACLC,EAAAA,EAAAA,IAAwBC,KAAKC,KAAM,CACjCC,IAAiB,QAAjBJ,EAAKE,KAAKG,eAAO,IAAAL,OAAA,EAAZA,EAAcM,iBAClBC,UAAWC,IACZN,KAAKO,MAAQD,IAGnB,CAEOE,WAAAA,GACL,OAAO,CACT,CAEOC,SAAAA,CAAUC,GACfV,KAAKG,QAAUO,CACjB,CAEUC,YAAAA,CAAaC,GACrB,OACEC,EAAAA,EAAAA,IAAiBb,KAAMY,IACvBA,EAAaE,KAAO,IACnBF,EAAaG,IAAI,OAEtB,CAEUC,UAAAA,CAAWJ,IACfA,EAAaG,IAAI,YAAcH,EAAaG,IAAI,WAClDf,KAAKiB,oBAET,CAEUC,MAAAA,GACR,OAAKlB,KAAKC,MAASD,KAAKG,SAIjBgB,EAAAA,EAAAA,IAAIC,IAAAA,EAAAC,CAAA,2LAELrB,KAAKG,QAAQmB,OACXH,EAAAA,EAAAA,IAAII,IAAAA,EAAAF,CAAA,2BAA2B,UAAArB,KAAKG,QAAQmB,OAC5C,IAEeE,EAAAA,EAAAA,GAAS,CACxB,eAAgBxB,KAAKG,QAAQmB,QAIrBtB,KAAKC,KACLD,KAAKyB,WACFzB,KAAK0B,eACd1B,KAAK2B,OACL3B,KAAK4B,KACL5B,KAAKC,KAAK4B,OACV7B,KAAKC,KAAKS,OACVjB,EACAO,KAAK8B,cACL9B,KAAK+B,aAEW/B,KAAKgC,eACHhC,KAAKiC,kBA1BxBC,EAAAA,EA+BX,CAUQF,cAAAA,CAAeG,GACrBnC,KAAKoC,aAAe,IACfpC,KAAKoC,aACRpC,KAAKqC,iBAAiBF,EAAGG,OAAOC,IAEpC,CAEQN,gBAAAA,CAAiBE,GACvBnC,KAAKoC,aAAepC,KAAKoC,aAAaI,OACnCC,GAASA,IAASzC,KAAKqC,iBAAiBF,EAAGG,OAAOC,IAEvD,CAsDQtB,kBAAAA,GACN,IAAKjB,KAAKO,MACR,OAEF,MAAMmC,EAAa1C,KAAKO,MAExBP,KAAK2B,OAASe,EAAWC,MACzB3C,KAAK4B,KAAOc,EAAWE,MAAOC,EAAAA,EAAAA,KAE9B7C,KAAK8B,cAAgBY,EAAWI,aAChC9C,KAAK+B,YAAcW,EAAWK,WAE9B,MAAMzC,EAAOoC,EAAWM,MAClBC,EAAcP,EAAWQ,aAEzBC,EAAgBC,iBAAiBpD,MAEjCqD,EAAUX,EAAWY,MAAMC,mBAE3BC,EAAqC,CAAC,EAC5CH,EAAQI,QAASC,IACXA,EAAEC,mBACJH,EAASE,EAAEC,kBAAoBH,EAASE,EAAEC,mBAAqB,GAC/DH,EAASE,EAAEC,kBAAkBC,KAAKF,EAAEG,qBAIxC,MAAMC,EAAe,CAAC,EACtBpB,EAAWY,MAAMC,mBAAmBE,QAASM,IAC3C,MAAMC,EACJD,EAAOF,oBAAoBvD,IACvB2D,EAAAA,EAAAA,IAA4B3D,EAAKyD,EAAOF,oBACxC,EAENC,EAAaC,EAAOF,kBAAoBG,IAE1C,MAAME,EAAyB,CAAC,EAChCxB,EAAWY,MAAMC,mBAAmBE,QAASM,IAC3CG,EAAuBH,EAAOF,mBAC5BL,EAASO,EAAOF,mBAAqB,IACrCM,OACA,CAACC,EAAKC,IAAUD,EAAMN,EAAaO,GACnCP,EAAaC,EAAOF,qBAIxB,MAAMS,EAAiB5B,EAAWY,MAAMC,mBAAmBgB,IACxDR,GAAWA,EAAOF,kBAErBS,EAAeE,KACb,CAACC,EAAGC,IAAMR,EAAuBQ,GAAKR,EAAuBO,IAG/D,MAAME,EAA8B,IAE9B,WAAEC,EAAU,kBAAEC,IAAsBC,EAAAA,EAAAA,IAAcpC,GAElDqC,EACJ,cAAeH,GACf,UAAWA,GACX,iBAAkBA,GAGlBI,YAAaC,EACbC,mBAAoBC,GAClBJ,GACAK,EAAAA,EAAAA,IAAuBR,EAAYC,GACnC,CAAEG,iBAAaK,EAAWH,wBAAoBG,GAElD,GAAIpC,EAAa,CACf,MAAMqC,EAAuBtF,KAAKuF,gBAChCpC,EACAF,EACAP,EAAW8C,cACX9C,EAAWY,MAAMC,mBACjBe,EACAd,GACA,GAKF,GAFAmB,EAASf,QAAQ0B,GAEbP,EAAe,CACjB,MAAMU,EAAuBzF,KAAK0F,kBAChCvC,EACAmC,EACAH,GACA,GAEFR,EAASf,KAAK6B,EAChB,CACF,CAIAd,EAASf,KAAK,CACZrB,GAAI,sBACJoD,KAAM,MACNC,MAAOlD,EAAWQ,aAAe,iBAAmB,UACpD5C,KAAM,KAGR,MAAMuF,EAAgB7F,KAAKuF,gBACzBpC,EACA7C,EACAoC,EAAW8C,cACX9C,EAAWY,MAAMC,mBACjBe,EACAd,GAcF,GAXAmB,EAASf,QAAQiC,GACjB7F,KAAK8F,YAAcD,EAActB,IAAKb,IAAA,IAAAqC,EAAA,MAAO,CAC3CxD,GAAImB,EAAEnB,GACNyD,aAAc,CAAC,WAAWtC,EAAEnB,MAC5B0D,KAAMvC,EAAEuC,KACRC,UAAW,CACTC,MAAOzC,EAAEyC,MACTC,YAAwB,QAAxBL,EAAarC,EAAEwC,iBAAS,IAAAH,OAAA,EAAXA,EAAaK,gBAI1BrB,EAAe,KAAAsB,EACjB,MAAMC,EAAgBtG,KAAK0F,kBACzBvC,EACA0C,EACAZ,GACA,GAEFN,EAASf,KAAK0C,GACdtG,KAAK8F,YAAYlC,KAAK,CACpBrB,GAAI+D,EAAc/D,GAClByD,aAAc,CAAC,WAAWM,EAAc/D,MACxC0D,KAAMK,EAAcL,KACpBC,UAAW,CACTC,MAAOG,EAAcH,MACrBC,YAAoC,QAApCC,EAAaC,EAAcJ,iBAAS,IAAAG,OAAA,EAAvBA,EAAyBD,cAG5C,EAEAG,EAAAA,EAAAA,IAAyB5B,GACzB3E,KAAKyB,WAAakD,CACpB,CAEQe,iBAAAA,CACNvC,EACA0C,EACAZ,EACAuB,GAEA,MAAMC,EAAiD,CAAC,EAExDZ,EAAcpC,QAASM,IACrBA,EAAOzD,KAAKmD,QAASiD,IACnBD,EAAuBC,EAAUF,EAAU,EAAI,KAC5CC,EAAuBC,EAAUF,EAAU,EAAI,KAAO,GACvDE,EAAU,OAGhB,MAAMC,GAAmBC,EAAAA,EAAAA,IACvB5G,KAAK2B,OACL3B,KAAK8B,eAGD+E,EAAgD,GACtDC,OAAOC,KAAK9B,EAAgB+B,YACzBxC,KAAK,CAACC,EAAGC,IAAMuC,OAAOxC,GAAKwC,OAAOvC,IAClCjB,QAASyD,IACR,MAAMC,EAAKF,OAAOC,GAIZE,EAAsB,CAACD,EAF3BlC,EAAgB+B,WAAWE,IAC1BT,EAAuBS,IAAS,IAE/BV,IACFY,EAAU,GAAKA,EAAU,GACzBA,EAAU,GAAKT,EAAiB,IAAIU,KAAKF,IAAKG,WAEhDT,EAAqBjD,KAAKwD,KAG9B,MAAMG,EAAQF,KAAKG,MA4BnB,MA3BiC,CAC/B7B,KAAM,MACN8B,OAAQ,UACRlF,GAAIiE,EAAU,qBAAqBe,IAAU,aAAaA,IAC1DtB,KAAMjG,KAAKC,KAAKyH,SACd,oFAEFxB,UAAW,CACTE,aAAauB,EAAAA,EAAAA,GACXxE,EACAnD,KAAKC,KAAK2H,OAAOC,UACjB,EACArB,EACA,4BAGJsB,YAAa,GACb3B,OAAOwB,EAAAA,EAAAA,GACLxE,EACAnD,KAAKC,KAAK2H,OAAOC,UACjB,EACArB,EACA,2BAEFlG,KAAMuG,EACNjB,MAAOY,EAAU,iBAAmB,UAGxC,CAEQjB,eAAAA,CACNpC,EACA4E,EACAC,EACA3E,EACAiB,EACAd,EACAgD,GAAU,GAEV,MAAMlG,EAA0B,GAC1BqG,GAAmBC,EAAAA,EAAAA,IACvB5G,KAAK2B,OACL3B,KAAK8B,eA+EP,OA5EAuB,EAAQI,QAAQ,CAACwE,EAAQC,KAAA,IAAAC,EACvB,MAAMZ,EAAQjD,EAAe8D,QAAQH,EAAOpE,kBAC5C,GAAgB,QAAZsE,EAAAnI,KAAKG,eAAO,IAAAgI,GAAZA,EAAcE,aAAed,GAASvH,KAAKG,QAAQkI,YAKrD,YAHAC,QAAQC,KACN,4BAA4BN,EAAOhC,SAASsB,QAAYvH,KAAKG,QAAQkI,gBAIzE,MAAMlC,GAAQqC,EAAAA,EAAAA,IAAqBN,EAAK/E,GAExC,IAAIsF,EAA2B,KAE/B,MAAMxD,EAA2C,GAGjD,GAAIgD,EAAOpE,oBAAoBkE,EAAY,CACzC,MAAM/E,EAAQ+E,EAAWE,EAAOpE,kBAEhC,IAAK,MAAM6E,KAAS1F,EAAO,CACzB,GACmB,OAAjB0F,EAAMC,aACWtD,IAAjBqD,EAAMC,QACW,IAAjBD,EAAMC,OAEN,SAEF,GAAIF,IAAcC,EAAM/F,MACtB,SAEF,IAAIiG,EAAc,GACDpF,EAASyE,EAAOpE,mBAAqB,IAC7CJ,QAASoF,IAAA,IAAAC,EAChB,MAAMC,EAAShB,EAAWc,GAC1BD,IACEG,SAAmD,QAAnDD,EAAAC,EAAQC,KAAMC,GAAUA,EAAMtG,QAAU+F,EAAM/F,cAAK,IAAAmG,OAAA,EAAnDA,EAAsDH,SAAU,IAGpE,MAAMvB,EAAY,CAACsB,EAAM/F,MAAO+F,EAAMC,OAASC,GAC3CpC,IACFY,EAAU,GAAKA,EAAU,GACzBA,EAAU,GAAKT,EAAiB,IAAIU,KAAKqB,EAAM/F,QAAQ2E,WAEzDrC,EAAgBrB,KAAKwD,GACrBqB,EAAYC,EAAM/F,KACpB,CACF,CAEA,MAAMsD,GACHgC,EAAOhC,OACNiD,EAAAA,EAAAA,IACElJ,KAAKC,KACLgI,EAAOpE,iBACPmE,EAAmBC,EAAOpE,qBAE7BoE,EAAOpE,oBAAoBL,EACxB,KAAKxD,KAAKC,KAAKyH,SAAS,2EACxB,IAENpH,EAAKsD,KAAK,CACR+B,KAAM,MACN8B,OAAQ,UAERlF,GAAIiE,EACA,WAAWyB,EAAOpE,oBAAoB0D,IACtC,GAAGU,EAAOpE,oBAAoB0D,IAClCtB,OACAC,UAAW,CACTE,YAAaI,EAAUL,EAAQ,KAAOA,GAExC2B,YAAa,GACb3B,MAAOK,EAAUL,EAAQ,KAAOA,EAAQ,KACxC7F,KAAM2E,EACNW,MAAOY,EAAU,iBAAmB,cAGjClC,EACJC,IACER,GACCzD,EAAK0I,KAAMtF,GAAM1D,KAAKqC,iBAAiBqB,EAAEnB,MAAkBwB,IAE9DvB,OAAO2G,QACZ,CAEQ9G,gBAAAA,CAAiBE,GACvB,OAAOA,EACJ6G,QAAQ,YAAa,IACrBA,QAAQ,QAAS,GACtB,C,kBAveK,SAAAC,GAAA,KAQY5H,WAAgC,GAAE,KAMlCE,QAAS2H,EAAAA,EAAAA,KAAA,KAET1H,MAAOiB,EAAAA,EAAAA,KAAA,KAYhBT,aAAyB,GAAE,KAEzBmH,+BAAiC,CAAC,WAAU,KAqE9CC,aAAgBC,GACtBzJ,KAAKC,KAAKyH,SACR,mEACA,CAAEgC,KAAKC,EAAAA,EAAAA,IAAaF,EAAOzJ,KAAKC,KAAK4B,QAAS+H,KAAMnK,IAAK,KAkBrDiC,gBAAiBmI,EAAAA,EAAAA,GACvB,CACElH,EACAC,EACAf,EACAnB,EACAkJ,EACAE,EACAC,KAEA,MAAMC,GAAgBC,EAAAA,EAAAA,IACpBtH,EACAC,EACAf,EACAnB,EACAkJ,EACAE,EACAC,EACA/J,KAAKwJ,cAGDU,EAAWlK,KAAK8F,YAClB9F,KAAK8F,YACFtD,OACEkB,GACCA,EAAEnB,IAAMvC,KAAKoC,aAAa+H,SAASnK,KAAKqC,iBAAiBqB,EAAEnB,MAE9D4B,OAAO,CAACC,EAAKV,KACZU,EAAIV,EAAEnB,KAAO,EACN6B,GACN,CAAC,GACN,CAAC,EAEL,OAAA0C,OAAAsD,OAAAtD,OAAAsD,OAAA,GACKJ,GAAa,IAChBK,OAAQ,CACNC,MAAM,EACN3E,KAAM,SACNrF,KAAMN,KAAK8F,YACXoE,YAEFK,KAAM,CACJC,IAAK,GACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,EACPC,cAAc,M,EAtKXlL,EAyeJmL,QAASC,EAAAA,EAAAA,IAAGC,IAAAA,EAAA1J,CAAA,oF,2BAreP2J,WAAW,K,4iBAoBrB9K,IAAK,8BACL+K,OAAO,EACP5K,WAAW,K"}