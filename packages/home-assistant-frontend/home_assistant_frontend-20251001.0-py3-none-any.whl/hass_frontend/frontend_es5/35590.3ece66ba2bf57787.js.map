{"version":3,"file":"35590.3ece66ba2bf57787.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251001.0/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js"],"names":["colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","SubscribeMixin","LitElement","hassSubscribe","_this$_config","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_getStatistics","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","render","html","_t","_","title","_t2","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","some","dataset","length","_t3","isToday","localize","nothing","energyData","datasets","statIds","source","prefs","energy_sources","type","flowFrom","flow_from","push","stat_energy_from","flowTo","flow_to","stat_energy_to","from_battery","solar","computedStyles","getComputedStyle","colorIndices","Object","keys","forEach","values","id","idx","labels","start","end","endOfToday","startCompare","endCompare","summedData","compareSummedData","getSummedData","consumption","compareConsumption","computeConsumptionData","statsCompare","_processDataSet","statsMetadata","stack","order","stats","sort","a","b","fillDataGapsAndRoundCaps","statistics","statisticsMetaData","consumptionData","statIdsByCat","compare","combinedData","entries","includes","sets","set","stat","change","undefined","val","grid_to_battery","noOfSources","uniqueKeys","timestamps","compareTransform","getCompareTransform","sources","statId","_colorIndices$type","_colorIndices$type2","points","value","dataPoint","Date","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","getEnergyColor","themes","darkMode","color","args","startOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","num","formatNumber","memoizeOne","compareStart","compareEnd","commonOptions","getCommonOptions","assign","tooltip","formatter","params","_commonOptions$toolti","_commonOptions$toolti2","Array","isArray","_a$value","_b$value","aValue","bValue","componentIndex","call","styles","css","_t4","attribute","constructNow","date","constructFrom","now","isSameDay","laterDate","earlierDate","options","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"kkBAyCA,MAAMA,EAAmB,CACvBC,QAAS,6BACTC,WAAY,4BACZC,UAAW,kCACXC,UAAW,kCACXC,WAAY,uBACZC,aAAc,8BAIT,MAAMC,WACHC,EAAAA,EAAAA,GAAeC,EAAAA,KAmBhBC,aAAAA,GAAmC,IAAAC,EACxC,MAAO,EACLC,EAAAA,EAAAA,IAAwBC,KAAKC,KAAM,CACjCC,IAAiB,QAAjBJ,EAAKE,KAAKG,eAAO,IAAAL,OAAA,EAAZA,EAAcM,iBAClBC,UAAWC,GAASN,KAAKO,eAAeD,IAE/C,CAEOE,WAAAA,GACL,OAAO,CACT,CAEOC,SAAAA,CAAUC,GACfV,KAAKG,QAAUO,CACjB,CAEUC,YAAAA,CAAaC,GACrB,OACEC,EAAAA,EAAAA,IAAiBb,KAAMY,IACvBA,EAAaE,KAAO,IACnBF,EAAaG,IAAI,OAEtB,CAEUC,MAAAA,GACR,OAAKhB,KAAKC,MAASD,KAAKG,SAIjBc,EAAAA,EAAAA,IAAIC,IAAAA,EAAAC,CAAA,iKAELnB,KAAKG,QAAQiB,OACXH,EAAAA,EAAAA,IAAII,IAAAA,EAAAF,CAAA,2BAA2B,UAAAnB,KAAKG,QAAQiB,OAC5C,IAEeE,EAAAA,EAAAA,GAAS,CACxB,eAAgBtB,KAAKG,QAAQiB,QAIrBpB,KAAKC,KACLD,KAAKuB,WACFvB,KAAKwB,eACdxB,KAAKyB,OACLzB,KAAK0B,KACL1B,KAAKC,KAAK0B,OACV3B,KAAKC,KAAKS,OACVV,KAAK4B,cACL5B,KAAK6B,aAIN7B,KAAKuB,WAAWO,KAAMC,GAAYA,EAAQzB,KAAM0B,QAQ/C,IAPAf,EAAAA,EAAAA,IAAIgB,IAAAA,EAAAd,CAAA,sCACAe,EAAAA,EAAAA,GAAQlC,KAAKyB,QACXzB,KAAKC,KAAKkC,SAAS,0CACnBnC,KAAKC,KAAKkC,SACR,mDA/BTC,EAAAA,EAsCX,CAgEA,oBAAc7B,CAAe8B,GAC3B,MAAMC,EAA8B,GAE9BC,EAMF,CAAC,EAEL,IAAK,MAAMC,KAAUH,EAAWI,MAAMC,eACpC,GAAoB,UAAhBF,EAAOG,KASX,GAAoB,YAAhBH,EAAOG,MAWX,GAAoB,SAAhBH,EAAOG,KAAX,CAKA,IAAK,MAAMC,KAAYJ,EAAOK,UACxBN,EAAQjD,UACViD,EAAQjD,UAAUwD,KAAKF,EAASG,kBAEhCR,EAAQjD,UAAY,CAACsD,EAASG,kBAGlC,IAAK,MAAMC,KAAUR,EAAOS,QACtBV,EAAQnD,QACVmD,EAAQnD,QAAQ0D,KAAKE,EAAOE,gBAE5BX,EAAQnD,QAAU,CAAC4D,EAAOE,eAd9B,OAZMX,EAAQlD,YACVkD,EAAQlD,WAAWyD,KAAKN,EAAOU,gBAC/BX,EAAQY,aAAcL,KAAKN,EAAOO,oBAElCR,EAAQlD,WAAa,CAACmD,EAAOU,gBAC7BX,EAAQY,aAAe,CAACX,EAAOO,wBAd7BR,EAAQa,MACVb,EAAQa,MAAMN,KAAKN,EAAOO,kBAE1BR,EAAQa,MAAQ,CAACZ,EAAOO,kBAqC9B,MAAMM,EAAiBC,iBAAiBtD,MAElCuD,EAAuD,CAAC,EAC9DC,OAAOC,KAAKtE,GAAkBuE,QAASxD,IACrCqD,EAAarD,GAAO,CAAC,EAEX,cAARA,GACQ,eAARA,GACQ,iBAARA,GAIEqC,EAAQrC,IACVsD,OAAOG,OAAOpB,EAAQrC,IAAMwD,QAAQ,CAACE,EAAIC,KACvCN,EAAarD,GAAK0D,GAAgBC,MAKxC,MAAMC,EAAS,CACbvE,UAAWS,KAAKC,KAAKkC,SACnB,wEAEF3C,WAAYQ,KAAKC,KAAKkC,SACpB,oEAEF1C,aAAcO,KAAKC,KAAKkC,SACtB,uEAIJnC,KAAKyB,OAASY,EAAW0B,MACzB/D,KAAK0B,KAAOW,EAAW2B,MAAOC,EAAAA,EAAAA,KAE9BjE,KAAK4B,cAAgBS,EAAW6B,aAChClE,KAAK6B,YAAcQ,EAAW8B,WAE9B,MAAM,WAAEC,EAAU,kBAAEC,IAAsBC,EAAAA,EAAAA,IAAcjC,IAClD,YAAEkC,EAAW,mBAAEC,IAAuBC,EAAAA,EAAAA,IAC1CL,EACAC,GAGEhC,EAAWqC,cACbpC,EAASQ,QACJ9C,KAAK2E,gBACNtC,EAAWqC,aACXrC,EAAWuC,cACXP,EACAG,EACAjC,EACAgB,EACAF,EACAS,GACA,IAONxB,EAASQ,KAAK,CACZc,GAAI,sBACJjB,KAAM,MACNkC,MAAOxC,EAAWqC,aAAe,UAAY,QAC7CpE,KAAM,GAENwE,MAAO,IAGTxC,EAASQ,QACJ9C,KAAK2E,gBACNtC,EAAW0C,MACX1C,EAAWuC,cACXR,EACAG,EACAhC,EACAgB,EACAF,EACAS,GACA,IAKJxB,EAAS0C,KAAK,CAACC,EAAGC,IAAMD,EAAEH,MAAQI,EAAEJ,QACpCK,EAAAA,EAAAA,IAAyB7C,GACzBtC,KAAKuB,WAAae,CACpB,CAEQqC,eAAAA,CACNS,EACAC,EACAjB,EACAkB,EACAC,EAOAhC,EACAF,EACAS,EAKA0B,GAAU,GAEV,MAAMlF,EAA0B,GAE1BmF,EAOF,CAAC,EAiCL,GA/BAjC,OAAOkC,QAAQH,GAAc7B,QAAQ,EAAExD,EAAKqC,MAC1C,IAAK,CAAC,UAAW,YAAa,cAAcoD,SAASzF,GACnD,OAEF,MAAM0F,EAA+C,CAAC,EACtDrD,EAASmB,QAASE,IAChB,MAAMmB,EAAQK,EAAWxB,GACzB,IAAKmB,EACH,OAGF,MAAMc,EAAM,CAAC,EACbd,EAAMrB,QAASoC,IACb,GAAoB,OAAhBA,EAAKC,aAAmCC,IAAhBF,EAAKC,OAC/B,OAEF,MAAME,EAAMH,EAAKC,OACXD,EAAK/B,SAAS8B,IAClBA,EAAIC,EAAK/B,OAASkC,KAGtBL,EAAKhC,GAAMiC,IAEbJ,EAAavF,GAAO0F,IAGtBH,EAAajG,WAAa,CAAEA,WAAY8F,EAAgB9F,YACxDiG,EAAahG,aAAe,CAC1BA,aAAc6F,EAAgB7F,cAG5BgG,EAAanG,WAAa8E,EAAW/E,WAAY,CACnD,MAAME,EAAY,CAAC,EAInB,IAAK,MAAOwE,EAAOmC,KAAoB1C,OAAOkC,QAC5CJ,EAAgBY,iBACf,CACD,IAAKA,EACH,SAEF,IACI1D,EADA2D,EAAc,EAElB,IAAK,MAAOjG,EAAK6E,KAAUvB,OAAOkC,QAAQD,EAAanG,WAKrD,GAJIyF,EAAMhB,KACRvB,EAAStC,EACTiG,KAEEA,EAAc,EAChB,MAGgB,IAAhBA,EACFV,EAAanG,UAAUkD,GAASuB,GAC9BuB,EAAgB/F,UAAUwE,IAE5BP,OAAOG,OAAO8B,EAAanG,WAAWoE,QAASqB,WACtCA,EAAMhB,KAEfxE,EAAUwE,GAASuB,EAAgB/F,UAAUwE,GAEjD,CACA0B,EAAalG,UAAY,CAAEA,YAC7B,CAEA,MAAM6G,EAAahC,EAAWiC,WAExBC,GAAmBC,EAAAA,EAAAA,IACvBvG,KAAKyB,OACLzB,KAAK4B,eAiEP,OA9DA4B,OAAOkC,QAAQD,GAAc/B,QAAQ,EAAEf,EAAM6D,GAAU3C,KACrDL,OAAOkC,QAAQc,GAAS9C,QAAQ,EAAE+C,EAAQjE,MAAO,IAAAkE,EAAAC,EAC/C,MAAMC,EAAkC,GAExC,IAAK,MAAM1G,KAAOkG,EAAY,CAC5B,MAAMS,EAAQrE,EAAOtC,IAAQ,EACvB4G,EAAY,CAChB,IAAIC,KAAK7G,GACT2G,GAAS,CAAC,UAAW,cAAclB,SAAShD,IACvC,EAAIkE,EACLA,GAEFrB,IACFsB,EAAU,GAAKA,EAAU,GACzBA,EAAU,GAAKR,EAAiBQ,EAAU,KAE5CF,EAAO9D,KAAKgE,EACd,CAEAxG,EAAKwC,KAAK,CACRc,GAAI,GAAG4B,EAAU,WAAa,KAAKiB,KAAU9D,IAC7CA,KAAM,MACNqE,OAAQ,UACRC,KACEtE,KAAQmB,EACJA,EAAOnB,IACPuE,EAAAA,EAAAA,IACElH,KAAKC,KACLwG,EACApB,EAAmBoB,IAG3B3B,MACW,eAATnC,EACI,EACS,eAATA,EACEa,OAAOC,KAAKgC,GAAczD,OAC1B6B,EAAM,EACdsD,YAAa,GACbC,UAAW,CACTC,aAAaC,EAAAA,EAAAA,GACXjE,EACArD,KAAKC,KAAKsH,OAAOC,UACjB,EACAhC,EACArG,EAAiBwD,GACC,QADI+D,EACtBnD,EAAaZ,UAAK,IAAA+D,OAAA,EAAlBA,EAAqBD,KAGzBgB,OAAOH,EAAAA,EAAAA,GACLjE,EACArD,KAAKC,KAAKsH,OAAOC,UACjB,EACAhC,EACArG,EAAiBwD,GACC,QADIgE,EACtBpD,EAAaZ,UAAK,IAAAgE,OAAA,EAAlBA,EAAqBF,IAEvB5B,MAAOW,EAAU,UAAY,QAC7BlF,KAAMsG,QAILtG,CACT,C,kBA3cK,SAAAoH,GAAA,KAQYnG,WAAgC,GAAE,KAElCE,QAASkG,EAAAA,EAAAA,KAAA,KAETjG,MAAOuC,EAAAA,EAAAA,KAAA,KAMd2D,+BAAiC,CAAC,WAAU,KAoE9CC,aAAgBC,GACtBA,EAAQ,EACJ9H,KAAKC,KAAKkC,SACR,mEACA,CAAE4F,KAAKC,EAAAA,EAAAA,IAAaF,EAAO9H,KAAKC,KAAK0B,UAEvC3B,KAAKC,KAAKkC,SACR,mEACA,CAAE4F,KAAKC,EAAAA,EAAAA,KAAcF,EAAO9H,KAAKC,KAAK0B,UAAQ,KAG9CH,gBAAiByG,EAAAA,EAAAA,GACvB,CACElE,EACAC,EACArC,EACAjB,EACAwH,EACAC,KAEA,MAAMC,GAAgBC,EAAAA,EAAAA,IACpBtE,EACAC,EACArC,EACAjB,EACA,MACAwH,EACAC,EACAnI,KAAK6H,cA8BP,OA5BMrE,OAAA8E,OAAA9E,OAAA8E,OAAA,GACDF,GAAa,IAChBG,QAAA/E,OAAA8E,OAAA9E,OAAA8E,OAAA,GACKF,EAAcG,SAAO,IACxBC,UAAYC,IAAA,IAAAC,EAAAC,EACV,OAAKC,MAAMC,QAAQJ,IAGnBA,EAAOzD,KAAK,CAACC,EAAGC,KAAA,IAAA4D,EAAAC,EACd,MAAMC,EAAiB,QAAjBF,EAAU7D,EAAE4B,aAAK,IAAAiC,OAAA,EAAPA,EAAuB,GACjCG,EAAiB,QAAjBF,EAAU7D,EAAE2B,aAAK,IAAAkC,OAAA,EAAPA,EAAuB,GACvC,OAAIC,EAAS,GAAKC,EAAS,GACjB,EAENA,EAAS,GAAKD,EAAS,EAClB,EAELA,EAAS,EACJ9D,EAAEgE,eAAiBjE,EAAEiE,eAEvBjE,EAAEiE,eAAiBhE,EAAEgE,iBAGN,QADxBR,EACGN,EAAcG,eAAO,IAAAG,GAAoB,QAApBC,EAArBD,EAAyCF,iBAAA,IAAAG,OAAA,EAAzCA,EAAAQ,KAAAT,EACCD,IAlBK,S,EA1HR/I,EA6cJ0J,QAASC,EAAAA,EAAAA,IAAGC,IAAAA,EAAAnI,CAAA,iU,2BAzcPoI,WAAW,K,uiBCzBlB,SAASC,EAAaC,GAC3B,OAAOC,EAAAA,EAAAA,GAAcD,EAAM1C,KAAK4C,MAClC,C,oGCIO,SAASC,EAAUC,EAAWC,EAAaC,GAChD,MAAOC,EAAWC,IAAcC,EAAAA,EAAAA,GAC9BH,aAAA,EAAAA,EAASI,GACTN,EACAC,GAEF,QAAQM,EAAAA,EAAAA,GAAWJ,OAAgBI,EAAAA,EAAAA,GAAWH,EAChD,C,6FChBO,SAAS/H,EAAQuH,EAAMM,GAC5B,OAAOH,EAAAA,EAAAA,IACLF,EAAAA,EAAAA,IAAcK,aAAA,EAAAA,EAASI,KAAMV,EAAMA,IACnCD,EAAAA,EAAAA,IAAaO,aAAA,EAAAA,EAASI,KAAMV,GAEhC,C"}