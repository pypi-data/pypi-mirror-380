import{r as h,cW as de,cX as Pt,j as s,cY as Lt,cZ as fe,c_ as Ee,c$ as J,d0 as K,d1 as zt,d2 as It,a as H,T as V,L as ue,d3 as Ze,d4 as Oe,d5 as Ge,d6 as Qe,d7 as et,d8 as kt,d9 as tt,da as Xe,db as Dt,dc as Mt,c8 as Ft,dd as rt,de as Wt,K as Ye,df as Ht,dg as Ot,dh as Xt,di as Yt,dj as Ut,dk as Bt,dl as qt,cP as Z,a$ as B,az as Vt,dm as st,cs as $t,dn as Jt,dp as Kt,ay as Zt,dq as Gt,dr as Qt,ds as er,dt as tr,du as rr,dv as sr,dw as or,dx as ot,C as nr,dy as ar,dz as lr,dA as ir,dB as cr,dC as dr,dD as ur,aC as me,dE as mr,bT as pr,dF as hr,dG as xr,dH as nt,dI as fr,a0 as vr,dJ as gr,dK as at,dL as lt,dM as br,E as wr,bZ as jr,a3 as yr,dN as Nr,am as Sr,an as Cr,dO as _r,ao as Rr,dP as Ar}from"./index-C1SHFMCp.js";import{C as Tr,u as it}from"./links-Dd1icsEk.js";import{P as ct}from"./empty-state-CYev-D31.js";import{M as Ue,F as Er,A as Pr}from"./markdown-renderer-X5YJvAZq.js";import{i as Lr}from"./isEmpty-CnOLuQIv.js";import"./storage-b1QCapTq.js";import"./index-C71cdkH-.js";import"./index-qbTLKWyG.js";import"./index-Bfy-I_lW.js";import"./index-Bh98Tp-z.js";import"./index-BtQtesaI.js";import"./index-C6DWtSls.js";import"./index-B_KyDZ94.js";import"./index-DcGIOAQi.js";import"./index-BDYVSSzB.js";import"./index-Cb6duXQm.js";import"./index-PJfa9qXY.js";import"./index-CT_FTqvK.js";import"./index-BhroIwBL.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-SPslPC2B.js";import"./trash--tonOuDe.js";import"./katex-LV4FpwlL.js";import"./between-horizontal-start-DAHqmLYT.js";var Be="ScrollArea",[dt,xn]=Lt(Be),[zr,O]=dt(Be),ut=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...l}=t,[i,c]=h.useState(null),[p,d]=h.useState(null),[u,m]=h.useState(null),[f,v]=h.useState(null),[w,_]=h.useState(null),[x,g]=h.useState(0),[C,y]=h.useState(0),[b,S]=h.useState(!1),[E,T]=h.useState(!1),N=de(e,P=>c(P)),R=Pt(o);return s.jsx(zr,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:i,viewport:p,onViewportChange:d,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:b,onScrollbarXEnabledChange:S,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:E,onScrollbarYEnabledChange:T,onCornerWidthChange:g,onCornerHeightChange:y,children:s.jsx(fe.div,{dir:R,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});ut.displayName=Be;var mt="ScrollAreaViewport",pt=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=t,l=O(mt,r),i=h.useRef(null),c=de(e,i,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});pt.displayName=mt;var U="ScrollAreaScrollbar",qe=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=O(U,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,i=t.orientation==="horizontal";return h.useEffect(()=>(i?a(!0):l(!0),()=>{i?a(!1):l(!1)}),[i,a,l]),o.type==="hover"?s.jsx(Ir,{...n,ref:e,forceMount:r}):o.type==="scroll"?s.jsx(kr,{...n,ref:e,forceMount:r}):o.type==="auto"?s.jsx(ht,{...n,ref:e,forceMount:r}):o.type==="always"?s.jsx(Ve,{...n,ref:e}):null});qe.displayName=U;var Ir=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=O(U,t.__scopeScrollArea),[a,l]=h.useState(!1);return h.useEffect(()=>{const i=o.scrollArea;let c=0;if(i){const p=()=>{window.clearTimeout(c),l(!0)},d=()=>{c=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",p),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",p),i.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(Ee,{present:r||a,children:s.jsx(ht,{"data-state":a?"visible":"hidden",...n,ref:e})})}),kr=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=O(U,t.__scopeScrollArea),a=t.orientation==="horizontal",l=Ie(()=>c("SCROLL_END"),100),[i,c]=(p="hidden",d={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},h.useReducer((u,m)=>d[u][m]??u,p));var p,d;return h.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,o.scrollHideDelay,c]),h.useEffect(()=>{const u=o.viewport,m=a?"scrollLeft":"scrollTop";if(u){let f=u[m];const v=()=>{const w=u[m];f!==w&&(c("SCROLL"),l()),f=w};return u.addEventListener("scroll",v),()=>u.removeEventListener("scroll",v)}},[o.viewport,a,c,l]),s.jsx(Ee,{present:r||i!=="hidden",children:s.jsx(Ve,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:J(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ht=h.forwardRef((t,e)=>{const r=O(U,t.__scopeScrollArea),{forceMount:n,...o}=t,[a,l]=h.useState(!1),i=t.orientation==="horizontal",c=Ie(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;l(i?p:d)}},10);return pe(r.viewport,c),pe(r.content,c),s.jsx(Ee,{present:n||a,children:s.jsx(Ve,{"data-state":a?"visible":"hidden",...o,ref:e})})}),Ve=h.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,o=O(U,t.__scopeScrollArea),a=h.useRef(null),l=h.useRef(0),[i,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=bt(i.viewport,i.content),d={...n,sizes:i,onSizesChange:c,hasThumb:p>0&&p<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function u(m,f){return(function(v,w,_,x="ltr"){const g=ze(_),C=g/2,y=w||C,b=g-y,S=_.scrollbar.paddingStart+y,E=_.scrollbar.size-_.scrollbar.paddingEnd-b,T=_.content-_.viewport,N=x==="ltr"?[0,T]:[-1*T,0];return jt([S,E],N)(v)})(m,l.current,i,f)}return r==="horizontal"?s.jsx(Dr,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=wt(o.viewport.scrollLeft,i,o.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=u(m,o.dir))}}):r==="vertical"?s.jsx(Mr,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=wt(o.viewport.scrollTop,i);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=u(m))}}):null}),Dr=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...o}=t,a=O(U,t.__scopeScrollArea),[l,i]=h.useState(),c=h.useRef(null),p=de(e,c,a.onScrollbarXChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),s.jsx(ft,{"data-orientation":"horizontal",...o,ref:p,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ze(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),yt(m,u)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Le(l.paddingLeft),paddingEnd:Le(l.paddingRight)}})}})}),Mr=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...o}=t,a=O(U,t.__scopeScrollArea),[l,i]=h.useState(),c=h.useRef(null),p=de(e,c,a.onScrollbarYChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),s.jsx(ft,{"data-orientation":"vertical",...o,ref:p,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ze(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),yt(m,u)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Le(l.paddingTop),paddingEnd:Le(l.paddingBottom)}})}})}),[Fr,xt]=dt(U),ft=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:p,onWheelScroll:d,onResize:u,...m}=t,f=O(U,r),[v,w]=h.useState(null),_=de(e,N=>w(N)),x=h.useRef(null),g=h.useRef(""),C=f.viewport,y=n.content-n.viewport,b=K(d),S=K(c),E=Ie(u,10);function T(N){if(x.current){const R=N.clientX-x.current.left,P=N.clientY-x.current.top;p({x:R,y:P})}}return h.useEffect(()=>{const N=R=>{const P=R.target;(v==null?void 0:v.contains(P))&&b(R,y)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[C,v,y,b]),h.useEffect(S,[n,S]),pe(v,E),pe(f.content,E),s.jsx(Fr,{scope:r,scrollbar:v,hasThumb:o,onThumbChange:K(a),onThumbPointerUp:K(l),onThumbPositionChange:S,onThumbPointerDown:K(i),children:s.jsx(fe.div,{...m,ref:_,style:{position:"absolute",...m.style},onPointerDown:J(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:J(t.onPointerMove,T),onPointerUp:J(t.onPointerUp,N=>{const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=g.current,f.viewport&&(f.viewport.style.scrollBehavior=""),x.current=null})})})}),Pe="ScrollAreaThumb",vt=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=xt(Pe,t.__scopeScrollArea);return s.jsx(Ee,{present:r||o.hasThumb,children:s.jsx(Wr,{ref:e,...n})})}),Wr=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...o}=t,a=O(Pe,r),l=xt(Pe,r),{onThumbPositionChange:i}=l,c=de(e,u=>l.onThumbChange(u)),p=h.useRef(void 0),d=Ie(()=>{p.current&&(p.current(),p.current=void 0)},100);return h.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(d(),!p.current){const f=Or(u,i);p.current=f,i()}};return i(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,d,i]),s.jsx(fe.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:J(t.onPointerDownCapture,u=>{const m=u.target.getBoundingClientRect(),f=u.clientX-m.left,v=u.clientY-m.top;l.onThumbPointerDown({x:f,y:v})}),onPointerUp:J(t.onPointerUp,l.onThumbPointerUp)})});vt.displayName=Pe;var $e="ScrollAreaCorner",gt=h.forwardRef((t,e)=>{const r=O($e,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Hr,{...t,ref:e}):null});gt.displayName=$e;var Hr=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,o=O($e,r),[a,l]=h.useState(0),[i,c]=h.useState(0),p=!!(a&&i);return pe(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),c(d)}),pe(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),l(d)}),p?s.jsx(fe.div,{...n,ref:e,style:{width:a,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Le(t){return t?parseInt(t,10):0}function bt(t,e){const r=t/e;return isNaN(r)?0:r}function ze(t){const e=bt(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function wt(t,e,r="ltr"){const n=ze(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,l=e.content-e.viewport,i=a-n,c=It(t,r==="ltr"?[0,l]:[-1*l,0]);return jt([0,l],[0,i])(c)}function jt(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function yt(t,e){return t>0&&t<e}var Or=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},l=r.left!==a.left,i=r.top!==a.top;(l||i)&&e(),r=a,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Ie(t,e){const r=K(t),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function pe(t,e){const r=K(e);zt(()=>{let n=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(n),o.unobserve(t)}}},[t,r])}var Nt=ut,Xr=pt,Yr=gt;const St=h.forwardRef((t,e)=>{const r=H.c(15);let n,o,a,l,i,c,p,d;return r[0]!==t?({className:o,children:n,...a}=t,r[0]=t,r[1]=n,r[2]=o,r[3]=a):(n=r[1],o=r[2],a=r[3]),r[4]!==o?(l=V("relative overflow-hidden",o),r[4]=o,r[5]=l):l=r[5],r[6]!==n?(i=s.jsx(Xr,{className:"h-full w-full rounded-[inherit]",children:n}),r[6]=n,r[7]=i):i=r[7],r[8]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(Ct,{}),p=s.jsx(Yr,{}),r[8]=c,r[9]=p):(c=r[8],p=r[9]),r[10]!==a||r[11]!==e||r[12]!==l||r[13]!==i?(d=s.jsxs(Nt,{ref:e,className:l,...a,children:[i,c,p]}),r[10]=a,r[11]=e,r[12]=l,r[13]=i,r[14]=d):d=r[14],d});St.displayName=Nt.displayName;const Ct=h.forwardRef((t,e)=>{const r=H.c(14);let n,o,a;r[0]!==t?({className:n,orientation:a,...o}=t,r[0]=t,r[1]=n,r[2]=o,r[3]=a):(n=r[1],o=r[2],a=r[3]);const l=a===void 0?"vertical":a,i=l==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",c=l==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px";let p,d,u;return r[4]!==n||r[5]!==i||r[6]!==c?(p=V("flex touch-none select-none transition-colors",i,c,n),r[4]=n,r[5]=i,r[6]=c,r[7]=p):p=r[7],r[8]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(vt,{className:"relative flex-1 rounded-full bg-border"}),r[8]=d):d=r[8],r[9]!==l||r[10]!==o||r[11]!==e||r[12]!==p?(u=s.jsx(qe,{ref:e,orientation:l,className:p,...o,children:d}),r[9]=l,r[10]=o,r[11]=e,r[12]=p,r[13]=u):u=r[13],u});Ct.displayName=qe.displayName;const Ur=t=>{const e=H.c(13),{reasoning:r,index:n,isStreaming:o}=t,a=n===void 0?0:n,l=o!==void 0&&o,i=l?"reasoning":void 0;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(Oe,{className:"h-3 w-3"}),e[0]=c):c=e[0];const p=l?"Thinking":"View reasoning";let d,u,m,f;return e[1]!==r.length||e[2]!==p?(d=s.jsx(Ze,{className:"text-xs text-muted-foreground hover:bg-muted/50 px-2 py-1 h-auto rounded-sm [&[data-state=open]>svg]:rotate-180",children:s.jsxs("span",{className:"flex items-center gap-2",children:[c,p," (",r.length," ","chars)"]})}),e[1]=r.length,e[2]=p,e[3]=d):d=e[3],e[4]!==r?(u=s.jsx(Ge,{className:"pb-2 px-2",children:s.jsx("div",{className:"bg-muted/30 border border-muted/50 rounded-md p-3 italic text-muted-foreground/90 relative",children:s.jsx("div",{className:"pr-6",children:s.jsx(Ue,{content:r})})})}),e[4]=r,e[5]=u):u=e[5],e[6]!==d||e[7]!==u?(m=s.jsxs(Qe,{value:"reasoning",className:"border-0",children:[d,u]}),e[6]=d,e[7]=u,e[8]=m):m=e[8],e[9]!==a||e[10]!==i||e[11]!==m?(f=s.jsx(et,{type:"single",collapsible:!0,className:"w-full mb-2",value:i,children:m},a),e[9]=a,e[10]=i,e[11]=m,e[12]=f):f=e[12],f},Br=kt({status:tt().default("success"),auth_required:Dt().default(!1),action_url:Xe(),next_steps:Xe(),meta:Xe(),message:tt().nullish()}).passthrough(),qr=t=>{const e=H.c(12),{data:r}=t;let n;if(e[0]!==r){const{status:o,auth_required:a,action_url:l,meta:i,next_steps:c,message:p,...d}=r;let u,m,f,v,w;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h3",{className:"text-xs font-semibold text-muted-foreground",children:"Tool Result"}),e[2]=u):u=e[2],e[3]!==o?(m=s.jsx("span",{className:"text-xs px-2 py-0.5 bg-[var(--grass-2)] text-[var(--grass-11)] rounded-full font-medium capitalize",children:o}),e[3]=o,e[4]=m):m=e[4],e[5]!==a?(f=a&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-[var(--amber-2)] text-[var(--amber-11)] rounded-full",children:"Auth Required"}),e[5]=a,e[6]=f):f=e[6],e[7]!==m||e[8]!==f?(v=s.jsxs("div",{className:"flex items-center justify-between",children:[u,s.jsxs("div",{className:"flex items-center gap-2",children:[m,f]})]}),e[7]=m,e[8]=f,e[9]=v):v=e[9],e[10]!==p?(w=p&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-3 w-3 text-[var(--blue-11)] mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"text-xs text-foreground",children:p})]}),e[10]=p,e[11]=w):w=e[11],n=s.jsxs("div",{className:"flex flex-col gap-1.5",children:[v,w,d&&s.jsx("div",{className:"space-y-3",children:Object.entries(d).map(Jr)})]}),e[0]=r,e[1]=n}else n=e[1];return n},Vr=t=>{const e=H.c(8),{result:r}=t;let n;e[0]!==r?(n=Br.safeParse(r),e[0]=r,e[1]=n):n=e[1];const o=n;if(o.success){let i;return e[2]!==o.data?(i=s.jsx(qr,{data:o.data}),e[2]=o.data,e[3]=i):i=e[3],i}let a,l;return e[4]!==r?(a=typeof r=="string"?r:JSON.stringify(r,null,2),e[4]=r,e[5]=a):a=e[5],e[6]!==a?(l=s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:a}),e[6]=a,e[7]=l):l=e[7],l},$r=t=>{const e=H.c(6),{input:r}=t;if(!(r&&r!==null))return null;const n=typeof r=="object"&&Object.keys(r).length>0;let o,a,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h3",{className:"text-xs font-semibold text-muted-foreground",children:"Tool Request"}),e[0]=o):o=e[0],e[1]!==r||e[2]!==n?(a=n?JSON.stringify(r,null,2):String(r),e[1]=r,e[2]=n,e[3]=a):a=e[3],e[4]!==a?(l=s.jsxs("div",{className:"space-y-2",children:[o,s.jsx("pre",{className:"bg-[var(--slate-2)] p-2 text-muted-foreground border border-[var(--slate-4)] rounded text-xs overflow-auto scrollbar-thin max-h-64",children:a})]}),e[4]=a,e[5]=l):l=e[5],l},_t=t=>{const e=H.c(38),{toolName:r,result:n,error:o,index:a,state:l,className:i,input:c}=t,p=a===void 0?0:a,d=l==="output-available"&&(n||o),u=o?"error":d?"success":"loading";let m;e[0]!==u?(m=()=>{switch(u){case"loading":return s.jsx(rt,{className:"h-3 w-3 animate-spin"});case"error":return s.jsx(Ft,{className:"h-3 w-3 text-[var(--red-11)]"});case"success":return s.jsx(Tr,{className:"h-3 w-3 text-[var(--grass-11)]"});default:return s.jsx(Mt,{className:"h-3 w-3"})}},e[0]=u,e[1]=m):m=e[1];const f=m;let v;e[2]!==o||e[3]!==d||e[4]!==u?(v=()=>u==="loading"?"Running":o?"Failed":d?"Done":"Tool call",e[2]=o,e[3]=d,e[4]=u,e[5]=v):v=e[5];const w=v,_=`tool-${p}`;let x;e[6]!==i?(x=V("w-full",i),e[6]=i,e[7]=x):x=e[7];const g=u==="error"&&"text-[var(--red-11)]/80",C=u==="success"&&"text-[var(--grass-11)]/80";let y,b;e[8]!==g||e[9]!==C?(y=V("h-6 text-xs border-border shadow-none! ring-0! bg-muted/60 hover:bg-muted py-0 px-2 gap-1 rounded-sm [&[data-state=open]>svg]:rotate-180 hover:no-underline",g,C),e[8]=g,e[9]=C,e[10]=y):y=e[10],e[11]!==f?(b=f(),e[11]=f,e[12]=b):b=e[12];const S=w();let E,T,N,R,P,k,D,z;return e[13]!==r?(E=(function(F){return F.replace("tool-","")})(r),e[13]=r,e[14]=E):E=e[14],e[15]!==E?(T=s.jsx("code",{className:"font-mono text-xs",children:E}),e[15]=E,e[16]=T):T=e[16],e[17]!==S||e[18]!==T||e[19]!==b?(N=s.jsxs("span",{className:"flex items-center gap-1",children:[b,S,":",T]}),e[17]=S,e[18]=T,e[19]=b,e[20]=N):N=e[20],e[21]!==N||e[22]!==y?(R=s.jsx(Ze,{className:y,children:N}),e[21]=N,e[22]=y,e[23]=R):R=e[23],e[24]!==o||e[25]!==d||e[26]!==c||e[27]!==n?(P=d&&s.jsxs("div",{className:"space-y-3",children:[s.jsx($r,{input:c}),n!=null&&s.jsx(Vr,{result:n}),o&&s.jsxs("div",{className:"bg-[var(--red-2)] border border-[var(--red-6)] rounded-lg p-3",children:[s.jsxs("div",{className:"text-xs font-semibold text-[var(--red-11)] mb-2 flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--red-9)] rounded-full"}),"Error"]}),s.jsx("div",{className:"text-sm text-[var(--red-11)] leading-relaxed",children:o})]})]}),e[24]=o,e[25]=d,e[26]=c,e[27]=n,e[28]=P):P=e[28],e[29]!==P?(k=s.jsx(Ge,{className:"py-2 px-2",children:P}),e[29]=P,e[30]=k):k=e[30],e[31]!==R||e[32]!==k?(D=s.jsxs(Qe,{value:"tool-call",className:"border-0",children:[R,k]}),e[31]=R,e[32]=k,e[33]=D):D=e[33],e[34]!==D||e[35]!==_||e[36]!==x?(z=s.jsx(et,{type:"single",collapsible:!0,className:x,children:D},_),e[34]=D,e[35]=_,e[36]=x,e[37]=z):z=e[37],z};function Jr(t){const[e,r]=t;return Lr(r)?null:s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"text-xs font-medium text-muted-foreground capitalize flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--blue-9)] rounded-full"}),e]}),s.jsx("pre",{className:"bg-[var(--slate-2)] p-2 text-muted-foreground border border-[var(--slate-4)] rounded text-xs overflow-auto scrollbar-thin max-h-64",children:JSON.stringify(r,null,2)})]},e)}const Kr=new Set(["openai","google","anthropic"]),Zr=["image/*","text/*"],Gr=({onNewChat:t,activeChatId:e,setActiveChat:r})=>{const{handleClick:n}=it(),o=Ye(st),{locale:a}=jr(),l=h.useMemo(()=>[...o.chats.values()].sort((i,c)=>c.updatedAt-i.updatedAt),[o.chats]);return s.jsxs("div",{className:"flex border-b px-2 py-1 justify-between shrink-0 items-center",children:[s.jsx(me,{content:"New chat",children:s.jsx(B,{variant:"text",size:"icon",onClick:t,children:s.jsx(yr,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{content:"AI Settings",children:s.jsx(B,{variant:"text",size:"xs",className:"hover:bg-foreground/10 py-2",onClick:()=>n("ai"),children:s.jsx(Nr,{className:"h-4 w-4"})})}),s.jsxs(Sr,{children:[s.jsx(me,{content:"Previous chats",children:s.jsx(Cr,{asChild:!0,children:s.jsx(B,{variant:"text",size:"icon",children:s.jsx(_r,{className:"h-4 w-4"})})})}),s.jsx(Rr,{className:"w-[520px] p-0",align:"start",side:"right",children:s.jsx(St,{className:"h-[500px] p-4",children:s.jsxs("div",{className:"space-y-4",children:[l.length===0&&s.jsx(ct,{title:"No chats yet",description:"Start a new chat to get started",icon:s.jsx(Oe,{})}),l.map(i=>s.jsxs("button",{className:V("w-full p-3 rounded-md cursor-pointer hover:bg-accent text-left",i.id===e&&"bg-accent"),onClick:()=>{r(i.id)},type:"button",children:[s.jsx("div",{className:"font-medium",children:i.title}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Ar(i.updatedAt,a)})]},i.id))]})})})]})]})]})},Rt=h.memo(t=>{const e=H.c(15),{message:r,index:n,onEdit:o,isStreamingReasoning:a,isLast:l}=t;let i;e[0]!==n||e[1]!==o?(i=w=>{var C,y;const _=(C=w.parts)==null?void 0:C.filter(ts),x=_==null?void 0:_.map(rs).join(`
`),g=(y=w.parts)==null?void 0:y.filter(ss);return s.jsxs("div",{className:"w-[95%] bg-background border p-1 rounded-sm",children:[g==null?void 0:g.map(os),s.jsx(ot,{value:x,placeholder:"Type your message...",onChange:ns,onSubmit:(b,S)=>{S.trim()&&o(n,S)},onClose:as},w.id)]})},e[0]=n,e[1]=o,e[2]=i):i=e[2];const c=i;let p;e[3]!==l||e[4]!==a?(p=w=>{const _=w.parts.filter(ls).map(is).join(`
`);return s.jsxs("div",{className:"w-[95%] break-words",children:[s.jsx("div",{className:"absolute right-1 top-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(nr,{className:"h-3 w-3",value:_||""})}),w.parts.map((x,g)=>{if((function(C){return C.type.startsWith("tool-")})(x))return s.jsx(_t,{index:g,toolName:x.type,result:x.output,className:"my-2",state:x.state,input:x.input},g);switch(x.type){case"text":return s.jsx(Ue,{content:x.text},g);case"reasoning":return s.jsx(Ur,{reasoning:x.text,index:g,isStreaming:l&&a&&g===(w.parts.length||0)-1},g);case"dynamic-tool":return s.jsx(_t,{index:g,toolName:x.type,result:x.output,state:x.state,input:x.input,className:"my-2"},g);case"data-reasoning-signature":return null;default:if(x.type.startsWith("data-"))return ue.log("Found data part",x),null;ue.error("Unhandled part type:",x.type);try{return s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx(Ue,{content:JSON.stringify(x,null,2)})},g)}catch(C){const y=C;return ue.error("Error rendering part:",x.type,y),null}}})]})},e[3]=l,e[4]=a,e[5]=p):p=e[5];const d=p,u=r.role==="user"?"justify-end":"justify-start";let m,f,v;return e[6]!==u?(m=V("flex group relative",u),e[6]=u,e[7]=m):m=e[7],e[8]!==r||e[9]!==d||e[10]!==c?(f=r.role==="user"?c(r):d(r),e[8]=r,e[9]=d,e[10]=c,e[11]=f):f=e[11],e[12]!==m||e[13]!==f?(v=s.jsx("div",{className:m,children:f}),e[12]=m,e[13]=f,e[14]=v):v=e[14],v});Rt.displayName="ChatMessage";const At=h.memo(t=>{var I;const e=H.c(37),{isEmpty:r,onSendClick:n,isLoading:o,onStop:a,fileInputRef:l,onAddFiles:i,onAddContext:c}=t,p=Ye(Ot),d=(p==null?void 0:p.mode)||"manual",u=((I=p==null?void 0:p.models)==null?void 0:I.chat_model)||Xt,m=Yt.parse(u).providerId,{saveModeChange:f}=Ut();let v;e[0]===Symbol.for("react.memo_cache_sentinel")?(v=[{value:"ask",label:"Ask",subtitle:"Use AI with access to read-only tools like documentation search"},{value:"manual",label:"Manual",subtitle:"Pure chat, no tool usage"}],e[0]=v):v=e[0];const w=v,_=Kr.has(m);let x,g,C,y,b,S,E,T,N;e[1]!==d?(x=s.jsx(ar,{className:"h-6 text-xs border-border shadow-none! ring-0! bg-muted hover:bg-muted/30 py-0 px-2 gap-1 capitalize",children:d}),e[1]=d,e[2]=x):x=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(lr,{children:"AI Mode"}),e[3]=g):g=e[3],e[4]!==w?(C=s.jsx(Bt,{children:s.jsxs(qt,{children:[g,w.map(cs)]})}),e[4]=w,e[5]=C):C=e[5],e[6]!==d||e[7]!==f||e[8]!==x||e[9]!==C?(y=s.jsx(ir,{feature:"chat_modes",children:s.jsxs(cr,{value:d,onValueChange:f,children:[x,C]})}),e[6]=d,e[7]=f,e[8]=x,e[9]=C,e[10]=y):y=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(dr,{placeholder:"Model",triggerClassName:"h-6 text-xs shadow-none! ring-0! bg-muted hover:bg-muted/30 rounded-sm",iconSize:"small",showAddCustomModelDocs:!0,forRole:"chat"}),e[11]=b):b=e[11],e[12]!==y?(S=s.jsxs("div",{className:"flex items-center gap-2",children:[y,b]}),e[12]=y,e[13]=S):S=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(ur,{className:"h-3.5 w-3.5"}),e[14]=E):E=e[14],e[15]!==c?(T=s.jsx(me,{content:"Add context",children:s.jsx(B,{variant:"text",size:"icon",onClick:c,children:E})}),e[15]=c,e[16]=T):T=e[16],e[17]!==l||e[18]!==_||e[19]!==i?(N=_&&s.jsxs(s.Fragment,{children:[s.jsx(me,{content:"Attach a file",children:s.jsx(B,{variant:"text",size:"icon",className:"cursor-pointer",onClick:()=>{var Y;return(Y=l.current)==null?void 0:Y.click()},title:"Attach a file",children:s.jsx(mr,{className:"h-3.5 w-3.5"})})}),s.jsx(pr,{ref:l,type:"file",multiple:!0,hidden:!0,onChange:Y=>{Y.target.files&&i([...Y.target.files])},accept:Zr.join(",")})]}),e[17]=l,e[18]=_,e[19]=i,e[20]=N):N=e[20];const R=o?"Stop":"Submit",P=o?a:n,k=!o&&r;let D,z,F,X,q;return e[21]!==o?(D=o?s.jsx(hr,{className:"h-3 w-3 fill-current"}):s.jsx(xr,{className:"h-3 w-3"}),e[21]=o,e[22]=D):D=e[22],e[23]!==P||e[24]!==k||e[25]!==D?(z=s.jsx(B,{variant:"text",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted/30 cursor-pointer",onClick:P,disabled:k,children:D}),e[23]=P,e[24]=k,e[25]=D,e[26]=z):z=e[26],e[27]!==R||e[28]!==z?(F=s.jsx(me,{content:R,children:z}),e[27]=R,e[28]=z,e[29]=F):F=e[29],e[30]!==N||e[31]!==F||e[32]!==T?(X=s.jsxs("div",{className:"flex flex-row",children:[T,N,F]}),e[30]=N,e[31]=F,e[32]=T,e[33]=X):X=e[33],e[34]!==X||e[35]!==S?(q=s.jsx(nt,{children:s.jsxs("div",{className:"px-3 py-2 border-t border-border/20 flex flex-row items-center justify-between",children:[S,X]})}),e[34]=X,e[35]=S,e[36]=q):q=e[36],q});At.displayName="ChatInputFooter";const Je=h.memo(t=>{const e=H.c(29),{placeholder:r,input:n,inputClassName:o,setInput:a,onSubmit:l,inputRef:i,isLoading:c,onStop:p,fileInputRef:d,onAddFiles:u,onClose:m}=t;let f;e[0]!==n||e[1]!==l?(f=()=>{n.trim()&&l(void 0,n)},e[0]=n,e[1]=l,e[2]=f):f=e[2];const v=Z(f);let w;e[3]!==o?(w=V("px-2 py-3 flex-1",o),e[3]=o,e[4]=w):w=e[4];const _=r||"Type your message...";let x,g;e[5]!==n||e[6]!==i||e[7]!==u||e[8]!==m||e[9]!==l||e[10]!==a||e[11]!==_?(x=s.jsx(ot,{inputRef:i,value:n,onChange:a,onSubmit:l,onClose:m,onAddFiles:u,placeholder:_}),e[5]=n,e[6]=i,e[7]=u,e[8]=m,e[9]=l,e[10]=a,e[11]=_,e[12]=x):x=e[12],e[13]!==w||e[14]!==x?(g=s.jsx("div",{className:w,children:x}),e[13]=w,e[14]=x,e[15]=g):g=e[15];const C=!n.trim();let y,b,S;return e[16]!==i?(y=()=>fr(i),e[16]=i,e[17]=y):y=e[17],e[18]!==d||e[19]!==v||e[20]!==c||e[21]!==u||e[22]!==p||e[23]!==C||e[24]!==y?(b=s.jsx(At,{isEmpty:C,onAddContext:y,onSendClick:v,isLoading:c,onStop:p,fileInputRef:d,onAddFiles:u}),e[18]=d,e[19]=v,e[20]=c,e[21]=u,e[22]=p,e[23]=C,e[24]=y,e[25]=b):b=e[25],e[26]!==g||e[27]!==b?(S=s.jsxs("div",{className:"relative shrink-0 min-h-[80px] flex flex-col border-t",children:[g,b]}),e[26]=g,e[27]=b,e[28]=S):S=e[28],S});Je.displayName="ChatInput";const Qr=()=>{const t=H.c(6),e=Ye(Ht),{handleClick:r}=it();if(!e){let o,a,l;return t[0]!==r?(o=s.jsx(B,{variant:"outline",size:"sm",onClick:()=>r("ai"),children:"Edit AI settings"}),t[0]=r,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(Oe,{}),t[2]=a):a=t[2],t[3]!==o?(l=s.jsx(ct,{title:"Chat with AI",description:"AI is currently disabled. Add your API key to enable.",action:o,icon:a}),t[3]=o,t[4]=l):l=t[4],l}let n;return t[5]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(es,{}),t[5]=n):n=t[5],n},es=()=>{const t=H.c(86),e=Vt(st),[r,n]=$t(Jt),[o,a]=h.useState(""),[l,i]=h.useState(""),[c,p]=h.useState(),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),f=h.useRef(null),v=h.useRef(null),w=Kt(),{invokeAiTool:_}=Zt(),x=r==null?void 0:r.id;let g,C,y;t[0]!==(r==null?void 0:r.messages)?(g=(r==null?void 0:r.messages)||[],t[0]=r==null?void 0:r.messages,t[1]=g):g=t[1],t[2]!==w?(C=new Gt({api:w.getAiURL("chat").toString(),headers:w.headers(),prepareSendMessagesRequest:us}),t[2]=w,t[3]=C):C=t[3],t[4]!==e?(y=j=>{const{messages:A}=j;e(L=>(({chatState:M,chatId:ie,messages:$})=>{if(!ie)return ue.warn("No active chat"),M;const ce=M.chats.get(ie);if(!ce)return ue.warn("No active chat"),M;const Ke=new Map(M.chats),Et=Date.now();return Ke.set(ce.id,{...ce,messages:$,updatedAt:Et}),{...M,chats:Ke}})({chatState:L,chatId:L.activeChatId,messages:A}))},t[4]=e,t[5]=y):y=t[5];const{messages:b,sendMessage:S,error:E,status:T,regenerate:N,stop:R,addToolResult:P,id:k}=Qt({id:x,sendAutomaticallyWhen:ds,messages:g,transport:C,onFinish:y,onToolCall:async j=>{const{toolCall:A}=j;await er({invokeAiTool:_,addToolResult:D,toolCall:{toolName:A.toolName,toolCallId:A.toolCallId,input:A.input}})},onError:ms}),D=P;let z;t[6]===Symbol.for("react.memo_cache_sentinel")?(z=j=>{if(j.length===0)return;let A=0;for(const L of j)A+=L.size;A>52428800?vr({title:"File size exceeds 50MB limit",description:"Please remove some files and try again."}):p(L=>[...L??[],...j])},t[6]=z):z=t[6];const F=Z(z);let X;t[7]!==c?(X=j=>{c&&p(c.filter(A=>A!==j))},t[7]=c,t[8]=X):X=t[8];const q=Z(X),I=T==="submitted"||T==="streaming";let Y;t[9]!==I||t[10]!==b?(Y=I&&b.length>0&&tr(b),t[9]=I,t[10]=b,t[11]=Y):Y=t[11];const he=Y;let ve,ge,be;t[12]===Symbol.for("react.memo_cache_sentinel")?(ve=()=>{requestAnimationFrame(()=>{if(m.current){const j=m.current;j.scrollTop=j.scrollHeight}})},t[12]=ve):ve=t[12],t[13]!==x?(ge=[x],t[13]=x,t[14]=ge):ge=t[14],h.useEffect(ve,ge),t[15]!==k||t[16]!==S||t[17]!==e?(be=async(j,A)=>{const L=Date.now(),M={id:k,title:gr(j),messages:[],createdAt:L,updatedAt:L};e($=>{const ce=new Map($.chats);return ce.set(M.id,M),{...$,chats:ce,activeChatId:M.id}});const ie=A&&A.length>0?await at(A):void 0;S({role:"user",parts:[{type:"text",text:j},...ie??[]]}),p(void 0),a("")},t[15]=k,t[16]=S,t[17]=e,t[18]=be):be=t[18];const ke=be;let we;t[19]!==n?(we=()=>{n(null),a(""),i(""),p(void 0)},t[19]=n,t[20]=we):we=t[20];const De=Z(we);let je;t[21]!==b||t[22]!==S?(je=(j,A)=>{var $;const L=b[j],M=($=L.parts)==null?void 0:$.filter(ps),ie=L.id;S({messageId:ie,role:"user",parts:[{type:"text",text:A},...M]})},t[21]=b,t[22]=S,t[23]=je):je=t[23];const xe=Z(je);let ye;t[24]!==c||t[25]!==S?(ye=async(j,A)=>{var M;if(!A.trim())return;(M=u.current)!=null&&M.view&&lt(u.current.view);const L=c?await at(c):void 0;j==null||j.preventDefault(),S({text:A,files:L}),a(""),p(void 0)},t[24]=c,t[25]=S,t[26]=ye):ye=t[26];const Me=Z(ye);let Ne;t[27]!==N?(Ne=()=>{N()},t[27]=N,t[28]=Ne):Ne=t[28];const Fe=Ne;let Se;t[29]!==ke||t[30]!==c||t[31]!==l?(Se=()=>{var j;l.trim()&&((j=d.current)!=null&&j.view&&lt(d.current.view),ke(l.trim(),c))},t[29]=ke,t[30]=c,t[31]=l,t[32]=Se):Se=t[32];const We=Z(Se);let Ce;t[33]===Symbol.for("react.memo_cache_sentinel")?(Ce=()=>{var j,A;return(A=(j=d.current)==null?void 0:j.editor)==null?void 0:A.blur()},t[33]=Ce):Ce=t[33];const Tt=Ce,W=b.length===0;let _e;t[34]!==Me||t[35]!==We||t[36]!==o||t[37]!==I||t[38]!==W||t[39]!==l||t[40]!==F||t[41]!==R?(_e=W?s.jsx(Je,{placeholder:`Ask anything, ${br} to include context about tables or dataframes`,input:l,inputRef:d,inputClassName:"px-1 py-0",setInput:i,onSubmit:We,isLoading:I,onStop:R,fileInputRef:f,onAddFiles:F,onClose:Tt},"new-thread-input"):s.jsx(Je,{input:o,setInput:a,onSubmit:Me,inputRef:u,isLoading:I,onStop:R,onClose:()=>{var j,A;return(A=(j=u.current)==null?void 0:j.editor)==null?void 0:A.blur()},fileInputRef:f,onAddFiles:F}),t[34]=Me,t[35]=We,t[36]=o,t[37]=I,t[38]=W,t[39]=l,t[40]=F,t[41]=R,t[42]=_e):_e=t[42];const G=_e;let Re;t[43]!==c||t[44]!==W||t[45]!==q?(Re=c&&c.length>0&&s.jsx("div",{className:V("flex flex-row gap-1 flex-wrap p-1",W&&"py-2 px-1"),children:c==null?void 0:c.map(j=>s.jsx(Er,{file:j,onRemove:()=>q(j)},j.name))}),t[43]=c,t[44]=W,t[45]=q,t[46]=Re):Re=t[46];const Q=Re,He=r==null?void 0:r.id;let ee,te,re,se,oe,Ae,ne,ae,le,Te;if(t[47]!==De||t[48]!==n||t[49]!==He?(ee=s.jsx(nt,{children:s.jsx(Gr,{onNewChat:De,activeChatId:He,setActiveChat:n})}),t[47]=De,t[48]=n,t[49]=He,t[50]=ee):ee=t[50],t[51]!==G||t[52]!==Q||t[53]!==W?(te=W&&s.jsxs("div",{className:"rounded-md border bg-background",children:[Q,G]}),t[51]=G,t[52]=Q,t[53]=W,t[54]=te):te=t[54],t[55]!==xe||t[56]!==he||t[57]!==b){let j;t[59]!==xe||t[60]!==he||t[61]!==b.length?(j=(A,L)=>s.jsx(Rt,{message:A,index:L,onEdit:xe,isStreamingReasoning:he,isLast:L===b.length-1},A.id),t[59]=xe,t[60]=he,t[61]=b.length,t[62]=j):j=t[62],re=b.map(j),t[55]=xe,t[56]=he,t[57]=b,t[58]=re}else re=t[58];return t[63]!==I?(se=I&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(rt,{className:"h-4 w-4 animate-spin"})}),t[63]=I,t[64]=se):se=t[64],t[65]!==E||t[66]!==Fe?(oe=E&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx(wr,{error:E}),s.jsx(B,{variant:"outline",size:"sm",onClick:Fe,children:"Retry"})]}),t[65]=E,t[66]=Fe,t[67]=oe):oe=t[67],t[68]===Symbol.for("react.memo_cache_sentinel")?(Ae=s.jsx("div",{ref:v}),t[68]=Ae):Ae=t[68],t[69]!==te||t[70]!==re||t[71]!==se||t[72]!==oe?(ne=s.jsxs("div",{className:"flex-1 px-3 bg-(--slate-1) gap-4 py-3 flex flex-col overflow-y-auto",ref:m,children:[te,re,se,oe,Ae]}),t[69]=te,t[70]=re,t[71]=se,t[72]=oe,t[73]=ne):ne=t[73],t[74]!==I||t[75]!==R?(ae=I&&s.jsx("div",{className:"w-full flex justify-center items-center z-20 border-t",children:s.jsx(B,{variant:"linkDestructive",size:"sm",onClick:R,children:"Stop"})}),t[74]=I,t[75]=R,t[76]=ae):ae=t[76],t[77]!==G||t[78]!==Q||t[79]!==W?(le=!W&&s.jsxs(s.Fragment,{children:[Q,G]}),t[77]=G,t[78]=Q,t[79]=W,t[80]=le):le=t[80],t[81]!==ee||t[82]!==ne||t[83]!==ae||t[84]!==le?(Te=s.jsxs("div",{className:"flex flex-col h-[calc(100%-53px)]",children:[ee,ne,ae,le]}),t[81]=ee,t[82]=ne,t[83]=ae,t[84]=le,t[85]=Te):Te=t[85],Te};function ts(t){return t.type==="text"}function rs(t){return t.text}function ss(t){return t.type==="file"}function os(t,e){return s.jsx(Pr,{attachment:t},e)}function ns(){}function as(){}function ls(t){return t.type==="text"}function is(t){return t.text}function cs(t){return s.jsx(rr,{value:t.value,className:"text-xs",children:s.jsxs("div",{className:"flex flex-col",children:[t.label,s.jsx("div",{className:"text-muted-foreground text-xs pt-1 block",children:t.subtitle})]})},t.value)}function ds(t){const{messages:e}=t;return sr(e)}async function us(t){const e=await or(t.messages);return{body:{...t,...e}}}function ms(t){ue.error("An error occurred:",t)}function ps(t){return t.type==="file"}export{Qr as default};
