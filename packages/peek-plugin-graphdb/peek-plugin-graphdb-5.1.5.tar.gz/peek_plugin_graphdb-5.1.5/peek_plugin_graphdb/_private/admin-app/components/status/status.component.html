<nz-card class="status-card" *ngIf="item$ | async as item">
    <div class="status-section">
        <h3>Segment Storage</h3>
        <nz-descriptions [nzColumn]="1" nzBordered>
            <nz-descriptions-item nzTitle="Status">
                <nz-tag
                    [nzColor]="
                        item?.segmentCompilerQueueStatus ? 'success' : 'error'
                    "
                >
                    {{
                        item?.segmentCompilerQueueStatus ? "Running" : "Stopped"
                    }}
                </nz-tag>
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Queue Size">
                {{ item?.segmentCompilerQueueSize }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Total Processed">
                {{ item?.segmentCompilerQueueProcessedTotal }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Last Error">
                <span class="error-text">{{
                    item?.segmentCompilerQueueLastError || "None"
                }}</span>
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Last Update Date">
                {{ item?.segmentCompilerQueueLastUpdateDate | date: "medium" }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Table Total">
                {{ item?.segmentCompilerQueueTableTotal }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Last Table Total Update">
                {{
                    item?.segmentCompilerQueueLastTableTotalUpdate
                        | date: "medium"
                }}
            </nz-descriptions-item>
        </nz-descriptions>
    </div>

    <nz-divider></nz-divider>

    <div class="status-section">
        <h3>Item Key Index</h3>
        <nz-descriptions [nzColumn]="1" nzBordered>
            <nz-descriptions-item nzTitle="Status">
                <nz-tag
                    [nzColor]="
                        item?.itemKeyIndexCompilerQueueStatus
                            ? 'success'
                            : 'error'
                    "
                >
                    {{
                        item?.itemKeyIndexCompilerQueueStatus
                            ? "Running"
                            : "Stopped"
                    }}
                </nz-tag>
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Queue Size">
                {{ item?.itemKeyIndexCompilerQueueSize }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Total Processed">
                {{ item?.itemKeyIndexCompilerQueueProcessedTotal }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Last Error">
                <span class="error-text">{{
                    item?.itemKeyIndexCompilerQueueLastError || "None"
                }}</span>
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Last Update Date">
                {{
                    item?.itemKeyIndexCompilerQueueLastUpdateDate
                        | date: "medium"
                }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Table Total">
                {{ item?.itemKeyIndexCompilerQueueTableTotal }}
            </nz-descriptions-item>

            <nz-descriptions-item nzTitle="Last Table Total Update">
                {{
                    item?.itemKeyIndexCompilerQueueLastTableTotalUpdate
                        | date: "medium"
                }}
            </nz-descriptions-item>
        </nz-descriptions>
    </div>
</nz-card>
