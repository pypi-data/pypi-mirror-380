Metadata-Version: 2.4
Name: card-forge
Version: 0.0.1
Summary: Modern CLI tool for AI character card management - extract, repositorize, and rebuild character cards
Author-email: "Nya Foundation Team (k3scat)" <k3scat@gmail.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/Nya-Foundation/card-forge
Project-URL: Bug Tracker, https://github.com/Nya-Foundation/card-forge/issues
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Python: >=3.13
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pillow>=11.3.0
Requires-Dist: pydantic>=2.11.9
Requires-Dist: pyyaml>=6.0.3
Dynamic: license-file

# Card Forge ğŸ”¨

> **[ä¸­æ–‡ç‰ˆREADME](README_zh.md) | [English README](README.md)**

**Modern CLI tool for AI character card management** - Extract, repositorize, and rebuild character cards with ease!

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                               â•‘
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•‘
â•‘  â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â•â•â•‘
â•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â•‘
â•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â•‘
â•‘  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•‘
â•‘   â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•     â•šâ•â•      â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•‘
â•‘                                                                               â•‘
â•‘                    ğŸ”¨ AI Character Card Management Tool ğŸ”¨                    â•‘
â•‘                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸš€ Features

- **ğŸ“¤ Extract**: Get character data from PNG files to JSON
- **ğŸ“ Repositorize**: Convert cards to version-control friendly file structures  
- **ğŸ”¨ Rebuild**: Reconstruct cards from repositories
- **âœ… Validate**: Check card integrity and specification compliance
- **ğŸ“Š Analyze**: Get detailed character card information
- **ğŸ¨ Modern CLI**: Beautiful interface with helpful commands

## ğŸ”§ Installation

```bash
# Install with uv (recommended)
uv add card-forge

# Or with pip
pip install card-forge
```

## ğŸ¯ Quick Start

```bash
# Extract character data from a PNG file
card-forge extract character.png

# Convert a character card to a repository structure
card-forge repo character.png

# Rebuild a character card from repository
card-forge build my_character/

# Validate a character card
card-forge validate character.png

# Get detailed information about a character
card-forge info character.png

# Generate default configuration file
card-forge init-config

# Show version information
card-forge --version
```

## ğŸ“‹ Commands

### `extract` - Extract card data to JSON

```bash
card-forge extract card.png                     # Extract to character_name.json
card-forge extract card.png -o mychar.json      # Custom output filename
```

### `repo` - Convert to repository structure

```bash
card-forge repo card.png                        # From PNG file
card-forge repo character.json                  # From JSON file
card-forge repo card.png -c custom_config.yaml  # Custom configuration
```

Creates a clean, organized directory structure:
```
character_name/
â”œâ”€â”€ _metadata.yaml              # Card metadata (spec, version)
â””â”€â”€ data/
    â”œâ”€â”€ _metadata.yaml          # Remaining character data
    â”œâ”€â”€ description.md          # Character description
    â”œâ”€â”€ personality.md          # Personality traits
    â”œâ”€â”€ scenario.md             # Scenario description
    â”œâ”€â”€ system_prompt.md        # System instructions
    â”œâ”€â”€ first_message.md        # First message
    â”œâ”€â”€ example_messages.md     # Example dialogue
    â”œâ”€â”€ creator_notes.md        # Creator notes
    â”œâ”€â”€ alternate_greetings/    # Alternative greetings
    â”‚   â”œâ”€â”€ 1.txt
    â”‚   â””â”€â”€ 2.txt
    â”œâ”€â”€ group_only_greetings/   # Group chat greetings
    â”‚   â””â”€â”€ 1.txt
    â”œâ”€â”€ creator_notes_multilingual/  # Multi-language notes
    â”‚   â”œâ”€â”€ en.md
    â”‚   â””â”€â”€ es.md
    â”œâ”€â”€ assets/                 # Character assets
    â”‚   â”œâ”€â”€ main_icon.yaml
    â”‚   â””â”€â”€ background_image.yaml
    â”œâ”€â”€ extensions/             # Extensions and scripts
    â”‚   â”œâ”€â”€ _metadata.yaml
    â”‚   â”œâ”€â”€ TavernHelper_scripts/
    â”‚   â”‚   â””â”€â”€ script_name.yaml
    â”‚   â””â”€â”€ regex_scripts/
    â”‚       â””â”€â”€ script_name.yaml
    â””â”€â”€ character_book/         # Lorebook entries
        â”œâ”€â”€ _metadata.yaml
        â””â”€â”€ entries/
            â”œâ”€â”€ 1-location.yaml
            â””â”€â”€ 2-character.yaml
```

### `build` - Rebuild from repository

```bash
card-forge build my_character/                  # Rebuild to JSON
card-forge build my_character/ -f png           # Rebuild to PNG
card-forge build my_character/ -o rebuilt       # Custom output name
card-forge build my_character/ -f png -b base.png  # Custom base image
```

### `validate` - Check card integrity

```bash
card-forge validate character.png               # Validate PNG
card-forge validate character.json              # Validate JSON
```

### `info` - Detailed character analysis

```bash
card-forge info character.png                   # Show detailed information
```

### `init-config` - Generate configuration file

```bash
card-forge init-config                          # Generate config.yaml
card-forge init-config -o custom.yaml           # Custom filename
```

Example output:
```
ğŸ­ CHARACTER: Alice Wonderland
================================================================================
ğŸ‘¤ Creator: CardMaker
ğŸ·ï¸  Tags: fantasy, adventure, curious
ğŸ“ Version: 1.0
ğŸ”§ Spec: chara_card_v3 v3.0

ğŸ“‹ CONTENT OVERVIEW:
  â€¢ Description: 1,250 characters
  â€¢ Personality: 890 characters
  â€¢ Scenario: 1,100 characters
  â€¢ Alternate greetings: 3
  â€¢ Group-only greetings: 1

ğŸ“š LOREBOOK:
  â€¢ Name: Wonderland Guide
  â€¢ Entries: 12
```

## ğŸ› ï¸ Development Workflow

### 1. Extract and Explore
```bash
# Extract a character card to see its structure
card-forge extract my_card.png
card-forge info my_card.png
```

### 2. Convert to Repository
```bash
# Create editable file structure
card-forge repo my_card.png
```

### 3. Edit Files
Edit the individual files in your favorite editor:
- Modify `description.md` for character description
- Update `personality.md` for personality traits
- Add alternate greetings in `alternate_greetings/`
- Edit lorebook entries in `character_book/entries/`

### 4. Rebuild and Test
```bash
# Rebuild to verify changes
card-forge build my_character/
card-forge validate my_character_rebuilt.json

# Create final PNG
card-forge build my_character/ -f png
```

## ğŸ”„ Use Cases

### Version Control for Character Development
```bash
# Initial setup
card-forge repo character.png
git init character_name
cd character_name
git add .
git commit -m "Initial character import"

# Make changes to files...
git commit -am "Updated personality traits"

# Rebuild for distribution
card-forge build . -f png
```

### Collaborative Character Creation
```bash
# Split work among team members
card-forge repo base_character.png

# Person A works on personality.md
# Person B works on lorebook entries
# Person C works on greetings

# Merge changes and rebuild
card-forge build character/ -f png
```

### Character Analysis and Debugging
```bash
# Quick analysis
card-forge info problematic_card.png

# Deep validation
card-forge validate character.png
card-forge extract character.png
card-forge repo character.json
card-forge build character/
```

## ğŸ® Compatibility

- âœ… **SillyTavern**: Full compatibility
- âœ… **RisuAI**: Full compatibility  
- âœ… **Character Card V3**: Complete specification support
- âœ… **Legacy formats**: Backward compatible

## ğŸ“¦ API Usage

For programmatic use:

```python
from forge.helper import extract_card_data, repositorize, rebuild_card

# Extract character card from PNG
card = extract_card_data("character.png")

# Convert to repository structure  
repo_path = repositorize(card)

# Edit files in the repository...

# Rebuild the card
rebuilt_card = rebuild_card(repo_path)
```

## âš™ï¸ Configuration

The tool uses `config.yaml` for customization. The default configuration works great for most use cases, but you can customize field handling, file patterns, and repository structure as needed.

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch  
3. Make your changes
4. Add tests for new functionality
5. Submit a pull request

## ğŸ“„ License

MIT License - see LICENSE file for details.

---

**Card Forge** - Making character card management simple, organized, and version-control friendly! ğŸ­âœ¨
