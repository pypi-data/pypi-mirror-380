<nz-card>
    <form nz-form>
        <nz-table
            #basicTable
            #settingsTable
            [nzData]="items$ | async"
            [nzLoading]="loading$ | async"
            [nzShowSizeChanger]="true"
        >
            <thead>
                <tr>
                    <th>Setting</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of basicTable.data">
                    <td>{{ item.key }}</td>
                    <td>
                        <!-- Boolean Value -->
                        <ng-container *ngIf="item.type == 'boolean'">
                            <button
                                nz-button
                                [nzType]="
                                    item.boolean_value ? 'primary' : 'default'
                                "
                                (click)="
                                    item.boolean_value = !item.boolean_value
                                "
                            >
                                {{ item.boolean_value ? "True" : "False" }}
                            </button>
                        </ng-container>

                        <!-- Integer Value -->
                        <ng-container *ngIf="item.type == 'integer'">
                            <nz-input-number
                                [(ngModel)]="item.int_value"
                                [nzStep]="1"
                                [nzSize]="'small'"
                                [name]="item.key"
                            ></nz-input-number>
                        </ng-container>

                        <!-- String Value (Password) -->
                        <ng-container
                            *ngIf="
                                item.type == 'string' &&
                                item.key.endsWith('pass')
                            "
                        >
                            <input
                                nz-input
                                [(ngModel)]="item.char_value"
                                [name]="item.key"
                                type="password"
                                [nzSize]="'small'"
                            />
                        </ng-container>

                        <!-- String Value (Regular) -->
                        <ng-container
                            *ngIf="
                                item.type == 'string' &&
                                !item.key.endsWith('pass')
                            "
                        >
                            <input
                                nz-input
                                [(ngModel)]="item.char_value"
                                [name]="item.key"
                                [nzSize]="'small'"
                            />
                        </ng-container>
                    </td>
                </tr>
            </tbody>
        </nz-table>

        <div class="button-group">
            <button nz-button nzType="primary" (click)="saveClicked()">
                Save
            </button>
            <button nz-button nzType="default" (click)="resetClicked()">
                Reset
            </button>
        </div>
    </form>
</nz-card>
