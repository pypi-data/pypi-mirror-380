<ng-container *ngIf="delegate.data$ | async">
    <peek-admin-panel-header-for-tuple-loader-delegate
        [delegate]="delegate"
        [deleteEnabled]="false"
        [createMode]="createMode != null"
    ></peek-admin-panel-header-for-tuple-loader-delegate>
    <peek-admin-content-tuple-data-loader [delegate]="delegate">
        <ng-container *ngIf="delegate.formGroup$ | async as formGroup">
            <nz-card class="settings-card">
                <div class="form-container" [formGroup]="formGroup">
                    <!-- ID Field (Disabled) -->
                    <nz-form-item>
                        <nz-form-label nzFor="id">ID</nz-form-label>
                        <nz-form-control>
                            {{ formGroup.controls["id"].value }}
                        </nz-form-control>
                    </nz-form-item>

                    <!-- Import Hash -->
                    <nz-form-item>
                        <nz-form-label nzFor="importHash">
                            Import Hash (Key)
                        </nz-form-label>
                        <nz-form-control>
                            <ng-container
                                *ngIf="
                                    formGroup.controls['id'].value === null;
                                    else readOnlyImportHash
                                "
                            >
                                <input
                                    nz-input
                                    id="importHash"
                                    formControlName="importHash"
                                    placeholder="Enter import hash"
                                />
                            </ng-container>
                            <ng-template #readOnlyImportHash>
                                {{ formGroup.controls["importHash"].value }}
                            </ng-template>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="blockApiUpdate"
                            >Block API Update
                        </nz-form-label>
                        <nz-form-control>
                            <nz-switch
                                id="blockApiUpdate"
                                formControlName="blockApiUpdate"
                            ></nz-switch>
                        </nz-form-control>
                    </nz-form-item>

                    <!-- Basic Information -->
                    <nz-form-item>
                        <nz-form-label nzRequired nzFor="name"
                            >Name
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Please input a name">
                            <input
                                nz-input
                                id="name"
                                formControlName="name"
                                placeholder="Line Style name"
                                required
                            />
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="showForEdit"
                            >Show Option in Editor
                        </nz-form-label>
                        <nz-form-control>
                            <nz-switch
                                id="showForEdit"
                                formControlName="showForEdit"
                            ></nz-switch>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="backgroundFillDashSpace"
                            >Background Fill Dash Space
                        </nz-form-label>
                        <nz-form-control>
                            <nz-switch
                                id="backgroundFillDashSpace"
                                formControlName="backgroundFillDashSpace"
                            ></nz-switch>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="capStyle"
                            >Cap Style</nz-form-label
                        >
                        <nz-form-control>
                            <nz-select formControlName="capStyle">
                                <nz-option
                                    *ngFor="let option of capStyleOptions"
                                    [nzValue]="option.value"
                                    [nzLabel]="option.label"
                                ></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="joinStyle"
                            >Join Style</nz-form-label
                        >
                        <nz-form-control>
                            <nz-select formControlName="joinStyle">
                                <nz-option
                                    *ngFor="let option of joinStyleOptions"
                                    [nzValue]="option.value"
                                    [nzLabel]="option.label"
                                ></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="dashPattern">
                            Dash Pattern (JSON)
                        </nz-form-label>
                        <nz-form-control>
                            <input
                                nz-input
                                id="dashPattern"
                                formControlName="dashPattern"
                                placeholder="e.g. [5, 15, 5, 15]"
                            />
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="startArrowSize">
                            Start Arrow Size
                        </nz-form-label>
                        <nz-form-control>
                            <nz-input-number
                                id="startArrowSize"
                                formControlName="startArrowSize"
                                [nzMin]="0"
                            ></nz-input-number>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="endArrowSize">
                            End Arrow Size
                        </nz-form-label>
                        <nz-form-control>
                            <nz-input-number
                                id="endArrowSize"
                                formControlName="endArrowSize"
                                [nzMin]="0"
                            ></nz-input-number>
                        </nz-form-control>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-label nzFor="scalable">
                            Scalable
                        </nz-form-label>
                        <nz-form-control>
                            <nz-switch
                                id="scalable"
                                formControlName="scalable"
                            ></nz-switch>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </nz-card>
        </ng-container>
    </peek-admin-content-tuple-data-loader>
</ng-container>
