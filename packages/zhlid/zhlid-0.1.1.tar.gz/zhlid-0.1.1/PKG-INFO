Metadata-Version: 2.4
Name: zhlid
Version: 0.1.1
Summary: ZHLID: Fine-grained Chinese Language Identification Package
Author-email: Lung-Chuan Chen <blaze7451@gmail.com>
License: Apache-2.0
License-File: LICENSE
Requires-Python: >=3.9
Requires-Dist: accelerate>=1.10.0
Requires-Dist: pandas>=2.3.2
Requires-Dist: torch>=2.8.0
Requires-Dist: transformers>=4.55.4
Description-Content-Type: text/markdown

# ZHLID: Fine-grained Chinese Language Identification Package
<p align="center">
    <a href="https://huggingface.co/MusubiAI/ZHLID"><img alt="Model" src="https://img.shields.io/badge/ğŸ¤—%20Model%20Page-zhlid-yellow"></a>
    <a href="https://github.com/Musubi-ai/Musubi/blob/main/LICENSE"><img alt="GitHub" src="https://img.shields.io/badge/license-Apache_2.0-blue"></a>
    <a href="https://github.com/Musubi-ai"><img alt="Team" src="https://img.shields.io/badge/Built%20by-Musubi%20Team-blue"></a>

</p>

English | [ç®€ä½“ä¸­æ–‡](docs/README_zh-CN.md) | [ç¹é«”ä¸­æ–‡](docs/README_zh-TW.md)

ZHLID is an open-source, model-based language identification tool specialized in fine-grained Chinese varieties.

## Features
Unlike general-purpose LID tools, ZHLID focuses on distinguishing between closely related Chinese varieties, including:

**Traditional Chinese (ç¹é«”ä¸­æ–‡)** â€“ written in the traditional character set, used in formal and classical texts.  
**Simplified Chinese (ç°¡é«”ä¸­æ–‡)** â€“ written in the simplified character set, designed for easier reading and writing.  
**Cantonese (ç²µèª)** â€“ written form reflecting spoken Cantonese with unique vocabulary and grammar.  
**Classical Chinese (Traditional) (ç¹é«”æ–‡è¨€æ–‡)** â€“ literary Chinese in traditional characters with concise, classical syntax.  
**Classical Chinese (Simplified) (ç°¡é«”æ–‡è¨€æ–‡)** â€“ literary Chinese in simplified characters, used in modern reprints and education.

This makes ZHLID useful for linguistic research, corpus analysis, preprocessing for NLP tasks, or any application requiring accurate recognition of Chinese textual forms.

The following table compares ZHLID with other popular LID tools supporting Chinese detection:

| Identification | General Chinese | Traditional Chinese | Simplified Chinese | Classical Chinese | Cantonese |
|------|:----:|:----:|:----:|:----:|:----:|
| ZHLID (ours) | âœ… | âœ… | âœ… | âœ… | âœ… |
| [langdetect](https://github.com/Mimino666/langdetect) | âœ… | âœ… | âœ… | âŒ | âŒ |
| [GlotLID](https://github.com/cisnlp/GlotLID/tree/main) | âœ… | âŒ |âŒ |âŒ | âœ… |
| [langid.py](https://github.com/saffsd/langid.py) | âœ… | âŒ | âŒ | âŒ | âŒ |
| [CLD3](https://github.com/google/cld3?tab=readme-ov-file#supported-languages) | âœ… | âŒ | âŒ | âŒ | âŒ |
| [Lingua](https://github.com/pemistahl/lingua-py) | âœ… | âŒ | âŒ | âŒ | âŒ |

## Installation
### Install via pip
```bash
pip install zhlid
```

### Install from source
```bash
pip install git+https://github.com/Musubi-ai/ZHLID
```

## Usage
```python
from zhlid import load_model


model = load_model("MusubiAI/ZHLID", device_map="auto")

text = [
    "ç‹å¤«ä¹‹è€…ï¼Œå­—è€Œè¾²ï¼Œè¡¡é™½äººï¼Œæ˜æœ«æ¸…åˆå“²å­¸å®¶ã€‚å¼µç»å¿ é™·è¡¡å·ï¼Œå¤«ä¹‹åŒ¿å—å¶½ï¼Œè³ŠåŸ·å…¶çˆ¶ä»¥ç‚ºè³ªã€‚å¤«ä¹‹è‡ªå¼•åˆ€éåˆºè‚¢é«”ï¼Œèˆå¾€æ˜“çˆ¶ã€‚",
    "é‡‘å±±é˜¿ä¼¯ä¿‚æ¸…æœ«æ°‘åˆæ™‚å˜…ä¸€ç¨®ç¾è±¡ã€‚é‡‘å±±é˜¿ä¼¯ä¿‚æŒ‡å—°å•²ç”Ÿæ´»å–ºå»£æ±åœ°æ–¹ï¼Œå› ç‚ºæµå””å¤ éŒ¢ç•€å®¶äººç”Ÿæ´»ï¼Œè¦å‡ºæ´‹åˆ°èˆŠé‡‘å±±æˆ–æ–°é‡‘å±±åšè‹¦å·¥ï¼Œæ˜é‡‘ç¤¦ã€‚",
    "ç‡§äººæ°ï¼Œå¤ä¹‹ä¸‰çš‡ï¼Œæœ‰å·¢æ°ä¹‹å­ã€‚ é£å§“ï¼Œè®³å…å©¼ï¼Œåå¤æ—ã€‚ç‡§äººé’»ç«ï¼Œæ•™äººç†Ÿé£Ÿï¼Œç«‹å›½æ›°ç‡§æ˜ï¼Œä¸ºåä¸–å¥‰ä¸ºã€Œç«ç¥–ã€ï¼Œå·ç‡§çš‡ã€‚ç«‹ä¸€ç™¾ä¸€åå¹´ï¼Œå´©ï¼Œå­ä¼ç¾²å—£ã€‚\n\n**å¼•æ®**\nã€Šé£ä¿—é€šä¹‰Â·çš‡éœ¸ç¯‡ã€‹\n*",
    "åœ¨é‡å­åŠ›å­¦ä¸­ï¼Œé‡å­æ¶¨è½ï¼ˆquantum fluctuationã€‚æˆ–é‡å­çœŸç©ºæ¶¨è½ï¼ŒçœŸç©ºæ¶¨è½ï¼‰æ˜¯åœ¨ç©ºé—´ä»»æ„ä½ç½®å¯¹äºèƒ½é‡çš„æš‚æ—¶å˜åŒ–ã€‚ \nä»ç»´å°”çº³Â·æµ·æ£®å ¡çš„ä¸ç¡®å®šæ€§åŸç†å¯ä»¥æ¨å¯¼å‡ºè¿™ç»“è®ºã€‚",
    "åœ¨æ”¿æ²»ä¸­ï¼Œæ”¿æ²»è­°ç¨‹æ˜¯æ”¿åºœå®˜å“¡ä»¥åŠæ”¿åºœä»¥å¤–çš„å€‹äººåœ¨ä»»ä½•çµ¦å®šæ™‚é–“éƒ½èªçœŸé—œæ³¨çš„ä¸»é¡Œæˆ–å•é¡Œ/è­°é¡Œçš„åˆ—è¡¨ã€‚"
]

res = model.predict(text, batch_size=5)
print(res)
# [
#     {'label': 'zhtw_classical', 'confidence_score': 0.9999634027}, 
#     {'label': 'yue', 'confidence_score': 0.9376096725}, 
#     {'label': 'zhcn_classical', 'confidence_score': 0.9999793768}, 
#     {'label': 'zhcn', 'confidence_score': 0.9944804907}, 
#     {'label': 'zhtw', 'confidence_score': 0.9998573065}
# ]
```
## Evaluation
To evaluate ZHLID with our benchmark dataset, simply run:
```bash
python evaluate.py
```

We compare our top-1 accuracy result with [GlotLID](https://github.com/cisnlp/GlotLID/tree/main) and [langdetect](https://github.com/Mimino666/langdetect). Note that since GlotLID only provides a general "cmn_Hani" label for Chinese, its performance on Traditional and Simplified Chinese is measured by whether it outputs this label for both categories.

| Top-1 accuracy | Traditional Chinese | Simplified Chinese | Classical Chinese (Traditional) | Classical Chinese (Simplified) | Cantonese |
|------|:----:|:----:|:----:|:----:|:----:|
| ZHLID (ours) | 1.0 | 1.0 | 0.9 | 1.0 | 0.96 |
| [GlotLID](https://github.com/cisnlp/GlotLID/tree/main) | 0.98 | 0.98 | - | - | 0.9 |
| [langdetect](https://github.com/Mimino666/langdetect) | 0.3 | 0.9 | - | - | - |

## Citation
If you use ZHLID in your research, please cite this repository:
```bibtex
@misc{zhlid2025 ,
  title  = {ZHLID: Fine-grained Chinese Language Identification Package},
  author = {Lung-Chuan Chen},
  year   = {2025},
  howpublished = {\url{https://github.com/Musubi-ai/ZHLID}}
}
```