Metadata-Version: 2.4
Name: fastmcp-email-server
Version: 0.1.0
Summary: FastMCP é‚®ä»¶æ”¶å‘ MCP æœåŠ¡å™¨
Author: Cocktail_py
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: beautifulsoup4
Requires-Dist: build>=1.3.0
Requires-Dist: mcp[cli]>=1.15.0
Requires-Dist: twine>=6.2.0

# FastMCP é‚®ä»¶æœåŠ¡å™¨

åŸºäº FastMCP æ¡†æ¶æ„å»ºçš„é‚®ä»¶æ”¶å‘ MCP æœåŠ¡å™¨ï¼Œæ”¯æŒå¤šç§é‚®ç®±æœåŠ¡å•†çš„é‚®ä»¶æ”¶å‘å’Œé™„ä»¶å¤„ç†åŠŸèƒ½ã€‚

## ğŸš€ FastMCP æ¡†æ¶ç‰¹æ€§

FastMCP æä¾›äº†ç®€æ´çš„ Python é£æ ¼æ¥å£ï¼Œåªéœ€ä½¿ç”¨è£…é¥°å™¨å³å¯å°†å‡½æ•°å°è£…ä¸º MCP å·¥å…·ï¼š

```python
from fastmcp import FastMCP

mcp = FastMCP("EmailService")

@mcp.tool()
def send_text_email(to_addr: str, subject: str, content: str, account: str, password: str) -> dict:
    """å‘é€çº¯æ–‡æœ¬é‚®ä»¶"""
    # å®ç°é‚®ä»¶å‘é€é€»è¾‘
    return {"status": "success", "message": "é‚®ä»¶å‘é€æˆåŠŸ"}

if __name__ == "__main__":
    mcp.run(transport="stdio")
```

## ğŸ“§ æä¾›çš„é‚®ä»¶å·¥å…·

### é‚®ä»¶æ¥æ”¶
- `get_newest_email`: è·å–æœ€æ–°çš„æœªè¯»é‚®ä»¶
- `check_emails`: æ£€æŸ¥æŒ‡å®šç±»å‹å’Œæ•°é‡çš„é‚®ä»¶  
- `save_attachment`: ä¿å­˜é‚®ä»¶é™„ä»¶åˆ°æŒ‡å®šè·¯å¾„

### é‚®ä»¶å‘é€
- `send_text_email`: å‘é€çº¯æ–‡æœ¬é‚®ä»¶
- `send_html_email`: å‘é€HTMLæ ¼å¼é‚®ä»¶
- `send_email_with_attachment`: å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶

### æœåŠ¡å™¨é…ç½®
- `get_server_config`: è‡ªåŠ¨è·å–é‚®ç®±æœåŠ¡å™¨é…ç½®

## ğŸ“¦ å®‰è£…ä¸è¿è¡Œï¼ˆä½¿ç”¨ uvï¼‰

### å®‰è£…ä¾èµ–

```bash
uv sync
```

### ä»¥æ¨¡å—æ–¹å¼è¿è¡Œï¼ˆæ¨èï¼‰

```bash
uv run -m fastmcp_email_server
```

æˆ–ä½¿ç”¨å®‰è£…çš„è„šæœ¬å…¥å£ï¼š

```bash
uv run fastmcp-email-server
```

### ç›´æ¥è¿è¡Œæºç ï¼ˆå¯é€‰ï¼‰

```bash
uv run python src/fastmcp_email_server/server.py
```

## ğŸ”§ è°ƒè¯•æ¨¡å¼

ä½¿ç”¨ MCP Inspector è¿›è¡Œè°ƒè¯•ï¼š

```bash
uv run mcp dev src/fastmcp_email_server/server.py
```

è®¿é—® http://localhost:5173 è¿›è¡Œäº¤äº’æµ‹è¯•ã€‚

## ğŸ“‹ æ”¯æŒçš„é‚®ç®±æœåŠ¡å•†

- 163é‚®ç®±ï¼ˆ163.comï¼‰
- 126é‚®ç®±ï¼ˆ126.comï¼‰  
- QQé‚®ç®±ï¼ˆqq.comï¼‰
- Gmailï¼ˆgmail.comï¼‰
- Outlook/Hotmailï¼ˆoutlook.com, hotmail.comï¼‰
- é˜¿é‡Œäº‘é‚®ç®±ï¼ˆaliyun.comï¼‰
- æ–°æµªé‚®ç®±ï¼ˆsina.comï¼‰

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### é…ç½® MCP å®¢æˆ·ç«¯

åœ¨æ”¯æŒ MCP çš„å®¢æˆ·ç«¯ï¼ˆClaude Desktopã€Cherry Studioã€Cursor ç­‰ï¼‰ä¸­é…ç½®ï¼š

```json
{
  "mcpServers": {
    "email": {
  "command": "uv",
  "args": [
    "run",
    "-m",
    "fastmcp_email_server"
  ],
      "env": {}
    }
  }
}
```

### å·¥å…·è°ƒç”¨ç¤ºä¾‹

```json
{
  "name": "send_text_email",
  "arguments": {
    "to_addr": "recipient@example.com",
    "subject": "æµ‹è¯•é‚®ä»¶",
    "content": "è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶",
    "account": "your-email@163.com", 
    "password": "your-auth-code"
  }
}
```

## ğŸ” é‚®ç®±æˆæƒç è¯´æ˜

å¤§å¤šæ•°é‚®ç®±æœåŠ¡å•†éœ€è¦ä½¿ç”¨æˆæƒç è€Œä¸æ˜¯ç™»å½•å¯†ç ï¼š

- **163/126é‚®ç®±**: é‚®ç®±è®¾ç½® â†’ å®¢æˆ·ç«¯æˆæƒå¯†ç  â†’ å¼€å¯å¹¶è·å–æˆæƒç 
- **QQé‚®ç®±**: è®¾ç½® â†’ è´¦æˆ· â†’ å¼€å¯POP3/IMAPæœåŠ¡å¹¶è·å–æˆæƒç 
- **Gmail**: å¼€å¯ä¸¤æ­¥éªŒè¯å¹¶ç”Ÿæˆåº”ç”¨ä¸“ç”¨å¯†ç 

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â””â”€â”€ fastmcp_email_server/
    â”œâ”€â”€ __init__.py          # åŒ…å…¥å£ï¼Œæä¾›å‘½ä»¤è¡Œä¸»å‡½æ•°
    â”œâ”€â”€ __main__.py          # æ”¯æŒ python -m å½¢å¼è¿è¡Œ
    â”œâ”€â”€ server.py            # FastMCP æœåŠ¡å™¨ä¸»æ–‡ä»¶
    â”œâ”€â”€ email_config.py      # é‚®ç®±æœåŠ¡å™¨é…ç½®
    â”œâ”€â”€ send_163.py          # é‚®ä»¶å‘é€åŠŸèƒ½
    â””â”€â”€ receive_163.py       # é‚®ä»¶æ¥æ”¶åŠŸèƒ½
```
