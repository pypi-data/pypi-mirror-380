# Payvo SDK

Python SDK –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å [Payvo API](https://docs.payvo.ru/).
–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≤ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ.

---

## ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### üîπ –ß–µ—Ä–µ–∑ PyPI

```bash
pip install payvo-sdk
```

---

## üõ† –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK

```python
from payvo_sdk import Payvo

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
payvo = Payvo(
    merchant_id="–≤–∞—à_merchant_id",
    merchant_secret_key="–≤–∞—à_secret_key",
)
```

---

## üí≥ –†–∞–±–æ—Ç–∞ —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞

```python
payment = payvo.create_payment(
    amount=200.0,
    description="–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂"
)
print(payment)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–ª–∞—Ç–µ–∂–µ

```python
info = payvo.get_payment(payment_uuid=payment["payment"]["uuid"])
print(info)
```

---

## üîÅ –†–∞–±–æ—Ç–∞ —Å –≤–æ–∑–≤—Ä–∞—Ç–∞–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞

```python
refund = payvo.create_refund(
    payment_uuid=payment["payment"]["uuid"],
    amount=50.0,
    description="–ß–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç"
)
print(refund)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–∑–≤—Ä–∞—Ç–µ

```python
refund_info = payvo.get_refund(refund_uuid=refund["uuid"])
print(refund_info)
```

---

## üîÑ –ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏

```python
autopayment = payvo.create_autopayment(
    customer_id="id_–∫–ª–∏–µ–Ω—Ç–∞",
    amount=150.0,
    description="–ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂"
)
print(autopayment)
```

> ‚ö†Ô∏è –î–ª—è –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Å Payvo –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞.

---

## üîî –†–∞–±–æ—Ç–∞ —Å –≤–µ–±—Ö—É–∫–∞–º–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤–µ–±—Ö—É–∫–∞

```python
webhook_data = {"secret_key": "—Ç–µ—Å—Ç–æ–≤—ã–π_–∫–ª—é—á"}
is_valid = Payvo.verify_webhook(webhook_data, secret_key="—Ç–µ—Å—Ç–æ–≤—ã–π_–∫–ª—é—á")
print(is_valid)  # True –∏–ª–∏ False
```

> üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `verify_webhook` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—à–ª–æ –∏–º–µ–Ω–Ω–æ –æ—Ç Payvo.

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

* [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Payvo API](https://docs.payvo.ru/)
* [PyPI](https://pypi.org/)

---

## üìù –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

```python
from payvo_sdk import Payvo

payvo = Payvo(
    merchant_id="–≤–∞—à_merchant_id",
    merchant_secret_key="–≤–∞—à_secret_key"
)

# –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã Payvo.–ß–µ–∫–∏)
items = [
    {"description": "–¢–æ–≤–∞—Ä 1", "amount": 42.80, "vat_code": 1, "quantity": 1},
    {"description": "–¢–æ–≤–∞—Ä 2", "amount": 15.50, "vat_code": 2, "quantity": 2}
]

# –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂
payment = payvo.create_payment(
    amount=58.30,  # –æ–±—â–∞—è —Å—É–º–º–∞, –¥–ª—è –ø–æ–ª—è amount
    description="–ó–∞–∫–∞–∑ ‚Ññ1",
    return_url="https://www.example.com/return_url",
    email="user@example.com",
    items=items
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
info = payvo.get_payment(payment["payment"]["uuid"])

# –ß–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç
refund = payvo.create_refund(payment["uuid"], 50.0, "–ß–∞—Å—Ç–∏—á–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±—Ö—É–∫–∞
webhook_data = {"secret_key": "—Ç–µ—Å—Ç–æ–≤—ã–π_–∫–ª—é—á"}
print(Payvo.verify_webhook(webhook_data, secret_key="—Ç–µ—Å—Ç–æ–≤—ã–π_–∫–ª—é—á"))
```
