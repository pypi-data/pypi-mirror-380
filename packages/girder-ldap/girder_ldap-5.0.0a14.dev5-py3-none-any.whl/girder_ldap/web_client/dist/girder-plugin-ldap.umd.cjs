(function(z){typeof define=="function"&&define.amd?define(z):z()})(function(){"use strict";function z(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var g0={exports:{}};/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */(function(n){(function(a){n.exports=a()})(function(){if(typeof window>"u"||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var a,c,i,r,p,j,y,g,d,B,A,K,n0,T,M,W,Z,I={},Y,k,e0,_0=/\s+/g,ie=/left|right|inline/,q="Sortable"+new Date().getTime(),P=window,C=P.document,b0=P.parseInt,w0=P.jQuery||P.Zepto,s0=P.Polymer,F0=!1,re="draggable"in C.createElement("div"),C0=function(u){return navigator.userAgent.match(/Trident.*rv[ :]?11\./)?!1:(u=C.createElement("x"),u.style.cssText="pointer-events:auto",u.style.pointerEvents==="auto")}(),c0=!1,H=Math.abs,te=Math.min,p0=[],Q=[],le=D0(function(u,t,l){if(l&&t.scroll){var s=l[q],F,h,f=t.scrollSensitivity,o=t.scrollSpeed,m=u.clientX,S=u.clientY,$=window.innerWidth,L=window.innerHeight,O,V,X,U;if(d!==l&&(g=t.scroll,d=l,B=t.scrollFn,g===!0)){g=l;do if(g.offsetWidth<g.scrollWidth||g.offsetHeight<g.scrollHeight)break;while(g=g.parentNode)}g&&(F=g,h=g.getBoundingClientRect(),O=(H(h.right-m)<=f)-(H(h.left-m)<=f),V=(H(h.bottom-S)<=f)-(H(h.top-S)<=f)),O||V||(O=($-m<=f)-(m<=f),V=(L-S<=f)-(S<=f),(O||V)&&(F=P)),(I.vx!==O||I.vy!==V||I.el!==F)&&(I.el=F,I.vx=O,I.vy=V,clearInterval(I.pid),F&&(I.pid=setInterval(function(){if(U=V?V*o:0,X=O?O*o:0,typeof B=="function")return B.call(s,X,U,u);F===P?P.scrollTo(P.pageXOffset+X,P.pageYOffset+U):(F.scrollTop+=U,F.scrollLeft+=X)},24)))}},30),E0=function(u){function t(F,h){return(F===void 0||F===!0)&&(F=l.name),typeof F=="function"?F:function(f,o){var m=o.options.group.name;return h?F:F&&(F.join?F.indexOf(m)>-1:m==F)}}var l={},s=u.group;(!s||typeof s!="object")&&(s={name:s}),l.name=s.name,l.checkPull=t(s.pull,!0),l.checkPut=t(s.put),l.revertClone=s.revertClone,u.group=l};function D(u,t){if(!(u&&u.nodeType&&u.nodeType===1))throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(u);this.el=u,this.options=t=x0({},t),u[q]=this;var l={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(u.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(h,f){h.setData("Text",f.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var s in l)!(s in t)&&(t[s]=l[s]);E0(t);for(var F in this)F.charAt(0)==="_"&&typeof this[F]=="function"&&(this[F]=this[F].bind(this));this.nativeDraggable=t.forceFallback?!1:re,v(u,"mousedown",this._onTapStart),v(u,"touchstart",this._onTapStart),v(u,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(u,"dragover",this),v(u,"dragenter",this)),Q.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}D.prototype={constructor:D,_onTapStart:function(u){var t=this,l=this.el,s=this.options,F=s.preventOnFilter,h=u.type,f=u.touches&&u.touches[0],o=(f||u).target,m=u.target.shadowRoot&&u.path[0]||o,S=s.filter,$;if(pe(l),!a&&!(h==="mousedown"&&u.button!==0||s.disabled)&&(o=R(o,s.draggable,l),!!o&&y!==o)){if($=u0(o,s.draggable),typeof S=="function"){if(S.call(this,u,o,this)){x(t,m,"filter",o,l,$),F&&u.preventDefault();return}}else if(S&&(S=S.split(",").some(function(L){if(L=R(m,L.trim(),l),L)return x(t,L,"filter",o,l,$),!0}),S)){F&&u.preventDefault();return}s.handle&&!R(m,s.handle,l)||this._prepareDragStart(u,f,o,$)}},_prepareDragStart:function(u,t,l,s){var F=this,h=F.el,f=F.options,o=h.ownerDocument,m;l&&!a&&l.parentNode===h&&(Y=u,p=h,a=l,c=a.parentNode,j=a.nextSibling,y=l,W=f.group,T=s,this._lastX=(t||u).clientX,this._lastY=(t||u).clientY,a.style["will-change"]="transform",m=function(){F._disableDelayedDrag(),a.draggable=F.nativeDraggable,N(a,f.chosenClass,!0),F._triggerDragStart(u,t),x(F,p,"choose",a,p,T)},f.ignore.split(",").forEach(function(S){S0(a,S.trim(),y0)}),v(o,"mouseup",F._onDrop),v(o,"touchend",F._onDrop),v(o,"touchcancel",F._onDrop),v(o,"pointercancel",F._onDrop),v(o,"selectstart",F),f.delay?(v(o,"mouseup",F._disableDelayedDrag),v(o,"touchend",F._disableDelayedDrag),v(o,"touchcancel",F._disableDelayedDrag),v(o,"mousemove",F._disableDelayedDrag),v(o,"touchmove",F._disableDelayedDrag),v(o,"pointermove",F._disableDelayedDrag),F._dragStartTimer=setTimeout(m,f.delay)):m())},_disableDelayedDrag:function(){var u=this.el.ownerDocument;clearTimeout(this._dragStartTimer),E(u,"mouseup",this._disableDelayedDrag),E(u,"touchend",this._disableDelayedDrag),E(u,"touchcancel",this._disableDelayedDrag),E(u,"mousemove",this._disableDelayedDrag),E(u,"touchmove",this._disableDelayedDrag),E(u,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(u,t){t=t||(u.pointerType=="touch"?u:null),t?(Y={target:a,clientX:t.clientX,clientY:t.clientY},this._onDragStart(Y,"touch")):this.nativeDraggable?(v(a,"dragend",this),v(p,"dragstart",this._onDragStart)):this._onDragStart(Y,!0);try{C.selection?setTimeout(function(){C.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(){if(p&&a){var u=this.options;N(a,u.ghostClass,!0),N(a,u.dragClass,!1),D.active=this,x(this,p,"start",a,p,T)}else this._nulling()},_emulateDragOver:function(){if(k){if(this._lastX===k.clientX&&this._lastY===k.clientY)return;this._lastX=k.clientX,this._lastY=k.clientY,C0||_(i,"display","none");var u=C.elementFromPoint(k.clientX,k.clientY),t=u,l=Q.length;if(t)do{if(t[q]){for(;l--;)Q[l]({clientX:k.clientX,clientY:k.clientY,target:u,rootEl:t});break}u=t}while(t=t.parentNode);C0||_(i,"display","")}},_onTouchMove:function(u){if(Y){var t=this.options,l=t.fallbackTolerance,s=t.fallbackOffset,F=u.touches?u.touches[0]:u,h=F.clientX-Y.clientX+s.x,f=F.clientY-Y.clientY+s.y,o=u.touches?"translate3d("+h+"px,"+f+"px,0)":"translate("+h+"px,"+f+"px)";if(!D.active){if(l&&te(H(F.clientX-this._lastX),H(F.clientY-this._lastY))<l)return;this._dragStarted()}this._appendGhost(),e0=!0,k=F,_(i,"webkitTransform",o),_(i,"mozTransform",o),_(i,"msTransform",o),_(i,"transform",o),u.preventDefault()}},_appendGhost:function(){if(!i){var u=a.getBoundingClientRect(),t=_(a),l=this.options,s;i=a.cloneNode(!0),N(i,l.ghostClass,!1),N(i,l.fallbackClass,!0),N(i,l.dragClass,!0),_(i,"top",u.top-b0(t.marginTop,10)),_(i,"left",u.left-b0(t.marginLeft,10)),_(i,"width",u.width),_(i,"height",u.height),_(i,"opacity","0.8"),_(i,"position","fixed"),_(i,"zIndex","100000"),_(i,"pointerEvents","none"),l.fallbackOnBody&&C.body.appendChild(i)||p.appendChild(i),s=i.getBoundingClientRect(),_(i,"width",u.width*2-s.width),_(i,"height",u.height*2-s.height)}},_onDragStart:function(u,t){var l=u.dataTransfer,s=this.options;this._offUpEvents(),W.checkPull(this,this,a,u)&&(r=$0(a),r.draggable=!1,r.style["will-change"]="",_(r,"display","none"),N(r,this.options.chosenClass,!1),p.insertBefore(r,a),x(this,p,"clone",a)),N(a,s.dragClass,!0),t?(t==="touch"?(v(C,"touchmove",this._onTouchMove),v(C,"touchend",this._onDrop),v(C,"touchcancel",this._onDrop),v(C,"pointermove",this._onTouchMove),v(C,"pointerup",this._onDrop)):(v(C,"mousemove",this._onTouchMove),v(C,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(l&&(l.effectAllowed="move",s.setData&&s.setData.call(this,l,a)),v(C,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(u){var t=this.el,l,s,F,h,f=this.options,o=f.group,m=D.active,S=W===o,$=!1,L=f.sort;if(u.preventDefault!==void 0&&(u.preventDefault(),!f.dragoverBubble&&u.stopPropagation()),!a.animated&&(e0=!0,m&&!f.disabled&&(S?L||(h=!p.contains(a)):Z===this||(m.lastPullMode=W.checkPull(this,m,a,u))&&o.checkPut(this,m,a,u))&&(u.rootEl===void 0||u.rootEl===this.el))){if(le(u,f,this.el),c0)return;if(l=R(u.target,f.draggable,t),s=a.getBoundingClientRect(),Z!==this&&(Z=this,$=!0),h){o0(m,!0),c=p,r||j?p.insertBefore(a,r||j):L||p.appendChild(a);return}if(t.children.length===0||t.children[0]===i||t===u.target&&(l=Fe(t,u))){if(l){if(l.animated)return;F=l.getBoundingClientRect()}o0(m,S),j0(p,t,a,s,l,F,u)!==!1&&(a.contains(t)||(t.appendChild(a),c=t),this._animate(s,a),l&&this._animate(F,l))}else if(l&&!l.animated&&l!==a&&l.parentNode[q]!==void 0){A!==l&&(A=l,K=_(l),n0=_(l.parentNode)),F=l.getBoundingClientRect();var O=F.right-F.left,V=F.bottom-F.top,X=ie.test(K.cssFloat+K.display)||n0.display=="flex"&&n0["flex-direction"].indexOf("row")===0,U=l.offsetWidth>a.offsetWidth,T0=l.offsetHeight>a.offsetHeight,k0=(X?(u.clientX-F.left)/O:(u.clientY-F.top)/V)>.5,d0=l.nextElementSibling,i0=j0(p,t,a,s,l,F,u),G=!1;if(i0!==!1){if(c0=!0,setTimeout(se,30),o0(m,S),i0===1||i0===-1)G=i0===1;else if(X){var N0=a.offsetTop,V0=l.offsetTop;N0===V0?G=l.previousElementSibling===a&&!U||k0&&U:l.previousElementSibling===a||a.previousElementSibling===l?G=(u.clientY-F.top)/V>.5:G=V0>N0}else $||(G=d0!==a&&!T0||k0&&T0);a.contains(t)||(G&&!d0?t.appendChild(a):l.parentNode.insertBefore(a,G?d0:l)),c=a.parentNode,this._animate(s,a),this._animate(F,l)}}}},_animate:function(u,t){var l=this.options.animation;if(l){var s=t.getBoundingClientRect();u.nodeType===1&&(u=u.getBoundingClientRect()),_(t,"transition","none"),_(t,"transform","translate3d("+(u.left-s.left)+"px,"+(u.top-s.top)+"px,0)"),t.offsetWidth,_(t,"transition","all "+l+"ms"),_(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){_(t,"transition",""),_(t,"transform",""),t.animated=!1},l)}},_offUpEvents:function(){var u=this.el.ownerDocument;E(C,"touchmove",this._onTouchMove),E(C,"pointermove",this._onTouchMove),E(u,"mouseup",this._onDrop),E(u,"touchend",this._onDrop),E(u,"pointerup",this._onDrop),E(u,"touchcancel",this._onDrop),E(u,"selectstart",this)},_onDrop:function(u){var t=this.el,l=this.options;clearInterval(this._loopId),clearInterval(I.pid),clearTimeout(this._dragStartTimer),E(C,"mousemove",this._onTouchMove),this.nativeDraggable&&(E(C,"drop",this),E(t,"dragstart",this._onDragStart)),this._offUpEvents(),u&&(e0&&(u.preventDefault(),!l.dropBubble&&u.stopPropagation()),i&&i.parentNode.removeChild(i),(p===c||D.active.lastPullMode!=="clone")&&r&&r.parentNode.removeChild(r),a&&(this.nativeDraggable&&E(a,"dragend",this),y0(a),a.style["will-change"]="",N(a,this.options.ghostClass,!1),N(a,this.options.chosenClass,!1),p!==c?(M=u0(a,l.draggable),M>=0&&(x(null,c,"add",a,p,T,M),x(this,p,"remove",a,p,T,M),x(null,c,"sort",a,p,T,M),x(this,p,"sort",a,p,T,M))):a.nextSibling!==j&&(M=u0(a,l.draggable),M>=0&&(x(this,p,"update",a,p,T,M),x(this,p,"sort",a,p,T,M))),D.active&&((M==null||M===-1)&&(M=T),x(this,p,"end",a,p,T,M),this.save()))),this._nulling()},_nulling:function(){p=a=c=i=j=r=y=g=d=Y=k=e0=M=A=K=Z=W=D.active=null,p0.forEach(function(u){u.checked=!0}),p0.length=0},handleEvent:function(u){switch(u.type){case"drop":case"dragend":this._onDrop(u);break;case"dragover":case"dragenter":a&&(this._onDragOver(u),ne(u));break;case"selectstart":u.preventDefault();break}},toArray:function(){for(var u=[],t,l=this.el.children,s=0,F=l.length,h=this.options;s<F;s++)t=l[s],R(t,h.draggable,this.el)&&u.push(t.getAttribute(h.dataIdAttr)||ce(t));return u},sort:function(u){var t={},l=this.el;this.toArray().forEach(function(s,F){var h=l.children[F];R(h,this.options.draggable,l)&&(t[s]=h)},this),u.forEach(function(s){t[s]&&(l.removeChild(t[s]),l.appendChild(t[s]))})},save:function(){var u=this.options.store;u&&u.set(this)},closest:function(u,t){return R(u,t||this.options.draggable,this.el)},option:function(u,t){var l=this.options;if(t===void 0)return l[u];l[u]=t,u==="group"&&E0(l)},destroy:function(){var u=this.el;u[q]=null,E(u,"mousedown",this._onTapStart),E(u,"touchstart",this._onTapStart),E(u,"pointerdown",this._onTapStart),this.nativeDraggable&&(E(u,"dragover",this),E(u,"dragenter",this)),Array.prototype.forEach.call(u.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),Q.splice(Q.indexOf(this._onDragOver),1),this._onDrop(),this.el=u=null}};function o0(u,t){u.lastPullMode!=="clone"&&(t=!0),r&&r.state!==t&&(_(r,"display",t?"none":""),t||r.state&&(u.options.group.revertClone?(p.insertBefore(r,j),u._animate(a,r)):p.insertBefore(r,a)),r.state=t)}function R(u,t,l){if(u){l=l||C;do if(t===">*"&&u.parentNode===l||M0(u,t))return u;while(u=ae(u))}return null}function ae(u){var t=u.host;return t&&t.nodeType?t:u.parentNode}function ne(u){u.dataTransfer&&(u.dataTransfer.dropEffect="move"),u.preventDefault()}function v(u,t,l){u.addEventListener(t,l,F0)}function E(u,t,l){u.removeEventListener(t,l,F0)}function N(u,t,l){if(u)if(u.classList)u.classList[l?"add":"remove"](t);else{var s=(" "+u.className+" ").replace(_0," ").replace(" "+t+" "," ");u.className=(s+(l?" "+t:"")).replace(_0," ")}}function _(u,t,l){var s=u&&u.style;if(s){if(l===void 0)return C.defaultView&&C.defaultView.getComputedStyle?l=C.defaultView.getComputedStyle(u,""):u.currentStyle&&(l=u.currentStyle),t===void 0?l:l[t];t in s||(t="-webkit-"+t),s[t]=l+(typeof l=="string"?"":"px")}}function S0(u,t,l){if(u){var s=u.getElementsByTagName(t),F=0,h=s.length;if(l)for(;F<h;F++)l(s[F],F);return s}return[]}function x(u,t,l,s,F,h,f){u=u||t[q];var o=C.createEvent("Event"),m=u.options,S="on"+l.charAt(0).toUpperCase()+l.substr(1);o.initEvent(l,!0,!0),o.to=t,o.from=F||t,o.item=s||t,o.clone=r,o.oldIndex=h,o.newIndex=f,t.dispatchEvent(o),m[S]&&m[S].call(u,o)}function j0(u,t,l,s,F,h,f){var o,m=u[q],S=m.options.onMove,$;return o=C.createEvent("Event"),o.initEvent("move",!0,!0),o.to=t,o.from=u,o.dragged=l,o.draggedRect=s,o.related=F||t,o.relatedRect=h||t.getBoundingClientRect(),u.dispatchEvent(o),S&&($=S.call(m,o,f)),$}function y0(u){u.draggable=!1}function se(){c0=!1}function Fe(u,t){var l=u.lastElementChild,s=l.getBoundingClientRect();return(t.clientY-(s.top+s.height)>5||t.clientX-(s.right+s.width)>5)&&l}function ce(u){for(var t=u.tagName+u.className+u.src+u.href+u.textContent,l=t.length,s=0;l--;)s+=t.charCodeAt(l);return s.toString(36)}function u0(u,t){var l=0;if(!u||!u.parentNode)return-1;for(;u&&(u=u.previousElementSibling);)u.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||M0(u,t))&&l++;return l}function M0(u,t){if(u){t=t.split(".");var l=t.shift().toUpperCase(),s=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return(l===""||u.nodeName.toUpperCase()==l)&&(!t.length||((" "+u.className+" ").match(s)||[]).length==t.length)}return!1}function D0(u,t){var l,s;return function(){l===void 0&&(l=arguments,s=this,setTimeout(function(){l.length===1?u.call(s,l[0]):u.apply(s,l),l=void 0},t))}}function x0(u,t){if(u&&t)for(var l in t)t.hasOwnProperty(l)&&(u[l]=t[l]);return u}function $0(u){return w0?w0(u).clone(!0)[0]:s0&&s0.dom?s0.dom(u).cloneNode(!0):u.cloneNode(!0)}function pe(u){for(var t=u.getElementsByTagName("input"),l=t.length;l--;){var s=t[l];s.checked&&p0.push(s)}}v(C,"touchmove",function(u){D.active&&u.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){F0={capture:!1,passive:!1}}}))}catch{}return D.utils={on:v,off:E,css:_,find:S0,is:function(u,t){return!!R(u,t,u)},extend:x0,throttle:D0,closest:R,toggleClass:N,clone:$0,index:u0},D.create=function(u,t){return new D(u,t)},D.version="1.5.1",D})})(g0);var P0=g0.exports;const O0=z(P0);function b(n,e,a,c){if(e===!1||e==null||!e&&(n==="class"||n==="style"))return"";if(e===!0)return" "+(c?n:n+'="'+n+'"');var i=typeof e;return i!=="object"&&i!=="function"||typeof e.toJSON!="function"||(e=e.toJSON()),typeof e=="string"||(e=JSON.stringify(e),a||e.indexOf('"')===-1)?(a&&(e=r0(e))," "+n+'="'+e+'"'):" "+n+"='"+e.replace(/'/g,"&#39;")+"'"}function f0(n,e){return Array.isArray(n)?B0(n,e):n&&typeof n=="object"?A0(n):n||""}function B0(n,e){for(var a,c="",i="",r=Array.isArray(e),p=0;p<n.length;p++)(a=f0(n[p]))&&(r&&e[p]&&(a=r0(a)),c=c+i+a,i=" ");return c}function A0(n){var e="",a="";for(var c in n)c&&n[c]&&I0.call(n,c)&&(e=e+a+c,a=" ");return e}function r0(n){var e=""+n,a=R0.exec(e);if(!a)return n;var c,i,r,p="";for(c=a.index,i=0;c<e.length;c++){switch(e.charCodeAt(c)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==c&&(p+=e.substring(i,c)),i=c+1,p+=r}return i!==c?p+e.substring(i,c):p}var I0=Object.prototype.hasOwnProperty,R0=/["&<>]/;function h0(n,e,a,c){if(!(n instanceof Error))throw n;if(!(typeof window>"u"&&e||c))throw n.message+=" on line "+a,n;var i,r,p,j;try{c=c||require("fs").readFileSync(e,{encoding:"utf8"}),i=3,r=c.split(`
`),p=Math.max(a-i,0),j=Math.min(r.length,a+i)}catch(y){return n.message+=" - could not read from "+e+" ("+y.message+")",void h0(n,null,a)}i=r.slice(p,j).map(function(y,g){var d=g+p+1;return(d==a?"  > ":"    ")+d+"| "+y}).join(`
`),n.path=e;try{n.message=(e||"Pug")+":"+a+`
`+i+`

`+n.message}catch{}throw n}function L0(n){var e="",a={},c,i,r;try{var p=n||{};(function(j,y){r=1,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",a.ldapServerEditPanel=c=function(g,d){var B=this&&this.block,A=this&&this.attributes||{};r=2,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="g-ldap-server-panel panel panel-default">',r=3,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(' class="panel-heading" data-toggle="collapse" data-parent="#g-ldap-server-accordion"'+b("data-target",`#g-ldap-server-${d}-settings`,!0,!1))+">",r=6,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="panel-title pull-left">',r=7,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<a>",r=8,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<span class="g-ldap-server-title">',r=8,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+r0((c=g.uri)==null?"":c)+"</span></a></div>",r=9,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="panel-title pull-right">',r=10,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<a class="g-remove-ldap-server" title="Remove this server">',r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<i"+(' class="icon-cancel"'+b("id",`g-ldap-server-${d}-remove`,!0,!1))+"></i></a></div>",r=12,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="clearfix"></div></div>',r=13,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(b("class",f0(["panel-collapse","collapse",g.collapsedClass],[!1,!1,!0]),!1,!1)+b("id",`g-ldap-server-${d}-settings`,!0,!1))+">",r=15,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="panel-body">',r=16,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=17,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+b("for",`g-ldap-server-${d}-uri`,!0,!1))+">",r=17,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"URI</label>",r=18,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control g-uri-input"'+b("id",`g-ldap-server-${d}-uri`,!0,!1)+' name="uri"'+b("value",g.uri,!0,!1)+' placeholder="URI"')+"/></div>",r=20,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=21,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+b("for",`g-ldap-server-${d}-bindName`,!0,!1))+">",r=21,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Bind name</label>",r=22,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+b("id",`g-ldap-server-${d}-bindName`,!0,!1)+' name="bindName"'+b("value",g.bindName,!0,!1)+' placeholder="Bind name"')+"/></div>",r=24,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=25,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+b("for",`g-ldap-server-${d}-baseDn`,!0,!1))+">",r=25,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Base DN</label>",r=26,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+b("id",`g-ldap-server-${d}-baseDn`,!0,!1)+' name="baseDn"'+b("value",g.baseDn,!0,!1)+' placeholder="Base DN"')+"/></div>",r=28,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=29,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+b("for",`g-ldap-server-${d}-password`,!0,!1))+">",r=29,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Password (optional)</label>",r=30,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+b("id",`g-ldap-server-${d}-password`,!0,!1)+' type="password" name="password"'+b("value",g.password,!0,!1)+' placeholder="Password"')+"/></div>",r=32,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=33,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+b("for",`g-ldap-server-${d}-searchField`,!0,!1))+">",r=33,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Search field (optional)</label>",r=34,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+b("id",`g-ldap-server-${d}-searchField`,!0,!1)+' name="searchField"'+b("value",g.searchField,!0,!1)+' placeholder="Search field (default: uid)"')+"/></div>",r=36,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=37,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+b("for",`g-ldap-server-${d}-queryFilter`,!0,!1))+">",r=37,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Query Filter (optional)</label>",r=38,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+b("id",`g-ldap-server-${d}-queryFilter`,!0,!1)+' name="queryFilter"'+b("value",g.queryFilter,!0,!1)+' placeholder="Query Filter"')+"/></div>",r=40,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=41,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<button"+(' class="g-ldap-test btn btn-sm btn-default"'+b("index",d,!0,!1)+' type="button"')+">",r=41,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Test connection</button>",r=42,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(' class="g-ldap-test-result hide"'+b("id",`g-ldap-server-${d}-conn-ok`,!0,!1)+' status="success"')+">",r=43,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<i class="icon-ok"></i>',r=44,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Connection OK</div>",r=45,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(' class="g-ldap-test-result hide"'+b("id",`g-ldap-server-${d}-conn-fail`,!0,!1)+' status="failure"')+">",r=46,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<i class="icon-cancel"></i>',r=47,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<span class="g-msg"></span></div></div></div></div></div>'},r=3,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="g-config-breadcrumb-container"></div>',r=4,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"<p>",r=5,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"Below is the list of LDAP servers that will attempt to authenticate",r=6,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=6,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"users when they log into this server. The list below is ordered, and",r=7,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=7,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"the servers will be checked in that order at login time. To change",r=8,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=8,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"the order, simply drag and drop the elements in the list.",r=9,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=9,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"",r=10,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=10,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"Full documentation of this plugin and how to configure it can be found",r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"",r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<a target="_blank" href="http://girder.readthedocs.io/en/latest/plugins.html#ldap-authentication">',r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"here</a>",r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+".",r=12,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+`
`,r=12,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"</p>",r=13,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="g-ldap-server-list-title">',r=13,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"LDAP servers</div>",r=14,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<form class="g-ldap-server-form" role="form">',r=15,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="panel-group g-ldap-settings-panel">',r=16,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="form-group">',r=17,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<label class="control-label" for="g-ldap-settings-timeout">',r=17,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"Timeout</label>",r=18,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"<input"+(' class="input-sm form-control g-uri-input" id="g-ldap-setting-timeout" name="timeout"'+b("value",y.timeout,!0,!1)+' placeholder="4"')+"/></div>",r=20,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="fall-back-settings">',r=21,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<label class="control-label" for="g-ldap-settings-fallback">',r=22,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"<input"+(' class="g-setting-switch" id="g-ldap-setting-fallback" type="checkbox"'+b("checked",y.fallback?"checked":void 0,!0,!1)+' data-size="mini" data-on-color="primary"')+"/>",r=23,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+"Fall Back to Girder Login</label></div></div>",r=24,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="panel-group g-ldap-server-accordion">',r=25,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",(function(){var g=j;if(typeof g.length=="number")for(var d=0,B=g.length;d<B;d++){var A=g[d];r=26,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",a.ldapServerEditPanel(A,d)}else{var B=0;for(var d in g){B++;var A=g[d];r=26,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",a.ldapServerEditPanel(A,d)}}}).call(this),e=e+"</div>",r=27,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<div class="btn-toolbar">',r=28,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<input class="g-ldap-add-server btn btn-sm btn-primary" type="button" value="New Server"/>',r=29,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<input class="btn btn-sm btn-primary" type="submit" value="Save"/></div></form>',r=31,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/configView.pug",e=e+'<p class="g-validation-failed-message"></p>'}).call(this,"servers"in p?p.servers:typeof servers<"u"?servers:void 0,"settings"in p?p.settings:typeof settings<"u"?settings:void 0)}catch(j){h0(j,i,r)}return e}function w(n,e,a,c){if(e===!1||e==null||!e&&(n==="class"||n==="style"))return"";if(e===!0)return" "+(c?n:n+'="'+n+'"');var i=typeof e;return i!=="object"&&i!=="function"||typeof e.toJSON!="function"||(e=e.toJSON()),typeof e=="string"||(e=JSON.stringify(e),a||e.indexOf('"')===-1)?(a&&(e=t0(e))," "+n+'="'+e+'"'):" "+n+"='"+e.replace(/'/g,"&#39;")+"'"}function m0(n,e){return Array.isArray(n)?Y0(n,e):n&&typeof n=="object"?q0(n):n||""}function Y0(n,e){for(var a,c="",i="",r=Array.isArray(e),p=0;p<n.length;p++)(a=m0(n[p]))&&(r&&e[p]&&(a=t0(a)),c=c+i+a,i=" ");return c}function q0(n){var e="",a="";for(var c in n)c&&n[c]&&X0.call(n,c)&&(e=e+a+c,a=" ");return e}function t0(n){var e=""+n,a=U0.exec(e);if(!a)return n;var c,i,r,p="";for(c=a.index,i=0;c<e.length;c++){switch(e.charCodeAt(c)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==c&&(p+=e.substring(i,c)),i=c+1,p+=r}return i!==c?p+e.substring(i,c):p}var X0=Object.prototype.hasOwnProperty,U0=/["&<>]/;function v0(n,e,a,c){if(!(n instanceof Error))throw n;if(!(typeof window>"u"&&e||c))throw n.message+=" on line "+a,n;var i,r,p,j;try{c=c||require("fs").readFileSync(e,{encoding:"utf8"}),i=3,r=c.split(`
`),p=Math.max(a-i,0),j=Math.min(r.length,a+i)}catch(y){return n.message+=" - could not read from "+e+" ("+y.message+")",void v0(n,null,a)}i=r.slice(p,j).map(function(y,g){var d=g+p+1;return(d==a?"  > ":"    ")+d+"| "+y}).join(`
`),n.path=e;try{n.message=(e||"Pug")+":"+a+`
`+i+`

`+n.message}catch{}throw n}function G0(n){var e="",a={},c,i,r;try{var p=n||{};(function(j,y){r=1,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",a.ldapServerEditPanel=c=function(g,d){var B=this&&this.block,A=this&&this.attributes||{};r=2,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="g-ldap-server-panel panel panel-default">',r=3,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(' class="panel-heading" data-toggle="collapse" data-parent="#g-ldap-server-accordion"'+w("data-target",`#g-ldap-server-${d}-settings`,!0,!1))+">",r=6,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="panel-title pull-left">',r=7,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<a>",r=8,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<span class="g-ldap-server-title">',r=8,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+t0((c=g.uri)==null?"":c)+"</span></a></div>",r=9,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="panel-title pull-right">',r=10,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<a class="g-remove-ldap-server" title="Remove this server">',r=11,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<i"+(' class="icon-cancel"'+w("id",`g-ldap-server-${d}-remove`,!0,!1))+"></i></a></div>",r=12,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="clearfix"></div></div>',r=13,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(w("class",m0(["panel-collapse","collapse",g.collapsedClass],[!1,!1,!0]),!1,!1)+w("id",`g-ldap-server-${d}-settings`,!0,!1))+">",r=15,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="panel-body">',r=16,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=17,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+w("for",`g-ldap-server-${d}-uri`,!0,!1))+">",r=17,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"URI</label>",r=18,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control g-uri-input"'+w("id",`g-ldap-server-${d}-uri`,!0,!1)+' name="uri"'+w("value",g.uri,!0,!1)+' placeholder="URI"')+"/></div>",r=20,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=21,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+w("for",`g-ldap-server-${d}-bindName`,!0,!1))+">",r=21,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Bind name</label>",r=22,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+w("id",`g-ldap-server-${d}-bindName`,!0,!1)+' name="bindName"'+w("value",g.bindName,!0,!1)+' placeholder="Bind name"')+"/></div>",r=24,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=25,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+w("for",`g-ldap-server-${d}-baseDn`,!0,!1))+">",r=25,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Base DN</label>",r=26,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+w("id",`g-ldap-server-${d}-baseDn`,!0,!1)+' name="baseDn"'+w("value",g.baseDn,!0,!1)+' placeholder="Base DN"')+"/></div>",r=28,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=29,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+w("for",`g-ldap-server-${d}-password`,!0,!1))+">",r=29,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Password (optional)</label>",r=30,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+w("id",`g-ldap-server-${d}-password`,!0,!1)+' type="password" name="password"'+w("value",g.password,!0,!1)+' placeholder="Password"')+"/></div>",r=32,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=33,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+w("for",`g-ldap-server-${d}-searchField`,!0,!1))+">",r=33,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Search field (optional)</label>",r=34,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+w("id",`g-ldap-server-${d}-searchField`,!0,!1)+' name="searchField"'+w("value",g.searchField,!0,!1)+' placeholder="Search field (default: uid)"')+"/></div>",r=36,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=37,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<label"+(' class="control-label"'+w("for",`g-ldap-server-${d}-queryFilter`,!0,!1))+">",r=37,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Query Filter (optional)</label>",r=38,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<input"+(' class="input-sm form-control"'+w("id",`g-ldap-server-${d}-queryFilter`,!0,!1)+' name="queryFilter"'+w("value",g.queryFilter,!0,!1)+' placeholder="Query Filter"')+"/></div>",r=40,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<div class="form-group">',r=41,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<button"+(' class="g-ldap-test btn btn-sm btn-default"'+w("index",d,!0,!1)+' type="button"')+">",r=41,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Test connection</button>",r=42,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(' class="g-ldap-test-result hide"'+w("id",`g-ldap-server-${d}-conn-ok`,!0,!1)+' status="success"')+">",r=43,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<i class="icon-ok"></i>',r=44,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"Connection OK</div>",r=45,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+"<div"+(' class="g-ldap-test-result hide"'+w("id",`g-ldap-server-${d}-conn-fail`,!0,!1)+' status="failure"')+">",r=46,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<i class="icon-cancel"></i>',r=47,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/editServerMixin.pug",e=e+'<span class="g-msg"></span></div></div></div></div></div>'},r=3,i="/home/circleci/project/girder/plugins/ldap/girder_ldap/web_client/templates/newServerTemplate.pug",a.ldapServerEditPanel(y,j)}).call(this,"index"in p?p.index:typeof index<"u"?index:void 0,"server"in p?p.server:typeof server<"u"?server:void 0)}catch(j){v0(j,i,r)}return e}const oe="",J=girder.$,l0=girder._,J0=girder.views.widgets.PluginConfigBreadcrumbWidget,H0=girder.views.View,{restRequest:a0}=girder.rest,W0=girder.events,Q0=["uri","bindName","baseDn","password","searchField","queryFilter"],z0=["timeout","fallback"];var K0=H0.extend({events:{"submit .g-ldap-server-form":function(n){n.preventDefault(),this.$("#g-ldap-servers-error-message").empty(),this._saveSettings()},"click .g-remove-ldap-server":function(n){J(n.currentTarget).parents(".panel").remove()},"click .g-ldap-add-server":function(){this.$(".g-ldap-server-accordion").append(G0({server:{collapsedClass:"in"},index:this.$(".g-ldap-server-panel").length}))},"input .g-uri-input":function(n){const e=J(n.currentTarget);e.parents(".panel").find(".g-ldap-server-title").text(e.val())},"click .g-ldap-test":function(n){const e=J(n.currentTarget),a=e.attr("index"),c=this.$(`#g-ldap-server-${a}-uri`).val(),i=this.$(`#g-ldap-server-${a}-bindName`).val(),r=this.$(`#g-ldap-server-${a}-password`).val();a0({url:"system/ldap_server/status",method:"GET",data:{uri:c,bindName:i,password:r}}).done(p=>{e.girderEnable(!0),p.connected?this.$(`#g-ldap-server-${a}-conn-ok`).removeClass("hide"):this.$(`#g-ldap-server-${a}-conn-fail`).removeClass("hide").find(".g-msg").text(p.error)}),e.girderEnable(!1),this.$(`#g-ldap-server-${a}-conn-ok`).addClass("hide"),this.$(`#g-ldap-server-${a}-conn-fail`).addClass("hide")}},initialize:function(){a0({method:"GET",url:"system/setting",data:{list:JSON.stringify(["ldap.servers","ldap.settings"])}}).done(n=>{this.servers=n["ldap.servers"],this.settings=n["ldap.settings"],this.render()}),this.breadcrumb=new J0({pluginName:"LDAP login",parentView:this})},render:function(){return this.$el.html(L0({servers:this.servers,settings:this.settings})),this.breadcrumb.setElement(this.$(".g-config-breadcrumb-container")).render(),O0.create(this.$(".g-ldap-server-accordion")[0],{filter:"input",preventOnFilter:!1}),this},_saveSettings:function(){const n=l0.map(this.$(".g-ldap-server-panel"),a=>{const c={};return l0.each(Q0,i=>{c[i]=J(a).find(`input[name="${i}"]`).val()}),c}),e={};l0.each(z0,a=>{e[a]=J(".g-ldap-settings-panel").find(`input[name="${a}"]`).val()}),this.$(".g-validation-failed-message").empty(),e.fallback=J("#g-ldap-setting-fallback").is(":checked"),e.timeout=parseInt(e.timeout,10),a0({method:"PUT",url:"system/setting",data:{list:JSON.stringify([{key:"ldap.servers",value:n},{key:"ldap.settings",value:e}])},error:null}).done(()=>{W0.trigger("g:alert",{icon:"ok",text:"Settings saved.",type:"success",timeout:3e3})}).fail(a=>{this.$(".g-validation-failed-message").text(a.responseJSON.message)})}});const Z0=girder.events,ee=girder.router,{exposePluginConfig:ue}=girder.utilities.PluginUtils;ue("ldap","plugins/ldap/config"),ee.route("plugins/ldap/config","ldapConfig",function(){Z0.trigger("g:navigateTo",K0)})});
