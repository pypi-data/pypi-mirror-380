#
# Metadata elements used in InvenioRDM.
#
#
# WIP: do not use yet!
#

RDMIdentifier:
  label:
    cs: Identifikátor
    en: Identifier
  ui_marshmallow_schema_class: oarepo_runtime.services.schema.rdm_ui.RDMIdentifierWithSchemaUISchema
  marshmallow_schema_class: marshmallow_utils.schemas.identifier.IdentifierSchema
  properties:
    identifier:
      type: keyword
      required: true
      label:
        cs: identifikátor
        en: Identifier
    scheme:
      type: keyword
      required: true
      label:
        cs: Typ identifikátoru
        en: Identifier Type

RDMCreatibutor:
  properties:
    role:
      type: vocabulary
      vocabulary-type: contributor-types
      label:
        cs: Role přispěvatele
        en: Role
      hint:
        cs: Vyberte roli přispěvatele z nabídky (editor, ilustrátor…).
        en: Choose the role of the contributor (editor, illustrator…).
    affiliations:
      type: array
      label:
        cs: Afiliace
        en: Affiliation
      items:
        type: vocabulary
        vocabulary-type: affiliations
        keys:
          - key: name
            model:
              type: keyword
          - key: identifiers
            model:
              type: array
              items:
                type: object
                properties:
                  identifier: keyword
                  scheme: keyword
    person_or_org:
      type: RDMPersonOrOrg
      label:
        cs: Osoba nebo organizace
        en: Person or Organization
  marshmallow-schema-class: invenio_rdm_records.services.schemas.metadata.CreatorSchema
  marshmallow-ui-schema-class: oarepo_runtime.services.schema.rdm_ui.RDMCreatorsUISchema

RDMFunding:
  label:
    cs: "Granty a financování"
    en: "Funding Reference"
  marshmallow-ui-schema-class: oarepo_runtime.services.schema.rdm_ui.RDMFundersUISchema
  marshmallow-schema-class: oarepo_runtime.services.schema.rdm.FundingSchema
  properties:
    funder:
      type: vocabulary
      class: oarepo_runtime.records.relations.UnstrictPIDRelation
      keys:
        - key: name
          model:
            type: fulltext
        - key: identifiers
          model:
            type: array
            items:
              type: object
              properties:
                identifier: keyword
                scheme: keyword
      vocabulary-type: funders
      label:
        cs: Poskytovatel financí
        en: Funder
      hint:
        cs: Začněte zapisovat název poskytovatele, následně vyberte z nabídky našeptavače.
        en: Start typing the name of the funder, then select the funder from the menu.

    award:
      keys:
        - title
        - key: number
          model:
            type: keyword
        - key: identifiers
          model:
            type: array
            items:
              type: object
              properties:
                identifier: keyword
                scheme: keyword
        - key: acronym
          model:
            type: keyword
        - key: program
          model:
            type: keyword
        - key: subjects
          model:
            type: array
            items:
              properties:
                id: keyword
                subject: keyword
        - key: organizations
          model:
            type: object
            properties:
              scheme: keyword
              id: keyword
              organization: keyword
      type: vocabulary
      vocabulary-type: awards
      label:
        cs: Číslo projektu
        en: Award number

    subjects:
      type: vocabulary
      vocabulary-type: subjects
      keys:
        - key: subject
          model:
            type: keyword
        - key: scheme
          model:
            type: keyword
        - key: props
          model:
            type: object
            additionalProperties: true
      label:
        cs: Předměty
        en: Subjects

RDMSubject:
  label:
    cs: Předmět
    en: Subject
  marshmallow-ui-schema-class: oarepo_runtime.services.schema.rdm_ui.RDMSubjectUISchema
  marshmallow-schema-class: oarepo_runtime.services.schema.rdm.RDMSubjectSchema
  properties:
    id:
      type: keyword
      label.cs: Identifikátor předmětu
      label.en: Subject Identifier

    subject:
      # TODO: in RDM, subjects are not yet multilingual in their serialization to record
      # (they are internally), this probably will change in the future
      type: multilingual
      label.cs: Předmět
      label.en: Subject

RDMPersonOrOrg:
  properties:
    name:
      type: keyword
      label.cs: Plné jméno
      label.en: Full Name
    type:
      type: keyword
      enum: [personal, organizational]
      label.cs: Typ
      label.en: Type
    given_name:
      type: keyword
      label.cs: Jméno
      label.en: Name
    family_name:
      type: keyword
      label.cs: Příjmení
      label.en: Family Name
    identifiers:
      type: array
      label:
        en: Identifiers
        cs: Identifikátory
      items:
        type: RDMIdentifier
        marshmallow:
          generate: false
          read: false
          write: false
  marshmallow-schema-class: invenio_rdm_records.services.schemas.metadata.PersonOrOrganizationSchema
  marshmallow-ui-schema-class: oarepo_runtime.services.schema.rdm_ui.RDMPersonOrOrganizationUISchema

RDMRecordVersion:
  type: keyword
  label:
    en: Record Version
    cs: Verze záznamu

RDMTitle:
  type: fulltext+keyword
  label:
    en: Title
    cs: Název

RDMAdditionalTitles:
  type: array
  label:
    en: Additional titles
    cs: Další názvy záznamu
  items:
    type: object
    properties:
      title: 
        type: fulltext
      type:
        type: vocabulary
        vocabulary-type: title-types
      lang:
        type: vocabulary
        vocabulary-type: languages

RDMAdditionalDescriptions:
  type: array
  label:
    en: Additional descriptions
    cs: Další popisy záznamu
  items:
    type: object
    properties:
      description:
        type: fulltext
      type:
        type: vocabulary
        vocabulary-type: description-types
      lang:
        type: vocabulary
        vocabulary-type: languages

RDMIdentifiers:
  label:
    en: Identifiers
    cs: Identifikátory
  hint:
    en: Alternate identifiers for the record.
    cs: Alternativní identifikátory záznamu.
  help:
    en: Include any identifiers that reference this record, such as DOIs, Handles, or other scheme-based IDs.
    cs: Uveďte jakékoliv identifikátory, které odkazují na tento záznam, jako jsou DOI, Handle nebo jiné identifikátory založené na schématu.
  type: array
  items:
    type: RDMIdentifier

RDMCreators:
  label:
    en: Creators
    cs: Autoři
  type: array
  items:
    type: RDMCreatibutor

RDMContributors:
  label:
    en: Contributors
    cs: Přispěvatelé
  type: array
  items:
    type: RDMCreatibutor

RDMSubjects:
  label:
    en: Subjects
    cs: Předměty
  type: array
  items:
    type: RDMSubject

RDMFundings:
  type: array
  label:
    en: Funding references
    cs: Financování
  items:
    type: RDMFunding
  hint:
    en: Information about grants or other funding sources supporting this research.
    cs: Informace o grantech nebo jiných zdrojích financování podporujících tento výzkum.
  help:
    en: Include details of funding bodies, grant numbers, and related information.
    cs: Uveďte podrobnosti o financujících institucích, číslech grantů a související informace.

RDMResourceType:
  type: vocabulary
  vocabulary-type: resource-types
  label:
    en: Resource type
    cs: Typ záznamu

RDMLanguages:
  type: array
  items:
    type: vocabulary
    vocabulary-type: languages


# TODO: look at this, we might want to use some parts of RDM to be compatible.
terms_of_use:
  # sawsdl:modelReference=https://model.ccmm.cz/vocabulary/datacite#hasVersion
  type: TermsOfUse
  label:
    en: Terms of use
    cs: Podmínky užití
  hint:
    en: License, access rights, and usage conditions.
    cs: Licence, přístupová práva a podmínky použití.
  help:
    en: Specify legal terms governing access and reuse. Include license documents and any restrictions.
    cs: Uveďte právní podmínky upravující přístup a opětovné použití. Zahrňte licenční dokumenty a případná omezení.
