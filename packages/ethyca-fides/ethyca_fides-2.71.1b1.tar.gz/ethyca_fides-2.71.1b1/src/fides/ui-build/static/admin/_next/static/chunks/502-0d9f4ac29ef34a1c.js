"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{77213:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(24246),r=n(96306),s=n(88038),o=n.n(s),a=n(86677);n(27378);var l=n(25980),u=n(90867),d=n(42478),g=n(77830),c=()=>{let e=(0,a.useRouter)();return(0,i.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(r.xuv,{children:[(0,i.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(r.wpx,{onClick:()=>{e.push(g.AD)},children:"Configure"})]}),(0,i.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:s=!0,mainProps:g}=e,f=(0,l.hz)(),h=(0,a.useRouter)(),p="/privacy-requests"===h.pathname||"/datastore-connection"===h.pathname,v=!(f.flags.messagingConfiguration&&p),{data:m}=(0,d.JE)(void 0,{skip:v}),{data:x}=(0,u.PW)(void 0,{skip:v}),y=f.flags.messagingConfiguration&&(!m||!x)&&p;return(0,i.jsxs)(r.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(r.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...g,children:[y?(0,i.jsx)(c,{}):null,t]})]})}},17245:function(e,t,n){n.d(t,{HK:function(){return o},VY:function(){return r.V},pI:function(){return d},h0:function(){return i.h},Rx:function(){return f},rK:function(){return p}});var i=n(36866),r=n(84306),s=n(812);let o=()=>{let{errorAlert:e}=(0,r.V)();return{handleError:t=>{let n="An unexpected error occurred. Please try again.";(0,s.Ot)(t)?n=t.data.detail:(0,s.tB)(t)&&(n=t.data.detail[0].msg),e(n)}}};var a=n(27378),l=n(20682),u=n(21910);let d=e=>{let{data:t}=(0,l.$I)({}),n=(0,a.useMemo)(()=>(null==t?void 0:t.items)||[],[t]);return(0,a.useMemo)(()=>{var t;if(!e)return"";if(e.connection_type===u.Rj.SAAS&&(null===(t=e.saas_config)||void 0===t?void 0:t.type)){let t=n.find(t=>{var n;return t.identifier===(null===(n=e.saas_config)||void 0===n?void 0:n.type)});if(t)return t}return e},[e,n])};var g=n(40431);let c=()=>({search:g.Oi.withDefault("")}),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultSearchQuery:t,onSearchChange:n}=e,i=(0,a.useMemo)(()=>c(),[]),[r,s]=(0,g.XI)(i,{history:"push"}),o=(0,a.useMemo)(()=>({searchQuery:r.search||t||void 0}),[r,t]),l=(0,a.useCallback)(e=>{s({search:e||null})},[s]),u=(0,a.useCallback)(()=>{s({search:null})},[s]);return(0,a.useEffect)(()=>{n&&n(o)},[o,n]),{...o,updateSearch:l,resetSearch:u,searchProps:{value:o.searchQuery||"",onChange:l,onClear:()=>l("")}}},h=e=>({sortKey:e?(0,g.jx)([...e]):g.Oi.withDefault(""),sortOrder:(0,g.km)(["ascend","descend"])}),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultSortKey:t,defaultSortOrder:n,onSortingChange:i,validColumns:r}=e,s=(0,a.useMemo)(()=>h(r),[r]),[o,l]=(0,g.XI)(s,{history:"push"}),u=(0,a.useMemo)(()=>{var e;return{sortKey:o.sortKey||t,sortOrder:null!==(e=o.sortOrder)&&void 0!==e?e:n}},[o,t,n]),d=(0,a.useCallback)((e,t)=>{l({sortKey:e?String(e):null,sortOrder:null!=t?t:null})},[l]),c=(0,a.useCallback)(()=>{l({sortKey:null,sortOrder:null})},[l]);return(0,a.useEffect)(()=>{i&&i(u)},[u,i]),{...u,updateSorting:d,resetSorting:c,sortingProps:{sortDirections:["ascend","descend"],defaultSortOrder:u.sortOrder,sortedInfo:u.sortKey?{field:u.sortKey,order:u.sortOrder}:void 0}}}},84306:function(e,t,n){n.d(t,{V:function(){return s}});var i=n(24246),r=n(96306);let s=()=>{let e=(0,r.pmc)();return{errorAlert:(t,n,s)=>{let o={...s,position:(null==s?void 0:s.position)||"top",render:e=>{let{onClose:s}=e;return(0,i.jsxs)(r.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,i.jsx)(r.zMQ,{}),(0,i.jsxs)(r.xuv,{children:[n&&(0,i.jsx)(r.CdC,{children:n}),(0,i.jsx)(r.XaZ,{children:t})]}),(0,i.jsx)(r.PZ7,{onClick:s,position:"relative",right:0,size:"sm",top:-1})]})}};(null==s?void 0:s.id)&&e.isActive(s.id)?e.update(s.id,o):e(o)},successAlert:(t,n,s)=>{let o={...s,position:(null==s?void 0:s.position)||"top",render:e=>{let{onClose:s}=e;return(0,i.jsxs)(r.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,i.jsx)(r.zMQ,{}),(0,i.jsxs)(r.xuv,{children:[n&&(0,i.jsx)(r.CdC,{children:n}),(0,i.jsx)(r.XaZ,{children:t})]}),(0,i.jsx)(r.PZ7,{onClick:s,position:"relative",right:0,size:"sm",top:-1})]})}};(null==s?void 0:s.id)&&e.isActive(s.id)?e.update(s.id,o):e(o)}}}},36866:function(e,t,n){n.d(t,{h:function(){return u}});var i=n(40431),r=n(27378),s=n(55484);let o=(0,i.jo)({parse(e){let t=parseInt(e,10);try{return s.Rx().integer().positive().validateSync(t),t}catch(e){return null}},serialize:e=>e.toString()});var a=n(32735);let l=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.pageQueryKey||"page",s=n.sizeQueryKey||"size";return{[r]:o.withDefault(a.Ej),[s]:n.pageSizeOptions?(0,i.bJ)(n.pageSizeOptions).withDefault(null!==(e=n.pageSize)&&void 0!==e?e:a.L8):o.withDefault(null!==(t=n.pageSize)&&void 0!==t?t:a.L8)}},u=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultPageSize:s=a.L8,pageSizeOptions:o,showSizeChanger:u=!0,pageQueryKey:d="page",sizeQueryKey:g="size"}=n,c=null!=o?o:a.VZ,f=(0,r.useMemo)(()=>l({pageSize:s,pageSizeOptions:o,pageQueryKey:d,sizeQueryKey:g}),[s,o,d,g]),[h,p]=(0,i.XI)(f,{history:"push"}),v={pageIndex:null!==(e=h[d])&&void 0!==e?e:a.Ej,pageSize:null!==(t=h[g])&&void 0!==t?t:s};return{...v,updatePageIndex:e=>{p({[d]:e})},updatePageSize:e=>{p({[d]:e!==v.pageSize?a.Ej:v.pageIndex,[g]:e})},resetPagination:()=>{p({[d]:a.Ej,[g]:s})},nextPage:()=>{p(e=>({[d]:e[d]+1,[g]:e[g]}))},previousPage:()=>{p(e=>({[d]:e[d]-1,[g]:e[g]}))},pageSizeOptions:c,showSizeChanger:u}}},17828:function(e,t,n){var i=n(24246);n(27378),t.Z=()=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 74.375 85",width:"20",height:"20",fill:"#fff",fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("use",{xlinkHref:"#A",x:"2.188",y:"2.5"}),(0,i.jsx)("symbol",{id:"A",overflow:"visible",children:(0,i.jsxs)("g",{stroke:"none",children:[(0,i.jsx)("path",{d:"M16.558 12.75L0 38.591l16.558 25.841 13.227-3.324.654-44.869-13.881-3.489z",fill:"#876929"}),(0,i.jsx)("path",{d:"M35.049 59.786l-18.491 4.645V12.75l18.491 4.645v42.391z",fill:"#d9a741"}),(0,i.jsxs)("g",{fill:"#876929",children:[(0,i.jsx)("path",{d:"M32.849 21.614L35.05 80 70 62.867l-.01-43.615-8.914 1.448-28.228.913z"}),(0,i.jsx)("path",{d:"M46.184 33.149l10.906-.632 10.778-19.164L40.612 0 30.439 4.364l15.745 28.785z"})]}),(0,i.jsx)("path",{d:"M40.612 0l27.256 13.353-10.778 19.164L40.612 0z",fill:"#d9a741"}),(0,i.jsx)("path",{d:"M35.049 5.539L57.09 44.742l3.788 22.595L35.049 80l-10.46-5.131V9.64l10.45-4.101h.01z",fill:"#876929"}),(0,i.jsx)("path",{d:"M69.991 19.251L70 62.867 35.05 80V5.539l22.041 39.203 12.899-25.491z",fill:"#d9a741"})]})})]})},44907:function(e,t,n){var i=n(24246);n(27378),t.Z=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",preserveAspectRatio:"xMidYMid",viewBox:"-0.5 0 257 257",children:(0,i.jsx)("path",{fill:"#C02428",d:"M128.418 80.526c-26.51 0-48.884 21.475-48.884 48.728a48.197 48.197 0 0014.187 34.579 48.532 48.532 0 0034.697 14.14c26.511 0 48.875-21.476 48.875-48.719 0-27.253-22.364-48.728-48.875-48.728zm-76.22 47.895c0-41.285 33.968-75.138 75.395-75.138 41.417 0 75.385 33.853 75.385 75.138 0 2.478 0 5.788-.825 8.266-.835 7.422 4.972 13.2 12.43 13.2 12.43 0 14.08-15.678 14.08-21.466 0-55.328-45.573-100.746-101.07-100.746-55.518 0-101.07 45.418-101.07 100.746 0 55.339 45.552 100.747 101.07 100.747 29.822 0 56.333-12.388 74.56-33.03l20.703 17.342c-22.364 26.43-57.158 42.952-94.448 42.952-34.097.105-66.827-13.35-90.932-37.384C13.37 195.016-.118 162.392 0 128.411 0 58.228 57.159.432 128.418.432 198.832.432 256 58.238 256 128.432c0 28.075-13.256 51.205-40.591 51.205-11.605 0-19.053-5.787-23.2-11.565-13.255 21.476-37.29 35.508-64.626 35.508-20.017.068-39.234-7.827-53.388-21.933a74.755 74.755 0 01-22.008-53.205l.01-.02zm76.21-22.297c12.43 0 22.374 9.91 22.374 22.297 0 12.388-9.944 22.298-22.364 22.298a22.322 22.322 0 01-15.848-6.504 22.169 22.169 0 01-6.526-15.794c0-12.387 9.944-22.297 22.374-22.297h-.01z"})})},5144:function(e,t,n){var i=n(24246);t.Z=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 256",children:(0,i.jsx)("path",{fill:"#F12E45",d:"M128 0c70.656 0 128 57.344 128 128s-57.344 128-128 128S0 198.656 0 128 57.344 0 128 0zm0 33.792c-52.224 0-94.208 41.984-94.208 94.208S75.776 222.208 128 222.208s94.208-41.984 94.208-94.208S180.224 33.792 128 33.792zm31.744 99.328c14.704 0 26.624 11.92 26.624 26.624 0 14.704-11.92 26.624-26.624 26.624-14.704 0-26.624-11.92-26.624-26.624 0-14.704 11.92-26.624 26.624-26.624zm-63.488 0c14.704 0 26.624 11.92 26.624 26.624 0 14.704-11.92 26.624-26.624 26.624-14.704 0-26.624-11.92-26.624-26.624 0-14.704 11.92-26.624 26.624-26.624zm63.488-63.488c14.704 0 26.624 11.92 26.624 26.624 0 14.704-11.92 26.624-26.624 26.624-14.704 0-26.624-11.92-26.624-26.624 0-14.704 11.92-26.624 26.624-26.624zm-63.488 0c14.704 0 26.624 11.92 26.624 26.624 0 14.704-11.92 26.624-26.624 26.624-14.704 0-26.624-11.92-26.624-26.624 0-14.704 11.92-26.624 26.624-26.624z"})})},42478:function(e,t,n){n.d(t,{FU:function(){return u},JE:function(){return r},Ki:function(){return g},SU:function(){return c},W:function(){return f},h9:function(){return s},jc:function(){return i},qt:function(){return l},sn:function(){return d}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:r,useCreateMessagingConfigurationMutation:s,useCreateMessagingConfigurationSecretsMutation:o,useGetMessagingConfigurationDetailsQuery:a,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:u,useUpdateMessagingConfigurationByKeyMutation:d,useUpdateMessagingConfigurationSecretsByKeyMutation:g,useCreateTestConnectionMessageMutation:c,useDeleteMessagingConfigurationByKeyMutation:f}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let r=await i({url:"messaging/default/active"});return r.error&&404===r.error.status?{data:null}:r},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})}}]);