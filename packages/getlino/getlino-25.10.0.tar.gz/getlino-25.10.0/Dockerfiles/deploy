ARG DEBIAN_FRONTEND=noninteractive
FROM debian:buster

ENV TERM=linux
ENV PYTHONUNBUFFERED=1
ENV LC_ALL=en_US.UTF-8
ENV LANG=en_US.UTF-8
ENV TZ=Europe/Brussels

RUN apt-get update -y && apt-get upgrade -y
RUN apt-get install -y tzdata locales-all

RUN apt-get install -y apt-utils procps dialog default-libmysqlclient-dev libpango-1.0-0 pangocairo-1.0

RUN apt-get install -y sudo python3  python3-venv python3-pip git default-mysql-server default-mysql-client

RUN python3 --version
RUN python3 -m venv env
RUN python3 -m pip install -U virtualenv
RUN . env/bin/activate

RUN pip3 install getlino git-python
RUN sudo getlino configure --batch --db-engine mysql --web-server nginx --no-redis --appy --front-end lino_react.react

RUN sudo service mysql restart; getlino startsite --batch noi mysite1

###ENTRYPOINT sudo service nginx restart && sudo service supervisor restart
###EXPOSE 80
###STOPSIGNAL SIGTERM
