[build-system]
requires = ["setuptools>=69", "setuptools-scm>=8", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "pymakeutils"
description = "CLI utilities to extract information from 'make -pq' output"
readme = "README.md"
requires-python = ">=3.8"
license = { file = "LICENSE" }
authors = [{ name = "Luca Colagrande", email = "colluca@iis.ee.ethz.ch" }]
# Version comes from git tags via setuptools-scm
dynamic = ["version", "dependencies"]

[tool.setuptools_scm]

[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
where = ["src"]

[tool.setuptools.dynamic]
dependencies = { file = ["requirements.txt"] }

# Expose your scripts as console commands
[project.scripts]
list-make-prerequisites = "pymakeutils.list_make_prerequisites:main"
list-dependent-make-targets = "pymakeutils.list_dependent_make_targets:main"