<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e40af;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad6" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0891b2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad7" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#84cc16;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#65a30d;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="#00000030"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="600" fill="#f8fafc"/>

  <!-- Title -->
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#1f2937">RAGents Workflow Pipeline</text>

  <!-- Step 1: Document Ingestion -->
  <g transform="translate(50, 100)">
    <rect width="120" height="80" rx="10" fill="url(#grad1)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">ğŸ“„</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Document</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Ingestion</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">PDFs, Images, Text</text>
  </g>

  <!-- Arrow 1 -->
  <path d="M 180 140 L 210 140" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Step 2: Multimodal Processing -->
  <g transform="translate(220, 100)">
    <rect width="120" height="80" rx="10" fill="url(#grad2)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">âš™ï¸</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Multimodal</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Processing</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Extract, Chunk, Embed</text>
  </g>

  <!-- Arrow 2 -->
  <path d="M 350 140 L 380 140" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Step 3: Vector Storage -->
  <g transform="translate(390, 100)">
    <rect width="120" height="80" rx="10" fill="url(#grad3)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">ğŸ“‹</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Vector</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Storage</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">ChromaDB, Weaviate</text>
  </g>

  <!-- Arrow 3 (curved down) -->
  <path d="M 450 190 Q 450 220 450 250 Q 450 280 480 280" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Query Input -->
  <g transform="translate(50, 300)">
    <rect width="120" height="60" rx="10" fill="#6b7280" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="white">ğŸ’¬</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">User Query</text>
  </g>

  <!-- Arrow to Agent -->
  <path d="M 180 330 L 210 330" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Step 4: Agent Processing -->
  <g transform="translate(220, 290)">
    <rect width="120" height="80" rx="10" fill="url(#grad4)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">ğŸ§ </text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Agent</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Processing</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Query Analysis</text>
  </g>

  <!-- Arrow 4 -->
  <path d="M 350 330 L 380 330" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Step 5: RAG Retrieval -->
  <g transform="translate(390, 290)">
    <rect width="120" height="80" rx="10" fill="url(#grad5)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">ğŸ”</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">RAG</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Retrieval</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Semantic Search</text>
  </g>

  <!-- Arrow 5 -->
  <path d="M 520 330 L 550 330" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Step 6: LLM Generation -->
  <g transform="translate(560, 290)">
    <rect width="120" height="80" rx="10" fill="url(#grad6)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">ğŸ¤–</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">LLM</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Generation</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Type-safe Output</text>
  </g>

  <!-- Arrow 6 -->
  <path d="M 690 330 L 720 330" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Step 7: Structured Response -->
  <g transform="translate(730, 290)">
    <rect width="120" height="80" rx="10" fill="url(#grad7)" filter="url(#shadow)"/>
    <text x="60" y="25" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="white">âœ…</text>
    <text x="60" y="45" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Structured</text>
    <text x="60" y="60" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Response</text>
    <text x="60" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Validated Output</text>
  </g>

  <!-- Connection from Vector Storage to RAG Retrieval -->
  <path d="M 450 190 L 450 220 Q 450 250 450 280" stroke="#374151" stroke-width="2" fill="none" stroke-dasharray="5,5"/>

  <!-- Evaluation & Observability -->
  <g transform="translate(950, 150)">
    <rect width="200" height="200" rx="15" fill="#f3f4f6" stroke="#d1d5db" stroke-width="2" filter="url(#shadow)"/>
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#374151">Continuous Monitoring</text>

    <!-- Evaluation box -->
    <rect x="20" y="40" width="160" height="60" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
    <text x="100" y="55" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#92400e">ğŸ“Š Evaluation</text>
    <text x="100" y="70" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#92400e">RAGAS Metrics</text>
    <text x="100" y="85" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#92400e">Quality Assessment</text>

    <!-- Observability box -->
    <rect x="20" y="120" width="160" height="60" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="1"/>
    <text x="100" y="135" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1e40af">ğŸ” Observability</text>
    <text x="100" y="150" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#1e40af">OpenInference Tracing</text>
    <text x="100" y="165" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#1e40af">Performance Monitoring</text>
  </g>

  <!-- Connections to monitoring -->
  <path d="M 850 140 L 940 200" stroke="#9ca3af" stroke-width="2" fill="none" stroke-dasharray="3,3"/>
  <path d="M 850 330 L 940 250" stroke="#9ca3af" stroke-width="2" fill="none" stroke-dasharray="3,3"/>

  <!-- Legend -->
  <g transform="translate(50, 450)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">Key Features:</text>
    <text x="0" y="35" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">â€¢ Async-first architecture for scalability</text>
    <text x="0" y="50" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">â€¢ Type-safe LLM interactions with Pydantic</text>
    <text x="0" y="65" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">â€¢ Multiple vector store backends</text>
    <text x="350" y="35" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">â€¢ Intelligent agent decision trees</text>
    <text x="350" y="50" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">â€¢ Built-in evaluation and observability</text>
    <text x="350" y="65" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">â€¢ Production-ready multimodal processing</text>
  </g>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
</svg>