<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="agentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ragGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="llmGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="4" flood-color="#000000" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="600" fill="#f8fafc"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e293b">RAGents Architecture</text>

  <!-- User Input -->
  <rect x="50" y="80" width="120" height="60" rx="10" fill="#e2e8f0" filter="url(#shadow)"/>
  <text x="110" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#334155">User Query</text>
  <text x="110" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#64748b">"Explain this doc"</text>

  <!-- Agent Layer -->
  <g id="agentLayer">
    <rect x="220" y="60" width="360" height="100" rx="15" fill="url(#agentGradient)" opacity="0.9" filter="url(#shadow)"/>
    <text x="400" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Intelligent Agents</text>

    <!-- Decision Tree Agent -->
    <rect x="240" y="100" width="100" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="290" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Decision Tree</text>
    <text x="290" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Agent</text>

    <!-- Graph Planner Agent -->
    <rect x="350" y="100" width="100" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="400" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Graph Planner</text>
    <text x="400" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Agent</text>

    <!-- ReAct Agent -->
    <rect x="460" y="100" width="100" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="510" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ReAct</text>
    <text x="510" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Agent</text>
  </g>

  <!-- RAG Engine -->
  <g id="ragEngine">
    <rect x="220" y="200" width="360" height="100" rx="15" fill="url(#ragGradient)" opacity="0.9" filter="url(#shadow)"/>
    <text x="400" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">RAG Engine</text>

    <!-- Query Processing -->
    <rect x="240" y="240" width="80" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="280" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Query</text>
    <text x="280" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Processing</text>

    <!-- Retrieval -->
    <rect x="330" y="240" width="80" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="370" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Semantic</text>
    <text x="370" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Retrieval</text>

    <!-- Reranking -->
    <rect x="420" y="240" width="80" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="460" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Context</text>
    <text x="460" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Reranking</text>

    <!-- Generation -->
    <rect x="510" y="240" width="60" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="540" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Answer</text>
    <text x="540" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Gen.</text>
  </g>

  <!-- LLM Client -->
  <g id="llmClient">
    <rect x="620" y="60" width="120" height="240" rx="15" fill="url(#llmGradient)" opacity="0.9" filter="url(#shadow)"/>
    <text x="680" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">LLM Client</text>
    <text x="680" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">Type-Safe</text>

    <!-- OpenAI -->
    <rect x="635" y="120" width="90" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="680" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">OpenAI</text>

    <!-- Anthropic -->
    <rect x="635" y="165" width="90" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="680" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Anthropic</text>

    <!-- Local Models -->
    <rect x="635" y="210" width="90" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="680" y="230" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Local Models</text>

    <!-- Instructor -->
    <rect x="635" y="255" width="90" height="35" rx="6" fill="rgba(255,255,255,0.3)" stroke="white" stroke-width="2"/>
    <text x="680" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Instructor</text>
    <text x="680" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Structured Output</text>
  </g>

  <!-- Vector Stores -->
  <g id="vectorStores">
    <rect x="50" y="340" width="300" height="120" rx="15" fill="url(#dataGradient)" opacity="0.9" filter="url(#shadow)"/>
    <text x="200" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Vector Stores</text>

    <!-- ChromaDB -->
    <rect x="70" y="380" width="60" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="100" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ChromaDB</text>

    <!-- Weaviate -->
    <rect x="140" y="380" width="60" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="170" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Weaviate</text>

    <!-- pgvector -->
    <rect x="210" y="380" width="60" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="240" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">pgvector</text>

    <!-- Elasticsearch -->
    <rect x="280" y="380" width="60" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="310" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Elasticsearch</text>

    <!-- Document Processing -->
    <rect x="70" y="425" width="270" height="25" rx="6" fill="rgba(255,255,255,0.3)" stroke="white" stroke-width="1"/>
    <text x="205" y="442" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Multimodal Document Processing \u2022 Embeddings \u2022 Chunking</text>
  </g>

  <!-- Evaluation & Observability -->
  <g id="evalObs">
    <rect x="390" y="340" width="360" height="120" rx="15" fill="#6b7280" opacity="0.9" filter="url(#shadow)"/>
    <text x="570" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Evaluation \u0026 Observability</text>

    <!-- RAGAS Metrics -->
    <rect x="410" y="380" width="100" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="460" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">RAGAS Metrics</text>
    <text x="460" y="407" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Faithfulness \u2022 Relevance</text>

    <!-- OpenInference -->
    <rect x="520" y="380" width="100" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="570" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">OpenInference</text>
    <text x="570" y="407" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Distributed Tracing</text>

    <!-- Monitoring -->
    <rect x="630" y="380" width="100" height="35" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
    <text x="680" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Monitoring</text>
    <text x="680" y="407" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Metrics \u2022 Logging</text>

    <!-- Structured Logging -->
    <rect x="410" y="425" width="320" height="25" rx="6" fill="rgba(255,255,255,0.3)" stroke="white" stroke-width="1"/>
    <text x="570" y="442" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Structured Logging \u2022 Performance Analytics \u2022 Quality Metrics</text>
  </g>

  <!-- Tools System -->
  <rect x="50" y="500" width="150" height="80" rx="15" fill="#8b5cf6" opacity="0.9" filter="url(#shadow)"/>
  <text x="125" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Tools System</text>
  <rect x="70" y="540" width="110" height="30" rx="6" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
  <text x="125" y="560" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">@tool decorator</text>

  <!-- Output -->
  <rect x="620" y="500" width="120" height="80" rx="15" fill="#059669" opacity="0.9" filter="url(#shadow)"/>
  <text x="680" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Structured</text>
  <text x="680" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Response</text>
  <rect x="635" y="555" width="90" height="20" rx="4" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
  <text x="680" y="568" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Type-Safe Output</text>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>

  <!-- User to Agent -->
  <line x1="170" y1="110" x2="220" y2="110" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Agent to RAG -->
  <line x1="400" y1="160" x2="400" y2="200" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Agent to LLM -->
  <line x1="580" y1="110" x2="620" y2="110" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- RAG to LLM -->
  <line x1="580" y1="250" x2="620" y2="180" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- RAG to Vector Stores -->
  <line x1="280" y1="300" x2="200" y2="340" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Tools to Agent -->
  <line x1="125" y1="500" x2="290" y2="160" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- LLM to Output -->
  <line x1="680" y1="300" x2="680" y2="500" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Evaluation connections -->
  <line x1="570" y1="300" x2="570" y2="340" stroke="#374151" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
</svg>