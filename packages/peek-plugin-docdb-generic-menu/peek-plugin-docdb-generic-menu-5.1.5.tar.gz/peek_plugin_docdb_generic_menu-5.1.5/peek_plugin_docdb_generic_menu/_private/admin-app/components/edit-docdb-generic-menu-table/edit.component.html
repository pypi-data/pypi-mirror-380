<nz-card>
    <div class="action-buttons">
        <button
            nz-button
            nzType="primary"
            (click)="handleSave()"
            [nzLoading]="loading$ | async"
        >
            Save
        </button>
        <button
            nz-button
            nzType="default"
            (click)="handleReset()"
            [nzLoading]="loading$ | async"
        >
            Reset
        </button>
        <button nz-button nzType="default" (click)="handleAddRow()">Add</button>
    </div>

    <nz-alert
        class="alert-info"
        nzType="info"
        [nzMessage]="infoMessage"
        nzShowIcon
    >
    </nz-alert>
    <ng-template #infoMessage>
        use {{ "{key}" }} for the display key, or {{ "{valx}" }} where valx is a
        key in the data dict provided with the display item during import.<br />
        For example "alias", "name".
    </ng-template>

    <nz-table
        #basicTable
        [nzData]="items$ | async"
        [nzLoading]="loading$ | async"
        [nzShowSizeChanger]="true"
    >
        <thead>
            <tr>
                <th>Model Set Key</th>
                <th>
                    <a href="https://ng.ant.design/components/icon/en"
                        >Ant Design Icon</a
                    >
                </th>
                <th>Title</th>
                <th>Tooltip</th>
                <th>Condition</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let item of basicTable.data">
                <tr>
                    <td>
                        <nz-input-group>
                            <input nz-input [(ngModel)]="item.modelSetKey" />
                        </nz-input-group>
                    </td>
                    <td>
                        <nz-input-group>
                            <input nz-input [(ngModel)]="item.faIcon" />
                        </nz-input-group>
                    </td>
                    <td>
                        <nz-input-group>
                            <input nz-input [(ngModel)]="item.title" />
                        </nz-input-group>
                    </td>
                    <td>
                        <nz-input-group>
                            <input nz-input [(ngModel)]="item.tooltip" />
                        </nz-input-group>
                    </td>
                    <td>
                        <nz-input-group>
                            <input nz-input [(ngModel)]="item.showCondition" />
                        </nz-input-group>
                    </td>
                    <td>
                        <button
                            nz-button
                            nzType="default"
                            nzDanger
                            (click)="handleRemoveRow(item)"
                        >
                            <i nz-icon nzType="minus" nzTheme="outline"></i>
                        </button>
                    </td>
                </tr>
                <tr>
                    <td><strong>URL</strong></td>
                    <td colspan="5">
                        <nz-input-group class="url-input">
                            <input nz-input [(ngModel)]="item.url" />
                        </nz-input-group>
                    </td>
                </tr>
            </ng-container>
        </tbody>
    </nz-table>
</nz-card>
