<nz-card>
    <form nz-form autocomplete="off" novalidate>
        <nz-table
            #basicTable
            [nzData]="items$ | async"
            [nzLoading]="loading$ | async"
            [nzShowSizeChanger]="true"
        >
            <thead>
                <tr>
                    <th>Setting</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of basicTable.data">
                    <td>{{ item.key }}</td>
                    <td>
                        <div class="setting-value">
                            <ng-container [ngSwitch]="item.type">
                                <!-- Boolean Type -->
                                <nz-switch
                                    *ngSwitchCase="'boolean'"
                                    [(ngModel)]="item.boolean_value"
                                    [name]="item.key"
                                    [nzCheckedChildren]="'True'"
                                    [nzUnCheckedChildren]="'False'"
                                >
                                </nz-switch>

                                <!-- Integer Type -->
                                <nz-input-group *ngSwitchCase="'integer'">
                                    <nz-input-number
                                        [(ngModel)]="item.int_value"
                                        [name]="item.key"
                                        [nzStep]="1"
                                    >
                                    </nz-input-number>
                                </nz-input-group>

                                <!-- String Type (Password) -->
                                <nz-input-group
                                    *ngSwitchCase="'string'"
                                    [nzSize]="'default'"
                                >
                                    <input
                                        nz-input
                                        [(ngModel)]="item.char_value"
                                        [name]="item.key"
                                        [type]="
                                            item.key.endsWith('pass')
                                                ? 'password'
                                                : 'text'
                                        "
                                    />
                                </nz-input-group>
                            </ng-container>
                        </div>
                    </td>
                </tr>
            </tbody>
        </nz-table>

        <div class="action-buttons">
            <button
                nz-button
                nzType="primary"
                (click)="handleSave()"
                [nzLoading]="loading$ | async"
            >
                Save
            </button>
            <button
                nz-button
                nzType="default"
                (click)="handleReset()"
                [nzLoading]="loading$ | async"
            >
                Reset
            </button>
        </div>
    </form>
</nz-card>
