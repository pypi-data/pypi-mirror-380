
<nz-card>
    <h3 nz-typography>View Documents</h3>

    <div class="search-container">
        <nz-row [nzGutter]="16">
            <nz-col [nzSpan]="24">
                <nz-input-group [nzSuffix]="suffixButton">
                    <input
                        nz-input
                        [ngModel]="docKey$ | async"
                        (ngModelChange)="setDocKey($event)"
                        placeholder="Document Key"
                        [disabled]="loading$ | async"
                    />
                </nz-input-group>
                <ng-template #suffixButton>
                    <button
                        nz-button
                        nzType="primary"
                        [nzLoading]="loading$ | async"
                        (click)="handleFetch()"
                    >
                        Fetch
                    </button>
                </ng-template>
            </nz-col>
        </nz-row>
    </div>

    <nz-divider></nz-divider>

    <div class="document-content">
        <ng-container *ngIf="(doc$ | async)?.key as docKey; else noDocument">
            <nz-card nzType="inner" nzTitle="Document Content">
                <pre>{{ jsonDoc$ | async }}</pre>
            </nz-card>
        </ng-container>

        <ng-template #noDocument>
            <nz-empty nzNotFoundContent="No document found"></nz-empty>
        </ng-template>
    </div>
</nz-card>