# 更新日志
- [[2023-07-31]]
    - IAP 规范化，预发布
- [[2023-07-04]]
    - 将数据集类 IAPDataset 独立成库 iap，不再出现在 cvglue 中。`processor` 也一并移到 iap 中，暂未完全隔离
- [[2023-06-06]]
    - 统一弃用 `image_path`，改为 `name`，版本更新
- [[2023-05-19]]
    - 新增创建数据集时的各种命名入参，统一命名参数为文件命名而非路径
    - `create_dataset` 接口小幅修改，内部逻辑支持同个文件夹多个数据集
- [[2023-05-11]] 
    - 修复旋转裁剪后人脸框错位问题，需要确保刘海位置准确得考虑旋转前哪个点对应刘海
    - 再检测一遍是最准的，但显然在端上是没法做到的，必须能根据旋转前的人脸框确定刘海点 [[人脸框的旋转-202305121453]]
- 2023-05-10
    - 人脸质量检测器正式加入新 parser 版本，升级为 `lamply-1.2`
- [[2023-02-06]]
    - 新增人脸质量检测 `quality_detector`，使用 TFace 的 SDD-FIQA 方法，感觉还行
    - 新增 AdaptiveWing 的眼睑睁开程度检测方法
    - 新增 `sample_once_checker`，允许对列表字典进行每个 key 唯一采样 list 中元素，也就是可以将 key 作为聚类名，value 中的列表则是同类的元素。算是 `sample_checker` 的上位替代
- [[2023-01-16]]
    - 新增提取人脸识别特征的 `faceid_parser`，使用 Arcface 的 `model_ir_se50.pth`，不算很好的模型，将就用着先
- [[2023-01-12]]：
    - 发现 norm crop 用例有问题，之前的虚拟人脸检查应该也有问题
    - crop 之后之前的原图像的标注信息会丢失，导致一些判断不能用，可能要增加字段？
    - 增加 `inout_area` 字段用来表示人脸框在图像内的部分面积占比，更新 parser 版本 `lamply-1.1`
- [[2022-12-29]]：
    - 增加 processor 分批次运行的示例，能够多进程处理数据了
    - 增加将多个子数据集合并为一个合集的方法，暂时专给多进程处理用
- 2022-06-13：face_box 不能旋转，还是取消 crop 后的 face_box 会比较好
- 2022-04-24：
	- 集成了所有 processing 以及检测接口库，分离出 detector 来封装检测接口库
- 2022-04-06：
	- 重命名为 cvglue，规范化工程结构，准备做成规范的 python 库
- [[2022-03-31]]：
	- 改善 `virtual_face_checker` 为 norm crop，稍微放宽条件以提升召回率
	- 稍微改善 `blur_checker` 为只对人脸区域检测（降低边缘影响）
	- 新增 `landmark_checker` 可以筛选不可信、不稳定的检测，比如虚拟形象、遮挡、极端侧脸
	- 新增 `if_processor` 可以根据标注信息进行条件筛选，不过和 `select_processor` 有重合
	- 人脸质量评估 TFace 有待观察，因为只有外国人的 pretrained weights
- 2022-03-02：统一用 `metadata['size']` 来表示数据集大小，因为数据是标签图片一体的，将 data 重命名为 img_files，数据集接口版本更新为 1.1
- [[2022-02-16]]：新加了 `select_processor` 来包装 `clean` 包的方法用于统一筛选
- 2022-02-15：加入了针对人脸的模糊度属性检测 `blur_parser`
- [[2021-12-27]]：抽象数据集类，统一处理流程
- 2021-12-23：将头部姿态 headpose 接到 `attribute_parser` 里了
- 2021-10-14：封装了 `landmark_paser`，默认使用 `AdaptiveWing` 方法（98点）
- 2021-09-15：接入头部姿态检测（onnx）
- 2021-09-07：[[人脸各项属性检测接入-202109071721]]