'use server'

import { b } from '../index';
import type { Check, Checked  } from "../types";
import type { Image, Audio, Pdf, Video } from "@boundaryml/baml";

import type { {% for t in types %} {{ t }}{% if !loop.last %}, {% endif %}{% endfor %} } from "../types"

import type * as types from "../types"

/**
 * Regular BAML server actions that return direct responses.
 */
{%- for func in functions %}

/**
 * Executes the "{{ func.name }}" BAML action.
 *
 * This server action calls the underlying BAML function "{{ func.name }}"
 * with the specified parameters.
 *
{%- for (name, arg_type) in func.args %}
 * @param { {{arg_type.serialize_type(pkg)}} } {{ name }}{% if arg_type.meta().is_optional() %} (optional){% endif %} - Input parameter.
{%- endfor %}
 *
 * @returns {Promise<{{func.return_type.serialize_type(pkg)}}>} A promise that resolves with the result of the action.
 */
export const {{ func.name }} = async (
  {%- for (name, arg_type) in func.args %}
  {{ name }}{% if arg_type.meta().is_optional() %}?{% endif %}: {{arg_type.serialize_type(pkg)}},
  {%- endfor %}
): Promise<{{func.return_type.serialize_type(pkg)}}> => {
  return b.{{ func.name }}(
    {%- for (name, _) in func.args %}
    {{ name }},
    {%- endfor %}
  );
};
{%- endfor %}