<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    <record id="crm_case_form_view_oppor_sr" model="ir.ui.view">
      <field name="name">crm.lead.form.subscription.request</field>
      <field name="model">crm.lead</field>
      <field name="inherit_id" ref="somconnexio.crm_case_form_view_oppor_inherit"/>
      <field name="arch" type="xml">
        <xpath expr="//group[@name='lead_partner']/field[@name='partner_id']" position="after">
          <field name="subscription_request_id"/>
        </xpath>
        <xpath expr="//group[@name='opportunity_partner']/field[@name='partner_id']" position="after">
          <field name="subscription_request_id"/>
        </xpath>
      </field>
    </record>
    <record id="view_tree_lead_pack_sr" model="ir.ui.view">
      <field name="name">crm.lead.tree.subscription.request</field>
      <field name="model">crm.lead</field>
      <field name="inherit_id" ref="somconnexio.view_tree_lead_pack"/>
      <field name="arch" type="xml">
        <field name="partner_id" position="before">
          <field name="subscription_request_id"/>
        </field>
      </field>
    </record>
    <record id="crm_lead_pack_search_sr_view" model="ir.ui.view">
      <field name="name">crm.lead pack search view with SR</field>
      <field name="model">crm.lead</field>
      <field name="inherit_id" ref="somconnexio.crm_lead_pack_search_view"/>
      <field name="arch" type="xml">
        <field name="name" position="replace">
          <field name="name" filter_domain="['|', '|', '|',                                             ('partner_id', 'ilike', self),                                             ('partner_id.vat', 'ilike', self),                                             ('subscription_request_id', 'ilike', self),                                             ('phones_from_lead', 'ilike', self),                                         ]"/>
        </field>
      </field>
    </record>
  </data>
</odoo>
