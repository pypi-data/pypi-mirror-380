<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="res_partner_form" model="ir.ui.view">
    <field name="name">res.partner.form.somconnexio</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="cooperator_sponsorship.res_partner_form_cooperator"/>
    <field name="arch" type="xml">
      <group name="coop_sponsorship" position="after">
        <group name="coop_agreement" groups="cooperator.cooperator_group_user" attrs="{'invisible': [('coop_agreement','=',False)]}">
          <field name="coop_agreement"/>
          <field name="coop_agreement_id"/>
        </group>
      </group>
      <field name="sponsor_id" position="after">
        <field name="inactive_partner" attrs="{'invisible': [('sponsor_id','=',False)]}"/>
      </field>
    </field>
  </record>
  <record id="res_partner_form_cooperator" model="ir.ui.view">
    <field name="name">res.partner.form.cooperator</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="cooperator.view_partner_form"/>
    <field name="arch" type="xml">
      <button name="%(cooperator.action_view_create_subscription)d" position="replace"/>
      <header position="inside">
        <button string="Create Subscription" name="%(cooperator.action_view_create_subscription)d" type="action" context="{'default_active_id': active_id}" groups="cooperator.cooperator_group_user"/>
      </header>
      <field name="effective_date" position="after">
        <field name="cooperator_end_date" attrs="{'invisible': [('cooperator_end_date','=',False)]}"/>
      </field>
      <group name="approvals" position="attributes">
        <attribute name="invisible">1</attribute>
      </group>
    </field>
  </record>
  <record id="res_partner_shares_tree_form" model="ir.ui.view">
    <field name="name">res.partner.shares.tree.view</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="cooperator.view_partner_form"/>
    <field name="arch" type="xml">
      <xpath expr="//tree[1]" position="attributes">
        <attribute name="delete">false</attribute>
      </xpath>
    </field>
  </record>
</odoo>
