[project]
name = "starflow-py"
dynamic = ["version", "readme"]
description = "Python package for starflow."
authors = [
    { name = "Alexandre Lazar", email = "alexandre.lazar@gmail.com" },
]
requires-python = ">=3.8"
keywords = ["starflow", "airflow", "gui"]
license = { file = "LICENSE" }
classifiers = [
    "Development Status :: 4 - Beta",
    "Programming Language :: Python :: 3",
    "Topic :: Scientific/Engineering",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Software Development :: User Interfaces",

]
dependencies = [
    "pydantic>=2.11.0",
    "tomli==2.0.1",
    "tomli-w==1.0.0",
    "PyYAML==6.0.1",
    "jsonschema>=4.19.1",
    "click==8.1.3",
    "rich>=13.4.2",
    "colorama==0.4.6",
]

[project.urls]
homepage = "https://github.com/prochain-star-atlas/starflow"
documentation = "https://prochain-star-atlas.github.io/starflow-docs/"
repository = "https://github.com/prochain-star-atlas/starflow"

[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
package-dir = { "" = "src" }

[tool.setuptools.packages.find]
where = ["src"]

[tool.setuptools.package-data]
starflow = [
    'cli/utils/config-starflow-local.toml',
    'cli/utils/docker-compose.yaml',
    'custom_operators/sidecar/sidecar_lifecycle.sh',
    'custom_operators/sidecar/rclone.conf',
    'custom_operators/sidecar/fuse.conf',
    'VERSION',
]

[tool.setuptools.dynamic]
version = { attr = "starflow.__version__" }
readme = { file = 'README.md', content-type = 'text/markdown' }

[project.scripts]
starflow = "starflow.cli.cli:cli"

[project.optional-dependencies]
cli = [
    "urllib3>=2.3.0",
    "cryptography>=44.0.0",
    "pyOpenSSL>=25.0.0",
    "PyGithub>=2.5.0",
    "docker>=7.1.0",
    "kubernetes>=32.0.0",
    "bottle>=0.13.2",
    "requests>=2.31.0",
    "python-keycloak==5.8.1"
]
airflow = [
    "apache-airflow==3.0.6",
    "apache-airflow-providers-cncf-kubernetes==10.8.0",
    "apache-airflow-providers-docker==4.4.2",
    "python-keycloak==5.2.0"
]
full = [
    "bottle>=0.13.2",
    "urllib3>=2.3.0",
    "cryptography>=44.0.0",
    "pyOpenSSL>=25.0.0",
    "PyGithub>=2.5.0",
    "docker>=7.1.0",
    "kubernetes==33.1.0",
    "apache-airflow==3.0.6",
    "apache-airflow-providers-cncf-kubernetes==10.8.0",
    "apache-airflow-providers-docker==4.4.2",
    "python-keycloak==5.8.1"
]
