pre-commit:
  parallel: true
  jobs:
    - name: format
      run: uv run ruff format .
      glob: "*.{py}"
      stage_fixed: true

    - name: lint
      run: uv run ruff check --fix .
      glob: "*.{py}"
      stage_fixed: true

    - name: typecheck
      run: uv run ty check .
      glob: "*.{py}"
# This need pytest, pytest-cov and pytest-xdist, install them and uncomment
# uv add pytest pytest-cov pytest-xdist
# pre-push:
#   jobs:
#     - name: pytest
#       run: uv run pytest -n auto tests --cov --cov-report=xml --cov-report=term

# This need commitlint, install it and uncomment
# uv add commitlint
# commit-msg:
#   jobs:
#     - name: check
#       run: uv run commitlint --file {1}
