<style>body,html{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;width:100%;height:100%;margin:0;padding:0;position:relative;text-align:center;background:#222}#dice-box{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;background-image:url(/public/assets/woodgrain2.jpg);background-size:cover}#dice-box canvas{width:100%;height:100%;z-index:1}#check-info{position:fixed;top:1rem;left:50%;transform:translateX(-50%);color:#aaa;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem}#check-info>*{margin:0}#result-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);z-index:10;font-size:3rem;font-weight:700;text-shadow:0 0 10px rgba(0,0,0,.7);transition:transform .3s ease-out;pointer-events:none;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}#result-modal.show{transform:translate(-50%,-50%) scale(1);animation:pulse 1.5s infinite alternate}.passed{color:#2ecc71;text-shadow:0 0 20px rgba(46,204,113,.8)}.failed{color:#e74c3c;text-shadow:0 0 20px rgba(231,76,60,.8)}#particles-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9}@keyframes pulse{0%{transform:translate(-50%,-50%) scale(1)}100%{transform:translate(-50%,-50%) scale(1.1)}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}</style><script type="module">import DiceBox from"https://unpkg.com/@3d-dice/dice-box-threejs@0.0.12/dist/dice-box-threejs.es.js";let dice="<<dice>>",roll=dice.split("@")[1].split(",").map(Number).reduce(((t,e)=>t+e),0),difficultyThreshold=Number("<<difficulty_class>>"),result="<<result>>",passed="passed"===result,Box=new DiceBox("#dice-box",{scale:5,throwForce:5,gravity:1,mass:1,spinForce:6});Box.initialize().then((async t=>{Box.roll(dice).then((()=>{showResultModal(passed)}))}));const colors=["#348888","#22BABB","#9EF8EE","#FA7F08","#F24405","#F25EB0","#B9BF04","#F2B705","#F27405","#F23005"];function get_random(t){return t[Math.floor(Math.random()*t.length)]}function showResultModal(t){let e=document.getElementById("particles-container");e||(e=document.createElement("div"),e.id="particles-container",document.body.appendChild(e));const a=document.createElement("div");a.id="result-modal",a.className=t?"passed":"failed",a.innerHTML=`\n  <span>${t?"PASSED":"FAILED"}</span>\n  <span>(${roll} vs ${difficultyThreshold})</span>\n      `,document.body.appendChild(a),createParticles(t,e),setTimeout((()=>{a.classList.add("show")}),500)}function createParticles(t,e){const a=t?["#2ecc71","#27ae60","#a9dfbf","#7dcea0","#1abc9c","#16a085","#76d7c4"]:["#e74c3c","#c0392b","#f5b7b1","#cd6155","#e67e22","#d35400","#f39c12"];e.style.position="relative",e.style.overflow="hidden",e.style.boxShadow=t?"0 0 20px rgba(46, 204, 113, 0.4)":"0 0 20px rgba(231, 76, 60, 0.4)";const n=document.createDocumentFragment(),o=document.createElement("style");o.type="text/css";let r="";r+=`\n      @keyframes background-pulse {\n        0%, 100% { background-color: ${t?"rgba(46, 204, 113, 0.02)":"rgba(231, 76, 60, 0.02)"}; }\n        50% { background-color: ${t?"rgba(46, 204, 113, 0.08)":"rgba(231, 76, 60, 0.08)"}; }\n      }\n    `,e.style.animation="background-pulse 3s infinite";const s=["50%","5%","30% 70% 70% 30% / 30% 30% 70% 70%","50% 50% 0 0","0 50% 50% 0"];for(let t=0;t<50;t++){const e=document.createElement("div"),o=80*Math.random()+10,l=Math.random()>.8;e.style.position="absolute",e.style.width=`${o}px`,e.style.height=`${o}px`;const c=a[Math.floor(Math.random()*a.length)];if(l){const t=Math.floor(360*Math.random()),n=a[Math.floor(Math.random()*a.length)];e.style.background=`linear-gradient(${t}deg, ${c}, ${n})`,e.style.borderRadius=s[Math.floor(Math.random()*s.length)],e.style.boxShadow=`0 0 ${8*Math.random()+3}px ${c}`}else e.style.backgroundColor=c,e.style.borderRadius=Math.random()>.3?"50%":s[Math.floor(Math.random()*s.length)],e.style.opacity=.7*Math.random()+.3;e.style.zIndex=Math.floor(10*Math.random());const d=30*(Math.random()-.5),i=30*(Math.random()-.5),m=2.5*(Math.random()-.5)*window.innerWidth,p=2.5*(Math.random()-.5)*window.innerHeight,h=d+(Math.random()-.5)*window.innerWidth*.5,y=i+(Math.random()-.5)*window.innerHeight*.5,u=2*Math.random()+.8,f=.2*Math.random(),$=["ease-out","cubic-bezier(0.25, 0.1, 0.25, 1)","cubic-bezier(0.34, 1.56, 0.64, 1)"][Math.floor(3*Math.random())];e.style.top="50%",e.style.left="50%",e.style.transform=`translate(calc(-50% + ${d}px), calc(-50% + ${i}px)) rotate(0deg)`,e.style.animation=`particle-animation-${t} ${u}s ${$} ${f}s forwards`;const x=Math.random()>.7,g=720*(Math.random()-.5);r+=x?`\n          @keyframes particle-animation-${t} {\n            0% {\n              transform: translate(calc(-50% + ${d}px), calc(-50% + ${i}px)) rotate(0deg) scale(1);\n              opacity: ${l?.9:.7};\n            }\n            50% {\n              opacity: ${l?.95:.5};\n              transform: translate(\n                calc(-50% + ${d}px + (${h}px - ${d}px) * 2),\n                calc(-50% + ${i}px + (${y}px - ${i}px) * 2)\n              ) rotate(${g/2}deg) scale(${.5*Math.random()+.8});\n            }\n            100% {\n              transform: translate(calc(-50% + ${m}px), calc(-50% + ${p}px)) rotate(${g}deg) scale(${.5*Math.random()+.2});\n              opacity: 0;\n            }\n          }\n        `:`\n          @keyframes particle-animation-${t} {\n            0% {\n              transform: translate(calc(-50% + ${d}px), calc(-50% + ${i}px)) rotate(0deg) scale(1);\n              opacity: ${l?.9:.7};\n            }\n            ${30*Math.random()+20}% {\n              opacity: ${l?.95:.6};\n              transform: translate(\n                calc(-50% + ${d}px + (${m}px - ${d}px) * 0.3),\n                calc(-50% + ${i}px + (${p}px - ${i}px) * 0.3)\n              ) rotate(${.3*g}deg) scale(${.4*Math.random()+1.1});\n            }\n            100% {\n              transform: translate(calc(-50% + ${m}px), calc(-50% + ${p}px)) rotate(${g}deg) scale(${.5*Math.random()+.2});\n              opacity: 0;\n            }\n          }\n        `,n.appendChild(e)}for(let t=0;t<12;t++){const e=document.createElement("div"),o=150*Math.random()+50,s=a[Math.floor(Math.random()*a.length)];e.style.position="absolute",e.style.width=`${o}px`,e.style.height=`${o}px`,e.style.borderRadius="50%",e.style.border=`1px solid ${s}`,e.style.backgroundColor="transparent",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%) scale(0)",e.style.opacity=.5;const l=.2*Math.random(),c=.6*Math.random()+.4;e.style.animation=`burst-animation-${t} ${c}s ease-out ${l}s forwards`,r+=`\n        @keyframes burst-animation-${t} {\n          0% {\n            transform: translate(-50%, -50%) scale(0);\n            opacity: 0.5;\n          }\n          70% {\n            opacity: 0.3;\n          }\n          100% {\n            transform: translate(-50%, -50%) scale(${1.5*Math.random()+1});\n            opacity: 0;\n          }\n        }\n      `,n.appendChild(e)}const l=document.createElement("div");l.style.position="absolute",l.style.width="100px",l.style.height="100px",l.style.borderRadius="50%",l.style.backgroundColor=t?"rgba(46, 204, 113, 0.2)":"rgba(231, 76, 60, 0.2)",l.style.boxShadow=t?"0 0 50px 25px rgba(46, 204, 113, 0.5)":"0 0 50px 25px rgba(231, 76, 60, 0.5)",l.style.top="50%",l.style.left="50%",l.style.transform="translate(-50%, -50%)",l.style.animation="central-glow 3s ease-in-out forwards",r+="\n      @keyframes central-glow {\n        0% {\n          transform: translate(-50%, -50%) scale(0.8);\n          opacity: 0.9;\n        }\n        40% {\n          transform: translate(-50%, -50%) scale(1.2);\n          opacity: 0.8;\n        }\n        100% {\n          transform: translate(-50%, -50%) scale(1.5);\n          opacity: 0;\n        }\n      }\n    ",n.appendChild(l),o.innerHTML=r,document.head.appendChild(o),e.appendChild(n),setTimeout((()=>{for(;e.firstChild;)e.removeChild(e.firstChild);document.head.removeChild(o)}),3500)}document.addEventListener("click",(t=>{const e=document.getElementById("result-modal");e&&(e.classList.remove("show"),setTimeout((()=>{e.remove()}),300));const a=document.getElementById("particles-container");a&&(a.innerHTML=""),Box.roll(dice)})),document.getElementById("skill-name").innerText="<<skill_name>>",document.getElementById("difficulty-class").innerText="<<difficulty_class>>"</script><div id="dice-box"></div><div id="check-info"><span>Skill check</span><h1 id="skill-name"></h1><span>Difficulty class</span><h1 id="difficulty-class"></h1></div><div id="particles-container"></div>