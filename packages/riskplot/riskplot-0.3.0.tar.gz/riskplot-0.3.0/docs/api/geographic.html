<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geographic API Reference - RiskPlot</title>
    <meta name="description" content="Complete API reference for RiskPlot geographic visualization functions">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-chart-line"></i>
                <a href="../index.html" style="text-decoration: none; color: inherit;">
                    <span>RiskPlot</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html" class="nav-link">Home</a></li>
                <li><a href="../index.html#features" class="nav-link">Features</a></li>
                <li><a href="../examples/" class="nav-link">Examples</a></li>
                <li><a href="https://github.com/OwenDinsmore/riskplot" class="nav-link" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Header -->
    <section class="api-header">
        <div class="container">
            <h1>Geographic API Reference</h1>
            <p class="api-subtitle">Complete reference for country visualization and geographic analysis functions</p>
        </div>
    </section>

    <!-- API Content -->
    <section class="api-content">
        <div class="container">
            <!-- Table of Contents -->
            <div class="api-toc">
                <h3>Contents</h3>
                <ul>
                    <li><a href="#country_choropleth_map">country_choropleth_map()</a></li>
                    <li><a href="#country_risk_globe">country_risk_globe()</a></li>
                    <li><a href="#regional_risk_heatmap">regional_risk_heatmap()</a></li>
                    <li><a href="#WorldMapPlot">WorldMapPlot</a></li>
                    <li><a href="#GlobeRiskPlot">GlobeRiskPlot</a></li>
                </ul>
            </div>

            <!-- Functions -->
            <div class="api-section" id="country_choropleth_map">
                <h2>country_choropleth_map()</h2>
                <p class="api-description">
                    Create a professional 2D choropleth world map for country data visualization.
                    This is the primary function for creating flat world maps with country-level data.
                </p>

                <div class="api-signature">
                    <h4>Signature</h4>
                    <pre><code class="language-python">country_choropleth_map(
    data,
    country_col='country',
    value_col='value',
    title='Country Risk Distribution',
    backend='plotly',
    color_scale='RdYlGn_r',
    **kwargs
)</code></pre>
                </div>

                <div class="api-parameters">
                    <h4>Parameters</h4>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>data</code></td>
                                <td>pd.DataFrame</td>
                                <td>Required</td>
                                <td>DataFrame containing country and value data</td>
                            </tr>
                            <tr>
                                <td><code>country_col</code></td>
                                <td>str</td>
                                <td>'country'</td>
                                <td>Column name containing country codes or names</td>
                            </tr>
                            <tr>
                                <td><code>value_col</code></td>
                                <td>str</td>
                                <td>'value'</td>
                                <td>Column name containing values to visualize</td>
                            </tr>
                            <tr>
                                <td><code>title</code></td>
                                <td>str</td>
                                <td>'Country Risk Distribution'</td>
                                <td>Map title</td>
                            </tr>
                            <tr>
                                <td><code>backend</code></td>
                                <td>str</td>
                                <td>'plotly'</td>
                                <td>Visualization backend: 'plotly' or 'matplotlib'</td>
                            </tr>
                            <tr>
                                <td><code>color_scale</code></td>
                                <td>str</td>
                                <td>'RdYlGn_r'</td>
                                <td>Color scale for the visualization</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="api-returns">
                    <h4>Returns</h4>
                    <p><strong>fig</strong> : plotly.graph_objects.Figure or matplotlib.figure.Figure</p>
                    <p>Interactive or static figure object ready for display or export</p>
                </div>

                <div class="api-example">
                    <h4>Example</h4>
                    <pre><code class="language-python">import riskplot
import pandas as pd

# Create sample data
data = pd.DataFrame({
    'country': ['USA', 'Germany', 'China', 'Japan'],
    'risk_score': [0.25, 0.18, 0.45, 0.22]
})

# Create map
fig = riskplot.country_choropleth_map(
    data,
    country_col='country',
    value_col='risk_score',
    title='Global Risk Assessment',
    width=1200,
    height=700
)

fig.show()</code></pre>
                </div>
            </div>

            <div class="api-section" id="country_risk_globe">
                <h2>country_risk_globe()</h2>
                <p class="api-description">
                    Create an interactive 3D globe visualization for country risk data.
                    Provides engaging 3D perspective perfect for presentations.
                </p>

                <div class="api-signature">
                    <h4>Signature</h4>
                    <pre><code class="language-python">country_risk_globe(
    data,
    country='country',
    risk='risk_score',
    title='Global Country Risk Distribution',
    **kwargs
)</code></pre>
                </div>

                <div class="api-parameters">
                    <h4>Parameters</h4>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>data</code></td>
                                <td>pd.DataFrame</td>
                                <td>Required</td>
                                <td>DataFrame containing country and risk data</td>
                            </tr>
                            <tr>
                                <td><code>country</code></td>
                                <td>str</td>
                                <td>'country'</td>
                                <td>Column name for country codes (ISO-3 recommended)</td>
                            </tr>
                            <tr>
                                <td><code>risk</code></td>
                                <td>str</td>
                                <td>'risk_score'</td>
                                <td>Column name for risk values</td>
                            </tr>
                            <tr>
                                <td><code>title</code></td>
                                <td>str</td>
                                <td>'Global Country Risk Distribution'</td>
                                <td>Globe title</td>
                            </tr>
                            <tr>
                                <td><code>center_lon</code></td>
                                <td>float</td>
                                <td>0</td>
                                <td>Center longitude for globe rotation</td>
                            </tr>
                            <tr>
                                <td><code>center_lat</code></td>
                                <td>float</td>
                                <td>0</td>
                                <td>Center latitude for globe rotation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="api-example">
                    <h4>Example</h4>
                    <pre><code class="language-python"># Create 3D globe
fig = riskplot.country_risk_globe(
    data,
    country='ISO_Code',
    risk='risk_score',
    title='Global Risk Assessment - 3D View',
    center_lon=0,
    center_lat=30
)

fig.show()</code></pre>
                </div>
            </div>

            <div class="api-section" id="regional_risk_heatmap">
                <h2>regional_risk_heatmap()</h2>
                <p class="api-description">
                    Create a heatmap showing countries grouped by regions for comparative analysis.
                </p>

                <div class="api-signature">
                    <h4>Signature</h4>
                    <pre><code class="language-python">regional_risk_heatmap(
    data,
    region_col='region',
    country_col='country',
    value_col='value',
    title='Regional Risk Heatmap',
    figsize=(12, 8)
)</code></pre>
                </div>

                <div class="api-parameters">
                    <h4>Parameters</h4>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>data</code></td>
                                <td>pd.DataFrame</td>
                                <td>Required</td>
                                <td>DataFrame with region, country, and value data</td>
                            </tr>
                            <tr>
                                <td><code>region_col</code></td>
                                <td>str</td>
                                <td>'region'</td>
                                <td>Column name for regions</td>
                            </tr>
                            <tr>
                                <td><code>country_col</code></td>
                                <td>str</td>
                                <td>'country'</td>
                                <td>Column name for countries</td>
                            </tr>
                            <tr>
                                <td><code>value_col</code></td>
                                <td>str</td>
                                <td>'value'</td>
                                <td>Column name for values</td>
                            </tr>
                            <tr>
                                <td><code>title</code></td>
                                <td>str</td>
                                <td>'Regional Risk Heatmap'</td>
                                <td>Plot title</td>
                            </tr>
                            <tr>
                                <td><code>figsize</code></td>
                                <td>tuple</td>
                                <td>(12, 8)</td>
                                <td>Figure size in inches</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Classes -->
            <div class="api-section" id="WorldMapPlot">
                <h2>WorldMapPlot</h2>
                <p class="api-description">
                    Advanced class for creating customizable 2D world map visualizations with multiple backend support.
                </p>

                <div class="api-signature">
                    <h4>Constructor</h4>
                    <pre><code class="language-python">WorldMapPlot(backend='plotly')</code></pre>
                </div>

                <div class="api-methods">
                    <h4>Methods</h4>

                    <div class="method">
                        <h5>plot_choropleth()</h5>
                        <p>Create a professional 2D choropleth world map.</p>
                        <pre><code class="language-python">plot_choropleth(
    data,
    country_col='country',
    value_col='value',
    title='Country Risk Map',
    color_scale='RdYlGn_r',
    show_borders=True,
    ocean_color='lightblue',
    missing_color='lightgray',
    **kwargs
)</code></pre>
                    </div>

                    <div class="method">
                        <h5>add_annotations()</h5>
                        <p>Add markers and annotations to the map.</p>
                        <pre><code class="language-python">add_annotations(
    annotations_data,
    lat_col='latitude',
    lon_col='longitude',
    text_col='text',
    marker_size=8,
    marker_color='red'
)</code></pre>
                    </div>

                    <div class="method">
                        <h5>save()</h5>
                        <p>Save the map to file in various formats.</p>
                        <pre><code class="language-python">save(filename, **kwargs)</code></pre>
                    </div>

                    <div class="method">
                        <h5>show()</h5>
                        <p>Display the interactive map.</p>
                        <pre><code class="language-python">show()</code></pre>
                    </div>
                </div>

                <div class="api-example">
                    <h4>Advanced Example</h4>
                    <pre><code class="language-python"># Advanced customization
world_map = riskplot.WorldMapPlot(backend='plotly')

# Create custom map
fig = world_map.plot_choropleth(
    data,
    country_col='country',
    value_col='risk_score',
    title='Advanced Risk Assessment',
    color_scale='Viridis',
    show_borders=True,
    ocean_color='lightsteelblue',
    width=1200,
    height=800
)

# Add city markers
cities = pd.DataFrame({
    'latitude': [40.7, 51.5, 35.7],
    'longitude': [-74.0, -0.1, 139.7],
    'text': ['New York', 'London', 'Tokyo']
})

world_map.add_annotations(cities, marker_color='red', marker_size=10)

# Save in multiple formats
world_map.save('risk_map.html')
world_map.save('risk_map.png')
world_map.show()</code></pre>
                </div>
            </div>

            <div class="api-section" id="GlobeRiskPlot">
                <h2>GlobeRiskPlot</h2>
                <p class="api-description">
                    Advanced class for creating interactive 3D globe visualizations with connection mapping capabilities.
                </p>

                <div class="api-signature">
                    <h4>Constructor</h4>
                    <pre><code class="language-python">GlobeRiskPlot()</code></pre>
                </div>

                <div class="api-methods">
                    <h4>Methods</h4>

                    <div class="method">
                        <h5>plot()</h5>
                        <p>Create basic globe visualization.</p>
                        <pre><code class="language-python">plot(
    data,
    country='country',
    value='value',
    title='Global Risk Distribution',
    color_scale='RdYlGn_r',
    **kwargs
)</code></pre>
                    </div>

                    <div class="method">
                        <h5>plot_connections()</h5>
                        <p>Create globe with connection lines between countries.</p>
                        <pre><code class="language-python">plot_connections(
    data,
    src_country='source_country',
    tgt_country='target_country',
    strength='strength',
    src_lat='source_lat',
    src_lon='source_lon',
    tgt_lat='target_lat',
    tgt_lon='target_lon',
    title='Global Risk Connections',
    **kwargs
)</code></pre>
                    </div>

                    <div class="method">
                        <h5>plot_time_series()</h5>
                        <p>Create animated globe showing data evolution over time.</p>
                        <pre><code class="language-python">plot_time_series(
    data,
    country_col='country',
    value_col='value',
    time_col='date',
    title='Global Risk Over Time',
    **kwargs
)</code></pre>
                    </div>
                </div>
            </div>

            <!-- Color Scales -->
            <div class="api-section" id="color_scales">
                <h2>Color Scales</h2>
                <p class="api-description">Recommended color scales for different types of risk data:</p>

                <div class="color-guide">
                    <div class="color-item">
                        <h4>RdYlGn_r</h4>
                        <p><strong>Use for:</strong> Risk scores, default for most risk visualizations</p>
                        <p><strong>Scale:</strong> Red (high risk) → Yellow (medium) → Green (low risk)</p>
                    </div>
                    <div class="color-item">
                        <h4>RdYlGn</h4>
                        <p><strong>Use for:</strong> Performance scores, ESG ratings</p>
                        <p><strong>Scale:</strong> Green (good) → Yellow (medium) → Red (poor)</p>
                    </div>
                    <div class="color-item">
                        <h4>Viridis</h4>
                        <p><strong>Use for:</strong> General data visualization, colorblind-friendly</p>
                        <p><strong>Scale:</strong> Purple → Blue → Green → Yellow</p>
                    </div>
                    <div class="color-item">
                        <h4>Blues</h4>
                        <p><strong>Use for:</strong> Economic indicators, growth rates</p>
                        <p><strong>Scale:</strong> Light blue → Dark blue</p>
                    </div>
                </div>
            </div>

            <!-- Country Code Support -->
            <div class="api-section" id="country_codes">
                <h2>Country Code Support</h2>
                <p class="api-description">RiskPlot automatically handles multiple country code formats:</p>

                <div class="code-formats">
                    <div class="format-item">
                        <h4>ISO-3 Codes (Recommended)</h4>
                        <p>USA, GBR, DEU, CHN, JPN, FRA, etc.</p>
                    </div>
                    <div class="format-item">
                        <h4>ISO-2 Codes</h4>
                        <p>US, GB, DE, CN, JP, FR, etc.</p>
                    </div>
                    <div class="format-item">
                        <h4>Country Names</h4>
                        <p>United States, United Kingdom, Germany, China, etc.</p>
                    </div>
                    <div class="format-item">
                        <h4>Common Abbreviations</h4>
                        <p>UK → United Kingdom, USA → United States</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>RiskPlot</h3>
                    <p>Professional risk visualization for Python</p>
                </div>
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul>
                        <li><a href="../examples/">Examples</a></li>
                        <li><a href="../api/">API Reference</a></li>
                        <li><a href="../guides/">Guides</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Community</h4>
                    <ul>
                        <li><a href="https://github.com/OwenDinsmore/riskplot/issues">Issues</a></li>
                        <li><a href="https://github.com/OwenDinsmore/riskplot">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>