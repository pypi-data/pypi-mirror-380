####################################
 Opencell Integration - SomConnexio
####################################

..
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:1614423d340008335f552b55056ced34554a9187993e584db2ccb85c9738b530
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
   :alt: Beta
   :target: https://odoo-community.org/page/development-status

.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
   :alt: License: AGPL-3
   :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html

.. |badge3| image:: https://img.shields.io/badge/gitlab-coopdevs%2Fodoo--somconnexio-lightgray.png?logo=gitlab
   :alt: coopdevs/som-connexio/odoo-somconnexio
   :target: https://git.coopdevs.org/coopdevs/som-connexio/odoo-somconnexio

|badge1| |badge2| |badge3|

This module is a part of SomConnexió original module.

We are working to separate the monolitic original module in small
modules splited by functionalities.

This module manage the integration between Odoo an OpenCell.

OpenCell is the billing system used in Som Connexió. We use this module
to synchronize the customers and contracts from Odoo to OpenCell and to
import the invoices from OpenCell to Odoo.

Using listeners, we observe the contract and res_partner models and if a
new is created or is updated with a field related with the invoice
process, a job is generated to call OpenCell to create or update the
related object, using the reference of Odoo as identifier in OpenCell.

Objects integrated (Odoo -> OpenCell):

-  ResPartner -> Customer / CRMAccountHierarchy
-  Contract -> Subscription
-  ContractInfo (ISP Info) -> Access
-  Product -> Service / OneShot

**Table of contents**

.. contents::
   :local:

***************
 Configuration
***************

To configure the integration between Odoo and OpenCell you need to
expose in the Odoo environment the next variables used to access the
OpenCell API:

.. code:: bash

   export OPENCELL_BASEURL="https://opencell.organization.org/"
   export OPENCELL_USER="opencell_user"
   export OPENCELL_PASSWORD='opencell_password'

Then, create and configure the Seller and the Client category in
OpenCell and update the Odoo configuration settings
``opencell_seller_code`` and ``opencell_customer_category_code``.

Products
========

To integrate the products between the envrionments, the CODE of the
product in OpenCell must exist in Odoo as Product default code of a
product.

OpenCell Product Code <==> Odoo Product Default Code

*******
 Usage
*******

The usage is full integrated with the ORM of Odoo using listeners.

More info about the listeners:
https://odoo-connector.com/api/api_components.html#listeners

**************
 Contributors
**************

-  ``Som Connexió SCCL <https://somconnexio.coop/>``

   -  Gerard Funonsas gerard.funosas@somconnexio.coop
   -  Borja Gimeno borja.gimeno@somconnexio.coop

-  ``Coopdevs Treball SCCL <https://coopdevs.coop/>``

   -  Daniel Palomar daniel.palomar@coopdevs.org
   -  Cesar Lopez cesar.lopez@coopdevs.org
   -  Carla Berenguer carla.berenguer@coopdevs.org
